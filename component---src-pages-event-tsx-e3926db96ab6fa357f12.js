(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{KEox:function(e,t,r){"use strict";var n=r("pVnL"),a=r.n(n),u=r("8OQS"),c=r.n(u),i=r("qKvR"),o=r("BMxC"),s=r("q1tI"),l=Object(s.forwardRef)((function(e,t){var r=e.orientation,n=c()(e,["orientation"]),u="vertical"===r?{borderLeft:"0.0625rem solid",height:"auto",mx:2}:{borderBottom:"0.0625rem solid",width:"auto",my:2};return Object(i.d)(o.a,a()({ref:t,as:"hr","aria-orientation":r,border:"0",opacity:"0.6"},u,{borderColor:"inherit"},n))}));t.a=l},RV9o:function(e){e.exports=JSON.parse('[{"label":"Crisis","value":"Crisis"},{"label":"General","value":"General"},{"label":"Monitoring","value":"Monitoring"}]')},nB9M:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return u}));r("91GP");var n=r("q1tI"),a=function(e,t,r){var n;if("undefined"!=typeof window){var a=window.sessionStorage.getItem(e),u=a&&JSON.parse(a);n=u&&t?u[t]:u}return n||r},u=function(e,t){var r=Object(n.useState)((function(){var t,r;if("undefined"!=typeof window){var n=window.sessionStorage.getItem(e);r=n&&JSON.parse(n)}return null!==(t=r)&&void 0!==t?t:{}})),a=r[0],u=r[1];Object(n.useEffect)((function(){window.sessionStorage.setItem(e,JSON.stringify(a))}),[a,e]),Object(n.useEffect)((function(){var t=function(){return window.sessionStorage.removeItem(e)};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e]);return[t?a[t]:a,function(e){u(t?function(r){var n;return Object.assign({},r,((n={})[t]=e,n))}:e)}]}},o0pm:function(e){e.exports=JSON.parse('[{"label":"","value":"NONE"},{"label":"Authorized","value":"ADEP"},{"label":"Ordered","value":"ODEP"}]')},rZ4P:function(e){e.exports=JSON.parse('[{"label":"Monitoring Group","value":"mg"},{"label":"Working Group","value":"wg"},{"label":"Task Force","value":"tf"}]')},xZ9P:function(e,t,r){"use strict";r.r(t);r("dRSK");var n=r("q1tI"),a=r.n(n),u=r("wd/R"),c=r.n(u),i=r("nB9M"),o=(r("rGqo"),r("yt8O"),r("Btvt"),r("RW0V"),r("pIFo"),r("91GP"),r("69N/")),s=r("BMxC"),l=r("KEox"),f=r("ggNy");var d=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,a={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["children"]);return a.a.createElement(o.a,Object.assign({as:"form",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:["repeat(4, 1fr)","repeat(4, 1fr)","repeat(4, 1fr)","repeat(8, 1fr)","repeat(12, 1fr)"]},r),t)},v=function(e){return a.a.createElement(o.a,{as:"section",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:["repeat(4, 1fr)","repeat(4, 1fr)","repeat(4, 1fr)","repeat(8, 1fr)","repeat(12, 1fr)"]},a.a.createElement(s.a,{marginBottom:"4",gridColumn:"1 / -1"},a.a.createElement(f.k,null,e.title)),e.children,e.showDivider&&a.a.createElement(s.a,{gridColumn:{base:"1 / -1"}},a.a.createElement(l.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})))},m=a.a.createContext(null);m.displayName="CTFFormContext";var b=function(){return Object(n.useContext)(m)},p=function(e){var t=e.formMode,r={formMode:t,isCreate:"create"===t,isEdit:"edit"===t,isView:"view"===t};return a.a.createElement(m.Provider,{value:r},e.children)},g=function(e){return e&&e.replace(/[\u2018\u2019\u201A]/g,"'").replace(/[\u201C\u201D\u201E]/g,'"').replace(/[\u2013\u2014]/g,"-")},O=(r("INYr"),r("Wbzz")),h=r("XZ7F"),E=r("Weur"),j=function(e){return a.a.createElement(f.p,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"sm"},a.a.createElement(f.t,null,a.a.createElement(f.m,null,"Leave Page?")),a.a.createElement(f.r,null),a.a.createElement(f.q,null,a.a.createElement(f.u,null,"Do you want to leave this page and lose unsaved data?")),a.a.createElement(f.s,null,a.a.createElement(E.a,{align:"center"},a.a.createElement(s.a,{marginRight:"20"},a.a.createElement(f.o,{onClick:e.onLeave},"Leave")),a.a.createElement(f.b,{size:"sm",onClick:e.onClose},"Stay"))))},x=r("wx14"),y=r("Ff2n"),D=r("iuhU"),k=r("H2TA"),C=r("NqtD");function S(e){var t,r,n;return t=e,r=0,n=1,e=(Math.min(Math.max(r,t),n)-r)/(n-r),e=(e-=1)*e*e+1}var R=n.forwardRef((function(e,t){var r,a=e.classes,u=e.className,c=e.color,i=void 0===c?"primary":c,o=e.disableShrink,s=void 0!==o&&o,l=e.size,f=void 0===l?40:l,d=e.style,v=e.thickness,m=void 0===v?3.6:v,b=e.value,p=void 0===b?0:b,g=e.variant,O=void 0===g?"indeterminate":g,h=Object(y.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),E={},j={},k={};if("determinate"===O||"static"===O){var R=2*Math.PI*((44-m)/2);E.strokeDasharray=R.toFixed(3),k["aria-valuenow"]=Math.round(p),"static"===O?(E.strokeDashoffset="".concat(((100-p)/100*R).toFixed(3),"px"),j.transform="rotate(-90deg)"):(E.strokeDashoffset="".concat((r=(100-p)/100,r*r*R).toFixed(3),"px"),j.transform="rotate(".concat((270*S(p/70)).toFixed(3),"deg)"))}return n.createElement("div",Object(x.a)({className:Object(D.a)(a.root,u,"inherit"!==i&&a["color".concat(Object(C.a)(i))],{indeterminate:a.indeterminate,static:a.static}[O]),style:Object(x.a)({width:f,height:f},j,d),ref:t,role:"progressbar"},k,h),n.createElement("svg",{className:a.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},n.createElement("circle",{className:Object(D.a)(a.circle,s&&a.circleDisableShrink,{indeterminate:a.circleIndeterminate,static:a.circleStatic}[O]),style:E,cx:44,cy:44,r:(44-m)/2,fill:"none",strokeWidth:m})))})),w=Object(k.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(R),T=function(){return a.a.createElement(s.a,{color:"clickable"},a.a.createElement(w,{color:"inherit",size:48,thickness:7.5}))},V=function(e){return a.a.createElement(f.p,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"sm"},a.a.createElement(f.t,null,a.a.createElement(f.m,null,"Please Wait...")),a.a.createElement(f.q,null,a.a.createElement(E.a,{align:"center"},a.a.createElement(s.a,{color:"clickable"},a.a.createElement(T,null)),a.a.createElement(s.a,{pl:"24"},a.a.createElement(f.u,null,"Saving your information")))))},I=(r("rE2o"),r("HEwt"),r("HAE/"),r("bHtr"),r("eM6i"),r("ioFf"),r("hhXQ"),r("SRfc"),r("VRzm"),r("Z2Ku"),r("L9s1"),r("XfO3"),r("T39b"),r("dZ+Y"),r("V+eJ"),r("o0o1")),F=r.n(I);r("a1Th"),r("h7Nl"),r("2Spj"),r("ls82");function A(e,t,r,n,a,u,c){try{var i=e[u](c),o=i.value}catch(s){return void r(s)}i.done?t(o):Promise.resolve(o).then(n,a)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var u=e.apply(t,r);function c(e){A(u,n,a,c,i,"next",e)}function i(e){A(u,n,a,c,i,"throw",e)}c(void 0)}))}}r("Oyvg"),r("9VmF"),r("8+KV"),r("f3/d");var M=r("KQm4"),N=(r("bWfx"),r("KKXr"),r("0l/t"),r("rePB")),B=r("ODXe");r("/8Fb"),r("DNiP"),r("LK8F");var P=function(e){return e instanceof HTMLElement},z="blur",q="change",W="input",G="onBlur",H="onChange",Z="onSubmit",$="all",K="max",J="min",U="maxLength",Y="minLength",X="pattern",_="required",Q="validate";function ee(e){var t=e.field.ref,r=e.handleChange,n=e.isRadioOrCheckbox;P(t)&&r&&(t.addEventListener(n?q:W,r),t.addEventListener(z,r))}var te=function(e){return null==e},re=function(e){return Array.isArray(e)},ne=function(e){return"object"==typeof e},ae=function(e){return!te(e)&&!re(e)&&ne(e)},ue=function(e){return!re(e)&&(/^\w*$/.test(e)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(e))},ce=function(e){var t=[];return e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,(function(e,r,n,a){t.push(n?a.replace(/\\(\\)?/g,"$1"):r||e)})),t};function ie(e,t,r){for(var n=-1,a=ue(t)?[t]:ce(t),u=a.length,c=u-1;++n<u;){var i=a[n],o=r;if(n!==c){var s=e[i];o=ae(s)||re(s)?s:isNaN(+a[n+1])?{}:[]}e[i]=o,e=e[i]}return e}var oe=function(e){return Object.entries(e).reduce((function(e,t){var r=Object(B.a)(t,2),n=r[0],a=r[1];return ue(n)?Object.assign(Object.assign({},e),Object(N.a)({},n,a)):(ie(e,n,a),e)}),{})},se=function(e){return void 0===e},le=function(e){return e.filter(Boolean)},fe=function(e,t,r){var n=le(t.split(/[,[\].]+?/)).reduce((function(e,t){return te(e)?e:e[t]}),e);return se(n)||n===e?se(e[t])?r:e[t]:n},de=function(e,t){for(var r in e)if(fe(t,r)){var n=e[r];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}},ve=function(e,t){P(e)&&e.removeEventListener&&(e.removeEventListener(W,t),e.removeEventListener(q,t),e.removeEventListener(z,t))},me={isValid:!1,value:""},be=function(e){return re(e)?e.reduce((function(e,t){return t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e}),me):me},pe=function(e){return"radio"===e.type},ge=function(e){return"file"===e.type},Oe=function(e){return"checkbox"===e.type},he=function(e){return e.type==="".concat("select","-multiple")},Ee=function(e){return""===e},je={value:!1,isValid:!1},xe={value:!0,isValid:!0},ye=function(e){if(re(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:t,isValid:!!t.length}}var r=e[0].ref,n=r.checked,a=r.value,u=r.attributes;return n?u&&!se(u.value)?se(a)||Ee(a)?xe:{value:a,isValid:!0}:xe:je}return je};function De(e,t){if(e[t]){var r=e[t],n=r.ref.value,a=r.ref;return ge(a)?a.files:pe(a)?r?be(r.options).value:"":he(a)?(u=a.options,Object(M.a)(u).filter((function(e){return e.selected})).map((function(e){return e.value}))):Oe(a)?!!r&&ye(r.options).value:n}var u}function ke(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&ke(e.parentNode)}var Ce=function(e){return ae(e)&&!Object.keys(e).length};function Se(e,t){var r=ue(t)?[t]:ce(t),n=1==r.length?e:function(e,t){for(var r=t.slice(0,-1).length,n=0;n<r;)e=se(e)?n++:e[t[n++]];return n==r?e:void 0}(e,r),a=r[r.length-1],u=void 0;n&&delete n[a];for(var c=0;c<r.slice(0,-1).length;c++){var i=-1,o=void 0,s=r.slice(0,-(c+1)),l=s.length-1;for(c>0&&(u=e);++i<s.length;){var f=s[i];o=o?o[f]:e[f],l===i&&(ae(o)&&Ce(o)||re(o)&&!o.filter((function(e){return ae(e)&&!Ce(e)})).length)&&(u?delete u[f]:delete e[f]),u=o}}return e}var Re=function(e,t){return e&&e.ref===t};function we(e,t,r,n,a,u){var c=r.ref,i=r.ref,o=i.name,s=i.type,l=r.mutationWatcher,f=e[o];if(!a){var d=De(e,o);se(d)||(n.current[o]=d)}if(s)if((pe(c)||Oe(c))&&f){var v=f.options;re(v)&&v.length?(le(v).forEach((function(e,r){var n=e.ref,a=e.mutationWatcher;(n&&ke(n)&&Re(e,n)||u)&&(ve(n,t),a&&a.disconnect(),Se(v,"[".concat(r,"]")))})),v&&!le(v).length&&delete e[o]):delete e[o]}else(ke(c)&&Re(f,c)||u)&&(ve(c,t),l&&l.disconnect(),delete e[o]);else delete e[o]}var Te=function(e){return"string"==typeof e},Ve=function(e,t){var r={},n=function(n){(se(t)||(Te(t)?n.startsWith(t):re(t)&&t.find((function(e){return n.startsWith(e)}))))&&(r[n]=De(e,n))};for(var a in e)n(a);return r},Ie=function(e,t){var r=t.type,n=t.types,a=t.message;return ae(e)&&e.type===r&&e.message===a&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(e);return r.length===Object.keys(t).length&&r.every((function(r){return t[r]&&t[r]===e[r]}))}(e.types,n)};function Fe(e){var t=e.errors,r=e.name,n=e.error,a=e.validFields,u=e.fieldsWithValidation,c=Ce(n),i=Ce(t),o=fe(n,r),s=fe(t,r);return(!c||!a.has(r))&&(!!(i!==c||!i&&!s||c&&u.has(r)&&!a.has(r))||o&&!Ie(s,o))}var Ae=function(e){return e instanceof RegExp},Le=function(e){return ae(t=e)&&!Ae(t)?e:{value:e,message:""};var t},Me=function(e){return"function"==typeof e},Ne=function(e){return"boolean"==typeof e},Be=function(e){return Te(e)||ae(e)&&Object(n.isValidElement)(e)};function Pe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Be(e)||Ne(e)&&!e)return{type:r,message:Be(e)?e:"",ref:t}}var ze=function(e,t,r,n,a){if(t){var u=r[e];return Object.assign(Object.assign({},u),{types:Object.assign(Object.assign({},u&&u.types?u.types:{}),Object(N.a)({},n,a||!0))})}return{}},qe=function(){var e=L(F.a.mark((function e(t,r,n){var a,u,c,i,o,s,l,f,d,v,m,b,p,g,O,h,E,j,x,y,D,k,C,S,R,w,T,V,I,A,L,M,N,P,z,q,W,G,H,Z,$,ee,re,ne,ue,ce,ie,oe,se,le,fe,de,ve,me,ge,he,je,xe,ke;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.ref,u=n.ref,c=u.type,i=u.value,o=n.options,s=n.required,l=n.maxLength,f=n.minLength,d=n.min,v=n.max,m=n.pattern,b=n.validate,g=t.current,O=a.name,h={},E=pe(a),j=Oe(a),x=E||j,y=Ee(i),D=ze.bind(null,O,r,h),k=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Y,c=e?t:r;h[O]=Object.assign({type:e?n:u,message:c,ref:a},D(e?n:u,c))},!s||!(!E&&!j&&(y||te(i))||Ne(i)&&!i||j&&!ye(o).isValid||E&&!be(o).isValid)){e.next=16;break}if(C=Be(s)?{value:!!s,message:s}:Le(s),S=C.value,R=C.message,!S){e.next=16;break}if(h[O]=Object.assign({type:_,message:R,ref:x?null===(p=g[O].options)||void 0===p?void 0:p[0].ref:a},D(_,R)),r){e.next=16;break}return e.abrupt("return",h);case 16:if(te(d)&&te(v)){e.next=24;break}if(V=Le(v),I=V.value,A=V.message,L=Le(d),M=L.value,N=L.message,"number"===c||!c&&!isNaN(i)?(P=a.valueAsNumber||parseFloat(i),te(I)||(w=P>I),te(M)||(T=P<M)):(z=a.valueAsDate||new Date(i),Te(I)&&(w=z>new Date(I)),Te(M)&&(T=z<new Date(M))),!w&&!T){e.next=24;break}if(k(!!w,A,N,K,J),r){e.next=24;break}return e.abrupt("return",h);case 24:if(!Te(i)||y||!l&&!f){e.next=34;break}if(q=Le(l),W=q.value,G=q.message,H=Le(f),Z=H.value,$=H.message,ee=i.toString().length,re=!te(W)&&ee>W,ne=!te(Z)&&ee<Z,!re&&!ne){e.next=34;break}if(k(!!re,G,$),r){e.next=34;break}return e.abrupt("return",h);case 34:if(!m||y){e.next=40;break}if(ue=Le(m),ce=ue.value,ie=ue.message,!Ae(ce)||ce.test(i)){e.next=40;break}if(h[O]=Object.assign({type:X,message:ie,ref:a},D(X,ie)),r){e.next=40;break}return e.abrupt("return",h);case 40:if(!b){e.next=73;break}if(oe=De(g,O),se=x&&o?o[0].ref:a,!Me(b)){e.next=54;break}return e.next=46,b(oe);case 46:if(le=e.sent,!(fe=Pe(le,se))){e.next=52;break}if(h[O]=Object.assign(Object.assign({},fe),D(Q,fe.message)),r){e.next=52;break}return e.abrupt("return",h);case 52:e.next=73;break;case 54:if(!ae(b)){e.next=73;break}de={},ve=0,me=Object.entries(b);case 57:if(!(ve<me.length)){e.next=69;break}if(ge=Object(B.a)(me[ve],2),he=ge[0],je=ge[1],Ce(de)||r){e.next=61;break}return e.abrupt("break",69);case 61:return e.next=63,je(oe);case 63:xe=e.sent,(ke=Pe(xe,se,he))&&(de=Object.assign(Object.assign({},ke),D(he,ke.message)),r&&(h[O]=de));case 66:ve++,e.next=57;break;case 69:if(Ce(de)){e.next=73;break}if(h[O]=Object.assign({ref:se},de),r){e.next=73;break}return e.abrupt("return",h);case 73:return e.abrupt("return",h);case 74:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),We=function(e){return te(e)||!ne(e)},Ge=function(e,t){return function e(t,r){var n=function(r,n,a){var u=a?"".concat(t,".").concat(n):"".concat(t,"[").concat(n,"]");return We(r)?u:e(u,r)};return re(r)?r.map((function(e,t){return n(e,t)})):Object.entries(r).map((function(e){var t=Object(B.a)(e,2),r=t[0],a=t[1];return n(a,r,!0)}))}(e,t).flat(1/0)},He=function(e,t,r,n,a){var u;return r.add(t),Ce(e)?u=void 0:se(e[t])?(u=fe(oe(e),t),se(u)||Ge(t,u).forEach((function(e){return r.add(e)}))):u=e[t],se(u)?a?n:fe(n,t):u},Ze=function(e){var t=e.isOnChange,r=e.hasError,n=e.isBlurEvent,a=e.isOnSubmit,u=e.isReValidateOnSubmit,c=e.isOnBlur,i=e.isReValidateOnBlur,o=e.isSubmitted;return t&&n||a&&u||a&&!o||c&&!n&&!r||i&&!n&&r||u&&o},$e=function(e){return e.substring(0,e.indexOf("["))},Ke=function(e,t){var r=oe(Ve(e));return t?fe(r,t,r):r};function Je(e,t){if(!re(e)||!re(t)||e.length!==t.length)return!0;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(se(a)||Object.keys(n).length!==Object.keys(a).length)return!0;for(var u in n)if(n[u]!==a[u])return!0}return!1}var Ue=function(e,t){return RegExp("^".concat(t,"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},Ye=function(e,t){return Object(M.a)(e).some((function(e){return Ue(t,e)}))},Xe=function(e){return e.type==="".concat("select","-one")};function _e(e,t){var r=new MutationObserver((function(){ke(e)&&(r.disconnect(),t())}));return r.observe(window.document,{childList:!0,subtree:!0}),r}var Qe=function(e){return{isOnSubmit:!e||e===Z,isOnBlur:e===G,isOnChange:e===H,isOnAll:e===$}},et=function(e){return pe(e)||Oe(e)};function tt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}var rt=Object(n.createContext)(null);rt.displayName="RHFContext";var nt=function(){return Object(n.useContext)(rt)},at=function(e){var t=e.children,r=tt(e,["children"]);return Object(n.createElement)(rt.Provider,{value:Object.assign({},r)},t)},ut=function(){var e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))};function ct(e){var t=e.control,r=e.name,a=e.defaultValue,u=nt(),c=t||u.control,i=c.watchFieldsHookRef,o=c.watchFieldsHookRenderRef,s=c.watchInternal,l=c.defaultValuesRef,f=Object(n.useState)(se(a)?Te(r)?fe(l.current,r):re(r)?r.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(N.a)({},t,fe(l.current,t)))}),{}):l.current:a),d=Object(B.a)(f,2),v=d[0],m=d[1],b=Object(n.useRef)(),p=Object(n.useRef)(a),g=Object(n.useRef)(r),O=Object(n.useCallback)((function(){return m(s(g.current,p.current,b.current))}),[m,s,p,g,b]);return Object(n.useEffect)((function(){var e=b.current=ut(),t=o.current,r=i.current;return r[e]=new Set,t[e]=O,s(g.current,p.current,e),function(){delete r[e],delete t[e]}}),[g,O,o,i,s,p]),se(v)?a:v}var it=function(e){var t=e.name,r=e.rules,a=e.as,u=e.render,c=e.defaultValue,i=e.control,o=e.onFocus,s=tt(e,["name","rules","as","render","defaultValue","control","onFocus"]),l=nt(),f=i||l.control,d=f.defaultValuesRef,v=f.setValue,m=f.register,b=f.unregister,p=f.errorsRef,g=f.trigger,O=f.mode,h=O.isOnSubmit,E=O.isOnBlur,j=O.isOnChange,x=f.reValidateMode,y=x.isReValidateOnBlur,D=x.isReValidateOnSubmit,k=f.isSubmittedRef,C=f.touchedFieldsRef,S=f.readFormStateRef,R=f.reRender,w=f.fieldsRef,T=f.fieldArrayNamesRef,V=f.unmountFieldsStateRef,I=f.formState,F=!Ye(T.current,t),A=function(){return!se(V.current[t])&&F?V.current[t]:se(c)?fe(d.current,t):c},L=Object(n.useState)(A()),M=Object(B.a)(L,2),P=M[0],z=M[1],q=Object(n.useRef)(P),W=Ne(P),G=Object(n.useRef)(o),H=k.current,Z=function(){return!Ze({hasError:!!fe(p.current,t),isOnBlur:E,isOnSubmit:h,isOnChange:j,isReValidateOnBlur:y,isReValidateOnSubmit:D,isSubmitted:H})},$=function(e){var t=function(e,t){return We(e)||!ae(e.target)||ae(e.target)&&!e.type?e:t||se(e.target.value)?e.target.checked:e.target.value}(e[0],W);return z(t),q.current=t,t},K=Object(n.useCallback)((function(){w.current[t]?w.current[t]=Object.assign({ref:w.current[t].ref},r):m(Object.defineProperty({name:t,focus:G.current},"value",{set:function(e){z(e),q.current=e},get:function(){return q.current}}),r)}),[w,r,t,G,m]);Object(n.useEffect)((function(){return function(){!Ye(T.current,t)&&b(t)}}),[b,t,T]),Object(n.useEffect)((function(){K()}),[K]),Object(n.useEffect)((function(){w.current[t]||(K(),F&&z(A()))}));var J=function(){S.current.touched&&!fe(C.current,t)&&(ie(C.current,t,!0),R()),(E||I.isSubmitted&&y)&&g(t)},U=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return v(t,$(r),{shouldValidate:Z(),shouldDirty:!0})},Y=Object.assign(Object.assign(Object.assign({},s),{onChange:U,onBlur:J}),Object(N.a)({},W?"checked":"value",P));return a?Object(n.isValidElement)(a)?Object(n.cloneElement)(a,Y):Object(n.createElement)(a,Y):u?u({onChange:U,onBlur:J,value:P}):null},ot=r("soUV"),st=r("o0pm"),lt=function(e){var t,r,u,c=nt(),i=c.register,l=c.formState,d=c.errors,m=c.setValue,p=c.getValues,O=e.savedEvent,h=Object(n.useRef)(null),E=Object(n.useRef)(null),j=Object(n.useRef)(null),x=Object(n.useRef)(null);Object(n.useEffect)((function(){i({name:"evacStatusCode"})}),[i]),Object(n.useEffect)((function(){d.evacStatusCode&&h.current&&h.current.focus()}));var y=ct({name:"evacStatusCode"}),D=b(),k=D.isCreate,C=D.isView,S=D.isEdit,R=l.dirtyFields;return a.a.createElement(v,{title:"Evacuation Details"},a.a.createElement(s.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 3"}},a.a.createElement(f.i,{labelText:"Evacuation Status",labelId:"evacStatusCodeLabel"},a.a.createElement(f.v,{ref:h,id:"evacStatusCode",name:"evacStatusCode",options:st,size:"full",placeholder:"",disabled:C,value:C||S?null==O?void 0:O.evacStatusCode:"NONE",validationState:(null==d?void 0:d.evacStatusCode)?f.A.ERROR:void 0,errorMessage:null==d||null===(t=d.evacStatusCode)||void 0===t?void 0:t.message,onChange:function(e){var t,r=null===(t=e.selectedItem)||void 0===t?void 0:t.value;m("evacStatusCode",r,{shouldDirty:!0}),"ADEP"!==r||p("evacDepAuthDate")?"ODEP"!==r||p("evacDepOrdDate")?"NONE"===r&&(k&&!R.evacDepOrdDate&&m("evacDepOrdDate",""),k&&!R.evacDepAuthDate&&m("evacDepAuthDate","")):(m("evacDepOrdDate",new Date),k&&!R.evacDepAuthDate&&m("evacDepAuthDate","")):(m("evacDepAuthDate",new Date),k&&!R.evacDepOrdDate&&m("evacDepOrdDate",""))}}))),a.a.createElement(o.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 9"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(2,max-content)"}},a.a.createElement(f.i,{labelText:"Departure Authorized",labelId:"evacDepAuthDateLabel"},a.a.createElement(it,{as:a.a.createElement(f.g,null),id:"evacDepAuthDate",name:"evacDepAuthDate",inputRef:E,onFocus:function(){var e;return null===(e=E.current)||void 0===e?void 0:e.focus()},disabled:C||!y||"ADEP"!==y,maxDate:new Date(2100,0,1),error:void 0!==(null==d?void 0:d.evacDepAuthDate),errorMessage:null==d||null===(r=d.evacDepAuthDate)||void 0===r?void 0:r.message})),a.a.createElement(f.i,{labelText:"Departure Ordered",labelId:"orderedDateLabel"},a.a.createElement(it,{as:a.a.createElement(f.g,null),id:"evacDepOrdDate",name:"evacDepOrdDate",inputRef:j,onFocus:function(){var e;return null===(e=j.current)||void 0===e?void 0:e.focus()},disabled:C||!y||"ODEP"!==y,maxDate:new Date(2100,0,1),error:void 0!==(null==d?void 0:d.evacDepOrdDate),errorMessage:null==d||null===(u=d.evacDepOrdDate)||void 0===u?void 0:u.message}))),a.a.createElement(s.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},a.a.createElement(f.i,{labelText:"Evacuation Summary",labelId:"evacSummaryLabel"},a.a.createElement(it,{name:"evacSummary",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Evacuation Summary field"},maxLength:{value:4e3,message:"Evacuation Summary cannot exceed 4000 characters"}},onFocus:function(){var e;return null===(e=x.current)||void 0===e?void 0:e.focus()},render:function(e){var t,r=e.onChange,n=e.onBlur,u=e.value;return a.a.createElement(f.z,{ref:x,id:"evacSummary",name:"evacSummary",size:"full",maxLength:4e3,disabled:C,validationState:(null==d?void 0:d.evacSummary)?f.A.ERROR:void 0,errorMessage:null==d||null===(t=d.evacSummary)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=g(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),r(e)},onBlur:n,value:u})}}))))},ft=r("/Tr7"),dt=r("jIYg");var vt=r("rZ4P"),mt=r("RV9o"),bt=r("wfq5"),pt=function(e){var t,r,u,c,i,l=Object(h.a)(),d=l.isOpen,m=l.onOpen,p=l.onClose,O=nt(),E=O.register,j=O.errors,x=O.setValue,y=e.savedEvent,D=Object(n.useRef)(null),k=Object(n.useRef)(null),C=Object(n.useRef)(null),S=Object(n.useRef)(null),R=Object(n.useRef)(null);Object(n.useEffect)((function(){E({name:"managementTypeCode"},{required:"Please select a Management Type"}),E({name:"eventTypeId"},{required:"Please select an Event Type"})}),[E]),Object(n.useEffect)((function(){j.managementTypeCode&&C.current?C.current.focus():j.eventTypeId&&S.current&&S.current.focus()}));var w=ct({name:"activeIndicator"}),T=ct({name:"eventStartDate"}),V=b(),I=V.isView,F=V.isEdit,A=V.isCreate;return a.a.createElement(v,{title:"Event Details",showDivider:!0},a.a.createElement(s.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},a.a.createElement(f.i,{labelText:"Event Title",labelId:"eventTitleLabel",required:!0},a.a.createElement(f.y,{ref:E({required:"Please enter an Event Title",maxLength:{value:25,message:"Event Title cannot exceed 25 characters"}}),name:"eventTitle",id:"eventTitle",size:"full",disabled:I,maxLength:25,validationState:(null==j?void 0:j.eventTitle)?f.A.ERROR:void 0,errorMessage:null==j||null===(t=j.eventTitle)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=e.target.value.replace(/^[^A-Za-z0-9]+/,"")}}))),a.a.createElement(o.a,{gridColumn:{base:"1 / -1"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(3,max-content)"}},a.a.createElement(f.i,{labelText:"Start Date",labelId:"eventStartDateLabel",required:!0},a.a.createElement(it,{as:a.a.createElement(f.g,null),id:"eventStartDate",name:"eventStartDate",rules:{required:"Please enter a Start Date"},inputRef:D,onFocus:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.focus()},maxDate:new Date,disabled:I,error:void 0!==(null==j?void 0:j.eventStartDate),errorMessage:null==j||null===(r=j.eventStartDate)||void 0===r?void 0:r.message})),a.a.createElement(f.i,{labelText:"End Date",labelId:"eventEndDateLabel"},a.a.createElement(it,{as:a.a.createElement(f.g,null),id:"eventEndDate",name:"eventEndDate",rules:{validate:{afterStartDate:function(e){return w||function(e,t){Object(dt.a)(2,arguments);var r=Object(ft.default)(e),n=Object(ft.default)(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}(e,T)>-1||"End Date must be equal to or later than Start Date"}}},inputRef:k,onFocus:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.focus()},minDate:T||void 0,maxDate:new Date(2100,0,1),disabled:!A&&(I||w),error:void 0!==(null==j?void 0:j.eventEndDate),errorMessage:null==j||null===(u=j.eventEndDate)||void 0===u?void 0:u.message})),a.a.createElement(f.i,{labelText:"Active",labelId:"activeIndicatorLabel"},a.a.createElement(f.x,{ref:E(),name:"activeIndicator",id:"activeIndicator",value:"Active",disabled:I,onChange:function(e){e.target.checked?x("eventEndDate",void 0):(x("activeIndicator",!0),m())}}))),a.a.createElement(s.a,{gridColumn:{base:"1 / -1",md:"span 4"}},a.a.createElement(f.i,{labelText:"Management Type",labelId:"managementTypeCodeLabel",required:!0},a.a.createElement(f.v,{ref:C,id:"managementTypeCode",name:"managementTypeCode",options:vt,size:"full",value:I||F?null==y?void 0:y.managementTypeCode:"mg",disabled:I,validationState:(null==j?void 0:j.managementTypeCode)?f.A.ERROR:void 0,errorMessage:null==j||null===(c=j.managementTypeCode)||void 0===c?void 0:c.message,onChange:function(e){var t;return x("managementTypeCode",null===(t=e.selectedItem)||void 0===t?void 0:t.value,{shouldDirty:!0})}}))),a.a.createElement(s.a,{gridColumn:{base:"1 / -1",md:"span 4"}},a.a.createElement(f.i,{labelText:"Event Type",labelId:"eventTypeIdLabel",required:!0},a.a.createElement(f.v,{ref:S,id:"eventTypeId",name:"eventTypeId",options:mt,size:"full",disabled:I,value:I||F?null==y?void 0:y.eventTypeId:"General",validationState:(null==j?void 0:j.eventTypeId)?f.A.ERROR:void 0,errorMessage:null==j||null===(i=j.eventTypeId)||void 0===i?void 0:i.message,onChange:function(e){var t;return x("eventTypeId",null===(t=e.selectedItem)||void 0===t?void 0:t.value,{shouldDirty:!0})}}))),a.a.createElement(s.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},a.a.createElement(f.i,{labelText:"Event Summary",labelId:"eventSummaryLabel"},a.a.createElement(it,{name:"eventSummary",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Event Summary field"},maxLength:{value:4e3,message:"Event Summary cannot exceed 4000 characters"}},onFocus:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.focus()},render:function(e){var t,r=e.onChange,n=e.onBlur,u=e.value;return a.a.createElement(f.z,{ref:R,id:"eventSummary",name:"eventSummary",size:"full",maxLength:4e3,disabled:I,validationState:(null==j?void 0:j.eventSummary)?f.A.ERROR:void 0,errorMessage:null==j||null===(t=j.eventSummary)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=g(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),r(e)},onBlur:n,value:u})}}))),a.a.createElement(bt.a,{isOpen:d,onCancel:p,onConfirm:function(){x("activeIndicator",!1),x("eventEndDate",new Date),p()}}))},gt=a.a.createElement(f.a,{status:f.w.success,title:"Save successful!",onClose:function(){return console.log("Banner closed")}}),Ot=function(e){var t=e.savedEvent,r=b(),u=r.isView,o=r.isEdit,l=Object(h.a)(),v=l.isOpen,m=l.onOpen,p=l.onClose,g=Object(h.a)(),x=g.isOpen,y=g.onOpen,D=g.onClose,k=Object(f.B)(gt,2),C=Object(i.b)("ctfForms","events")[1],S={eventId:"OCS"+c()(new Date).format("YYYYDDD")+Math.floor(Math.random()*Math.floor(1e6)),eventTitle:"",eventStartDate:new Date,activeIndicator:!0,managementTypeCode:"mg",eventTypeId:"General",eventSummary:"",evacStatusCode:"NONE",evacSummary:"",lastUpdatedDateTime:new Date},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode,r=void 0===t?Z:t,a=e.reValidateMode,u=void 0===a?H:a,c=e.resolver,i=e.context,o=e.defaultValues,s=void 0===o?{}:o,l=e.shouldFocusError,f=void 0===l||l,d=e.shouldUnregister,v=void 0===d||d,m=e.criteriaMode,b=Object(n.useRef)({}),p=Object(n.useRef)({}),g=Object(n.useRef)({}),O=Object(n.useRef)({}),h=Object(n.useRef)(new Set),E=Object(n.useRef)({}),j=Object(n.useRef)({}),x=Object(n.useRef)({}),y=Object(n.useRef)(new Set),D=Object(n.useRef)(new Set),k=Object(n.useRef)(!0),C=Object(n.useRef)(s),S=Object(n.useRef)({}),R=Object(n.useRef)(!1),w=Object(n.useRef)(!1),T=Object(n.useRef)(!1),V=Object(n.useRef)(!1),I=Object(n.useRef)(0),A=Object(n.useRef)(!1),q=Object(n.useRef)(),W=Object(n.useRef)({}),G=Object(n.useRef)({}),K=Object(n.useRef)(i),J=Object(n.useRef)(c),U=Object(n.useRef)(new Set),Y=Object(n.useState)(),X=Object(B.a)(Y,2),_=X[1],Q=Object(n.useRef)(Qe(r)).current,ne=Q.isOnBlur,ue=Q.isOnSubmit,ce=Q.isOnChange,ve=Q.isOnAll,me=m===$,be="undefined"==typeof window,Ee="undefined"!=typeof document&&!be&&!se(window.HTMLElement),je=Ee?"Proxy"in window:"undefined"!=typeof Proxy,xe=Object(n.useRef)({isDirty:!je,dirtyFields:!je,isSubmitted:ue,submitCount:!je,touched:!je,isSubmitting:!je,isValid:!je}),ye=Object(n.useRef)(Qe(u)).current,ke=ye.isOnBlur,Re=ye.isOnSubmit;K.current=i,J.current=c;var Ae=Object(n.useCallback)((function(){R.current||_({})}),[]),Le=Object(n.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r||Fe({errors:p.current,error:t,name:e,validFields:D.current,fieldsWithValidation:y.current}),a=fe(p.current,e);if(Ce(t)?((y.current.has(e)||J.current)&&(D.current.add(e),n=n||a),p.current=Se(p.current,e)):(D.current.delete(e),n=n||!a||!Ie(a,t[e]),ie(p.current,e,t[e])),n&&!te(r))return Ae(),!0}),[Ae,J]),Ne=Object(n.useCallback)((function(e,t){var r=e.ref,n=e.options,a=Ee&&P(r)&&te(t)?"":t;pe(r)&&n?n.forEach((function(e){var t=e.ref;return t.checked=t.value===a})):ge(r)?Te(a)?r.value=a:r.files=a:he(r)?Object(M.a)(r.options).forEach((function(e){return e.selected=a.includes(e.value)})):Oe(r)&&n?n.length>1?n.forEach((function(e){var t=e.ref;return t.checked=a.includes(t.value)})):n[0].ref.checked=!!a:r.value=a}),[Ee]),Be=Object(n.useCallback)((function(e){var t=xe.current,r=t.isDirty,n=t.dirtyFields;if(!b.current[e]||!r&&!n)return!1;var a=S.current[e]!==De(b.current,e),u=fe(E.current,e),c=Ye(U.current,e),i=V.current;return a?ie(E.current,e,!0):Se(E.current,e),V.current=c&&Je(Ke(b.current,$e(e)),fe(C.current,$e(e)))||!Ce(E.current),r&&i!==V.current||n&&u!==fe(E.current,e)}),[]),Pe=Object(n.useCallback)(function(){var e=L(F.a.mark((function e(t,r){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.current[t]){e.next=6;break}return e.next=3,qe(b,me,b.current[t]);case 3:return n=e.sent,Le(t,n,!!r&&null),e.abrupt("return",Ce(n));case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[Le,me]),ze=Object(n.useCallback)(function(){var e=L(F.a.mark((function e(t){var r,n,a,u,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.current(Ke(b.current),K.current,me);case 2:if(r=e.sent,n=r.errors,a=k.current,k.current=Ce(n),!re(t)){e.next=12;break}return u=t.map((function(e){var t=fe(n,e);return t?ie(p.current,e,t):Se(p.current,e),!t})).every(Boolean),Ae(),e.abrupt("return",u);case 12:return c=fe(n,t),Le(t,c?Object(N.a)({},t,c):{},a!==k.current),e.abrupt("return",!c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ae,Le,me,J]),Ge=Object(n.useCallback)(function(){var e=L(F.a.mark((function e(t){var r,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t||Object.keys(b.current),!J.current){e.next=3;break}return e.abrupt("return",ze(r));case 3:if(!re(r)){e.next=9;break}return e.next=6,Promise.all(r.map(function(){var e=L(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return n=e.sent,Ae(),e.abrupt("return",n.every(Boolean));case 9:return e.next=11,Pe(r);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ze,Pe,Ae,J]),Ue=Object(n.useCallback)((function(e,t,r,n){for(var a in t){var u="".concat(n||e).concat(re(t)?"[".concat(a,"]"):".".concat(a)),c=b.current[u];ae(t[a])&&Ue(e,t[a],r,u),c&&(Ne(c,t[a]),r.shouldDirty&&Be(u),r.shouldValidate&&Ge(u))}}),[Ge,Ne,Be]),tt=Object(n.useCallback)((function(e,t,r){if(b.current[e])return Ne(b.current[e],t),r.shouldDirty&&Be(e);We(t)||Ue(e,t,r)}),[Be,Ne,Ue]),rt=function(e){return w.current||h.current.has(e)||h.current.has((e.match(/\w+/)||[])[0])},nt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Ce(j.current))for(var r in j.current)(j.current[r].has(e)||!j.current[r].size||Ye(U.current,e))&&(x.current[r](),t=!1);return t};function at(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=tt(e,t,r)||!We(t)||rt(e);nt(e),n&&Ae(),r.shouldValidate&&Ge(e)}q.current=q.current?q.current:function(){var e=L(F.a.mark((function e(t){var r,n,a,u,i,o,s,l,f,d,v;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,n=t.target,a=n?n.name:"",u=b.current[a]){e.next=5;break}return e.abrupt("return");case 5:if(o=r===z,s=!ve&&Ze({hasError:!!fe(p.current,a),isOnChange:ce,isBlurEvent:o,isOnSubmit:ue,isReValidateOnSubmit:Re,isOnBlur:ne,isReValidateOnBlur:ke,isSubmitted:T.current}),l=Be(a)||rt(a),o&&!fe(g.current,a)&&xe.current.touched&&(ie(g.current,a,!0),l=!0),!s){e.next=12;break}return nt(a),e.abrupt("return",l&&Ae());case 12:if(!c){e.next=23;break}return e.next=15,c(Ke(b.current),K.current,me);case 15:f=e.sent,d=f.errors,v=k.current,k.current=Ce(d),i=fe(d,a)?Object(N.a)({},a,fe(d,a)):{},v!==k.current&&(l=!0),e.next=26;break;case 23:return e.next=25,qe(b,me,u);case 25:i=e.sent;case 26:nt(a),!Le(a,i)&&l&&Ae();case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ut=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ce(C.current)?Ve(b.current):C.current;J.current(oe(Object.assign(Object.assign({},t),e)),K.current,me).then((function(e){var t=e.errors,r=k.current;k.current=Ce(t),r!==k.current&&Ae()}))}),[Ae,me,J]),ct=Object(n.useCallback)((function(e,t){we(b.current,q.current,e,W,v,t)}),[v]),it=Object(n.useCallback)((function(e,t){!e||Ye(U.current,e.ref.name)&&!t||(ct(e,t),v&&([p,g,E,S].forEach((function(t){return Se(t.current,e.ref.name)})),[y,D,h].forEach((function(t){return t.current.delete(e.ref.name)})),(xe.current.isValid||xe.current.touched)&&(Ae(),J.current&&ut())))}),[Ae,ut,ct,J]);function ot(e){e?(re(e)?e:[e]).forEach((function(e){return Se(p.current,e)})):p.current={},Ae()}function st(e,t){k.current=!1,ie(p.current,e,Object.assign(Object.assign({},t),{ref:(b.current[e]||{}).ref})),Ae()}var lt=Object(n.useCallback)((function(e,t,r){var n=r?j.current[r]:h.current,a=se(t)?C.current:t,u=Ve(b.current,e);return Te(e)?He(u,e,n,se(t)?fe(a,e):t,!0):re(e)?e.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(N.a)({},t,He(u,t,n,a)))}),{}):(se(r)&&(w.current=!0),oe(!Ce(u)&&u||a))}),[]);function ft(e,t){return lt(e,t)}function dt(e){(re(e)?e:[e]).forEach((function(e){return it(b.current[e],!0)}))}function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.name)return console.warn("Missing name @",e);var r,n,a=e.name,u=e.type,i=e.value,o=Object.assign({ref:e},t),s=b.current,l=et(e),f=s[a],d=!0;if(f&&(l?re(f.options)&&le(f.options).find((function(t){return i===t.ref.value&&t.ref===e})):e===f.ref))s[a]=Object.assign(Object.assign({},f),t);else{if(u){var v=_e(e,(function(){return it(f)}));f=l?Object.assign({options:[].concat(Object(M.a)(le(f&&f.options||[])),[{ref:e,mutationWatcher:v}]),ref:{type:u,name:a}},t):Object.assign(Object.assign({},o),{mutationWatcher:v})}else f=o;s[a]=f;var m=se(W.current[a]);Ce(C.current)&&m||(n=m?fe(C.current,a):W.current[a],d=se(n),r=Ye(U.current,a),d||r||Ne(f,n)),c&&!r&&xe.current.isValid?ut():Ce(t)||(y.current.add(a),!ue&&xe.current.isValid&&qe(b,me,f).then((function(e){var t=k.current;Ce(e)?D.current.add(a):k.current=!1,t!==k.current&&Ae()}))),S.current[a]||r&&d||(S.current[a]=d?De(s,a):n),u&&ee({field:l&&f.options?f.options[f.options.length-1]:f,isRadioOrCheckbox:l||Xe(e),handleChange:q.current})}}function mt(e,t){if(!be)if(Te(e))vt({name:e},t);else{if(!ae(e)||!("name"in e))return function(t){return t&&vt(t,e)};vt(e,t)}}var bt=Object(n.useCallback)((function(e){return function(){var t=L(F.a.mark((function t(r){var n,a,u,c,i,o,s,l,d,v;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&(r.preventDefault(),r.persist()),n={},a=Object.assign(Object.assign({},W.current),Ve(b.current)),xe.current.isSubmitting&&(A.current=!0,Ae()),t.prev=4,!J.current){t.next=16;break}return t.next=8,J.current(oe(a),K.current,me);case 8:u=t.sent,c=u.errors,i=u.values,p.current=c,n=c,a=i,t.next=28;break;case 16:o=0,s=Object.values(b.current);case 17:if(!(o<s.length)){t.next=28;break}if(!(l=s[o])){t.next=25;break}return d=l.ref.name,t.next=23,qe(b,me,l);case 23:(v=t.sent)[d]?(ie(n,d,v[d]),D.current.delete(d)):y.current.has(d)&&D.current.add(d);case 25:o++,t.next=17;break;case 28:if(!Ce(n)||!Object.keys(p.current).every((function(e){return Object.keys(b.current).includes(e)}))){t.next=35;break}return p.current={},Ae(),t.next=33,e(oe(a),r);case 33:t.next=37;break;case 35:p.current=Object.assign(Object.assign({},p.current),n),f&&Ee&&de(b.current,n);case 37:return t.prev=37,T.current=!0,A.current=!1,I.current=I.current+1,Ae(),t.finish(37);case 43:case"end":return t.stop()}}),t,null,[[4,,37,43]])})));return function(e){return t.apply(this,arguments)}}()}),[Ee,Ae,J,f,me]),pt=function(e){var t=e.errors,r=e.isDirty,n=e.isSubmitted,a=e.touched,u=e.isValid,c=e.submitCount,i=e.dirtyFields;b.current={},t||(p.current={}),a||(g.current={}),u||(D.current=new Set,y.current=new Set,k.current=!0),r||(V.current=!1),i||(E.current={}),n||(T.current=!1),c||(I.current=0),S.current={},O.current={},W.current={},h.current=new Set,w.current=!1},gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ee)for(var r=0,n=Object.values(b.current);r<n.length;r++){var a=n[r];if(a){var u=a.ref,c=a.options,i=et(u)&&re(c)?c[0].ref:u;if(P(i))try{i.closest("form").reset();break}catch(o){}}}e&&(C.current=e),Object.values(G.current).forEach((function(e){return Me(e)&&e()})),pt(t),Ae()},Ot=function(e){return De(b.current,e)};function ht(e){var t=b.current;return Te(e)?Ot(e):re(e)?e.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(N.a)({},t,Ot(t)))}),{}):oe(Ve(t))}Object(n.useEffect)((function(){return R.current=!1,function(){R.current=!0,b.current&&Object.values(b.current).forEach((function(e){return it(e,!0)}))}}),[it]),c||(k.current=D.current.size>=y.current.size&&Ce(p.current));var Et={dirtyFields:E.current,isSubmitted:T.current,submitCount:I.current,touched:g.current,isDirty:V.current,isSubmitting:A.current,isValid:ue?T.current&&Ce(p.current):k.current},jt={trigger:Ge,setValue:Object(n.useCallback)(at,[Ae,tt,Ge]),getValues:Object(n.useCallback)(ht,[]),register:Object(n.useCallback)(mt,[C.current]),unregister:Object(n.useCallback)(dt,[]),formState:je?new Proxy(Et,{get:function(e,t){if(t in e)return xe.current[t]=!0,e[t]}}):Et},xt=Object.assign(Object.assign(Object.assign({removeFieldEventListener:ct,renderWatchedInputs:nt,watchInternal:lt,reRender:Ae},c?{validateSchemaIsValid:ut}:{}),{mode:{isOnBlur:ne,isOnSubmit:ue,isOnChange:ce},reValidateMode:{isReValidateOnBlur:ke,isReValidateOnSubmit:Re},errorsRef:p,touchedFieldsRef:g,fieldsRef:b,isWatchAllRef:w,watchFieldsRef:h,resetFieldArrayFunctionRef:G,watchFieldsHookRef:j,watchFieldsHookRenderRef:x,fieldArrayDefaultValues:O,validFieldsRef:D,dirtyFieldsRef:E,fieldsWithValidationRef:y,fieldArrayNamesRef:U,isDirtyRef:V,isSubmittedRef:T,readFormStateRef:xe,defaultValuesRef:C,unmountFieldsStateRef:W}),jt);return Object.assign({watch:ft,control:xt,handleSubmit:bt,reset:Object(n.useCallback)(gt,[]),clearErrors:Object(n.useCallback)(ot,[]),setError:Object(n.useCallback)(st,[]),errors:p.current},jt)}({mode:"onBlur",defaultValues:null!=t?t:S}),w=R.register,T=R.handleSubmit,I=R.getValues,A=Object(n.useCallback)((function(e,t){void 0===t&&(t=!1),e.lastUpdatedDateTime=new Date;var r=Object(i.a)("ctfForms","events",[]);if(o){var n=r.findIndex((function(t){return t.eventId===e.eventId}));r.splice(n,1,e)}else r.push(e);C(r),y(),setTimeout((function(){t||Object(O.a)("/event",{state:{eventId:I("eventId")}}),D(),k()}),2e3)}),[C,o,y,D,k,I]);return a.a.createElement(ot.a,{pageTitle:"Event Details",pageHeading:u?"View "+(null==t?void 0:t.eventTitle):o?"Edit "+(null==t?void 0:t.eventTitle):"Create New Event",pageDescription:"Please enter as much information as you have related to this crisis."},a.a.createElement(at,R,a.a.createElement(d,{name:"eventForm",id:"eventForm",onSubmit:T((function(e){A(e,!1)})),noValidate:!0},a.a.createElement("input",{name:"eventId",type:"hidden",ref:w}),a.a.createElement(pt,{savedEvent:t}),a.a.createElement(lt,{savedEvent:t}),a.a.createElement(E.a,{as:"nav","aria-label":"page",id:"pageNav",gridColumn:"1 / -1",align:"center",justify:{base:"flex-end",md:"flex-start"},marginTop:{md:"72"}},a.a.createElement(s.a,{marginRight:"20"},a.a.createElement(f.o,{type:"button",onClick:u?function(){return Object(O.a)("/")}:m},"Cancel")),a.a.createElement(f.b,{type:u?"button":"submit",size:o?"sm":"md",onClick:u?function(e){e.preventDefault(),Object(O.a)("/event",{state:{eventId:I("eventId"),isEdit:!0}})}:void 0},u?"Edit":o?"Save":"Create Event")),a.a.createElement(j,{isOpen:v,onClose:p,onLeave:function(){return Object(O.a)("/")}}),a.a.createElement(V,{isOpen:x,onClose:D}))))};t.default=function(e){var t,r,n;if(null===(t=e.location)||void 0===t||null===(r=t.state)||void 0===r?void 0:r.eventId){var u=Object(i.a)("ctfForms","events");(n=u&&u.find((function(t){var r,n;return t.eventId===(null===(r=e.location)||void 0===r||null===(n=r.state)||void 0===n?void 0:n.eventId)})))&&(n.evacDepAuthDate&&(n.evacDepAuthDate=c()(n.evacDepAuthDate).toDate()),n.evacDepOrdDate&&(n.evacDepOrdDate=c()(n.evacDepOrdDate).toDate()),n.eventStartDate&&(n.eventStartDate=c()(n.eventStartDate).toDate()),n.eventEndDate&&(n.eventEndDate=c()(n.eventEndDate).toDate()),n.lastUpdatedDateTime&&(n.lastUpdatedDateTime=c()(n.lastUpdatedDateTime).toDate()))}var o=void 0===n?"create":e.location.state.isEdit?"edit":"view";return a.a.createElement(p,{formMode:o},a.a.createElement(Ot,{savedEvent:n}))}}}]);
//# sourceMappingURL=component---src-pages-event-tsx-e3926db96ab6fa357f12.js.map