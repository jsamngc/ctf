(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/oDL":function(e,t,a){"use strict";a.r(t);a("INYr"),a("91GP"),a("Z2Ku"),a("L9s1"),a("Vd3H");var n=a("q1tI"),l=a.n(n),o=a("Wbzz"),r=a("wd/R"),i=a.n(r),c=a("NKCw"),s=a("ggNy"),u=a("XZ7F"),d=a("BMxC"),m=a("KEox"),f=a("69N/"),p=a("Weur"),b=a("soUV"),y=a("ytJY"),g=a.n(y),k=a("jgTY"),E=a("sK1y"),h=a("dTpq"),v=a("FpzS"),x=a("KYQk"),C=function(e){var t=e.labelText,a=e.labelId,n=e.placeHolder,o=e.searchTerm,r=e.setSearchTerm;return l.a.createElement(d.a,null,l.a.createElement(k.a,{id:a,fontFamily:"body",fontSize:"label",fontWeight:"normal",color:"label",display:"block",lineHeight:"label",pb:8},l.a.createElement(E.a,{m:0},t)),l.a.createElement(h.a,null,l.a.createElement(v.a,{color:"text",height:"input",display:"inline-block",fontFamily:"body",fontSize:"base",border:"px",borderColor:"inputBorder",boxSizing:"border-box",px:10,py:4,outline:"none",placeholder:n,_disabled:{color:"disabledButtonText",bg:"disabledBackground",borderColor:"disabledBorder"},_focus:{borderWidth:"2",borderColor:"accent"},value:o,onChange:function(e){r(e.target.value)}}),l.a.createElement(x.b,{width:"input",height:"input",onClick:function(){return r("")},cursor:o?"pointer":"cursor",children:l.a.createElement(d.a,{as:g.a,color:"inputPlaceholder",size:"iconMd"})})))};a("f3/d"),a("a1Th"),a("Btvt"),a("XfO3"),a("HEwt"),a("rGqo"),a("rE2o"),a("ioFf");function L(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var O=function(e){var t,a,o=e.lklDto,r=e.selectedLocationList,i=e.setSelectedLocationList,c=Object(n.useState)(!1),u=c[0],m=c[1];return l.a.createElement(s.c,{id:"LocationCard"},l.a.createElement(p.a,{w:"full",height:{xl:"5px"}},l.a.createElement(d.a,{flexBasis:{base:"5%",xl:"3%"},alignSelf:{base:"center"}},l.a.createElement(s.e,{id:"selectToAdd","aria-label":"Select to Add",value:"",onClick:function(){u?r.splice(r.findIndex((function(e){return e.lookupLklDto.lklTitle===o.lookupLklDto.lklTitle})),1):r.push(o),i(L(r)),m(!u)}})),l.a.createElement(p.a,{flexBasis:{base:"95%",xl:"97%"},flexDir:{base:"column",xl:"row"},alignSelf:"center"},l.a.createElement(d.a,{flexBasis:{xl:"60%"}},l.a.createElement(s.v,null,o.lookupLklDto.lklTitle)),l.a.createElement(d.a,{flexBasis:{xl:"40%"}},l.a.createElement(s.h,{color:"label"},"U.S. Embassy in ",null===(t=o.lookupLklDto.lklAddressDto)||void 0===t?void 0:t.addressDto.city,",",null===(a=o.lookupLklDto.lklAddressDto)||void 0===a?void 0:a.addressDto.countryCd)))))},j=a("BXVe"),S=a("tqP/"),T=a("nB9M"),w=a("l1im"),I=a("bSwy"),A=a.n(I),N=a("ssff"),P=a.n(N),M=a("xP3E"),q=a("ENWW"),F=a("91Jw"),z=a("GUiF"),B=a("PXmu"),R=s.b+" HH:mm:ss:SS ZZ";t.default=function(e){var t=Object(n.useMemo)((function(){var e=q.filter((function(e,t){return t%5==0}));return e.push({label:"UNITED STATES OF AMERICA",value:"USA"},{label:"JAPAN",value:"JPN"}),e.sort((function(e,t){return e.label.localeCompare(t.label)}))}),[]),a=function(){var e=[];return M.map((function(t){t.eventLklDtoList.map((function(a){var n=Object.assign({},a,{createdDateTime:a.createdDateTime?i()(a.createdDateTime,R).toDate():void 0,lastUpdatedDateTime:t.lastUpdatedDateTime?i()(t.lastUpdatedDateTime,R).toDate():void 0,lookupLklDto:Object.assign({},a.lookupLklDto,{lklAddressDto:Object.assign({},a.lookupLklDto.lklAddressDto),lklPocListDto:a.lookupLklDto.lklPocListDto.map((function(e){return{lklPocId:e.lklPocId,personDto:Object.assign({},e.personDto,{personEmailDtoList:e.personDto.personEmailDtoList.map((function(e){return e})),personPhoneDtoList:e.personDto.personPhoneDtoList.map((function(e){return e}))})}}))})});!e.some((function(e){return e.lookupLklDto.lklTitle===n.lookupLklDto.lklTitle}))&&e.push(n)}))})),e.sort((function(e,t){return e.lookupLklDto.lklTitle.localeCompare(t.lookupLklDto.lklTitle)}))},r=Object(T.b)("ctfForms","events")[1],y=Object(n.useState)([]),g=y[0],k=y[1],E=Object(n.useState)([]),h=E[0],v=E[1],x=Object(n.useState)(10),L=x[0],D=(x[1],Object(n.useState)(!1)),I=D[0],N=D[1],U=Object(n.useState)(""),W=U[0],H=U[1],K=Object(n.useState)(1),V=K[0],_=K[1],G=Math.ceil(h.length/L);V>G&&_(G);var J=V*L,X=J-L,Y=h.length>L?Math.ceil(h.length/L):1,Z=1!==Y?h.slice(X,J):h,$=Object(u.a)(),Q=$.isOpen,ee=$.onOpen,te=$.onClose,ae=Object(u.a)(),ne=ae.isOpen,le=ae.onOpen,oe=ae.onClose,re=Object(c.c)(),ie=re.control,ce=re.errors,se=re.setValue,ue=re.handleSubmit,de=[{label:"Event",onClick:ee},{label:"Add Location"}],me=Object(c.e)({control:ie,name:"country"}),fe=Object(c.e)({control:ie,name:"post"}),pe=Object(n.useRef)(null),be=Object(n.useRef)(null),ye=Object(n.useCallback)((function(t,a){void 0===a&&(a=!1);var n=Object(T.a)("ctfForms","events",[]),l=n.findIndex((function(e){return e.eventId===t.eventId})),i=Object.assign({},n[l],t);n.splice(l,1,i),r(n),le(),setTimeout((function(){!a&&Object(o.a)("/event",{state:{eventId:e.location.state.eventId,formSection:"locations"}}),oe()}),2e3)}),[r,oe,le,e.location.state.eventId]);return l.a.createElement(b.a,{pageTitle:"Add Location",pageHeading:"Add Location",pageDescription:"Search for an existing last known location or add a new one.",breadcrumbs:de},l.a.createElement(z.b,{onSubmit:ue((function(e){ye(e,!1)}))},l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"1 / 5",lg:"1 / 4"},height:{md:"100px",lg:"auto"}},l.a.createElement(s.i,{labelText:"Country",labelId:"countryLabel",required:!0},l.a.createElement(c.a,{name:"country",rules:{required:"Please select a Country"},render:function(e){var a,n=e.onChange,o=e.value;return l.a.createElement(s.w,{ref:pe,id:"country",name:"country","aria-labelledby":"countryLabel",options:t,size:"full",validationState:(null==ce?void 0:ce.country)?s.A.ERROR:void 0,errorMessage:null==ce||null===(a=ce.country)||void 0===a?void 0:a.message,onChange:function(e){var t;n(null===(t=e.selectedItem)||void 0===t?void 0:t.value),se("post","")},value:o,placeholder:"Type to filter countries"})},control:ie}))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"5 / -1",lg:"4 / 7"}},l.a.createElement(s.i,{labelText:"Post",labelId:"postLabel"},l.a.createElement(c.a,{name:"post",rules:{required:"Please select a Post"},render:function(e){var t=e.onChange,a=e.value;return l.a.createElement(s.w,{ref:be,id:"post",name:"post",disabled:!me,"aria-labelledby":"postLabel",options:F.filter((function(e){return e.country_cd===me})),size:"full",onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},value:a,placeholder:""})},control:ie}))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"1 / 7",lg:"7 / 11"}},l.a.createElement(C,{labelText:"Location",labelId:"location",placeHolder:"Location title or street address",searchTerm:W,setSearchTerm:H},l.a.createElement(s.y,{id:"location"},"Location"))),l.a.createElement(d.a,{gridColumn:{base:"3 / -1",md:"7 / -1",lg:"11 / -1"},alignSelf:{base:"auto",md:"flex-end",lg:"auto"},marginTop:{lg:"28"}},l.a.createElement(s.a,{id:"searchId",type:"submit",size:"full",buttonIcon:{mdIcon:A.a,alignment:s.n.LEFT,color:"white"},onClick:function(){var e;e=me?a().filter((function(e){var t;return(null===(t=e.lookupLklDto.lklAddressDto)||void 0===t?void 0:t.addressDto.countryCd)===me})):[],fe&&(e=e.filter((function(e){return e.lookupLklDto.postCd===fe}))),W&&(e=e.filter((function(e){return e.lookupLklDto.lklTitle.toLowerCase().includes(W.toLowerCase())}))),v(e),_(1),N(!0)}},"Search")),h.length>0&&l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(m.a,{borderColor:"disabledDark",opacity:3})),h.length>0&&l.a.createElement(f.a,{gridColumn:"1 / -1",gridTemplateColumns:"repeat(2, 1fr)"},l.a.createElement(d.a,{ml:24,gridColumn:"1 / 2",justifySelf:"left"},l.a.createElement(s.e,{id:"selectAll","aria-labelledby":"selectAll",value:"Select all"})),l.a.createElement(d.a,{gridColumn:"2 / -1",justifySelf:"right"},l.a.createElement(s.p,{buttonIcon:{mdIcon:P.a,alignment:s.n.LEFT,color:"clickable"},onClick:function(){Object(o.a)("/addLKL")}},"Â Create New Location"))),l.a.createElement(f.a,{gridColumn:"1 / -1",gridGap:"18px"},Z.map((function(e,t){return l.a.createElement(d.a,{key:t,gridColumn:"1 / -1"},l.a.createElement(O,{lklDto:e,selectedLocationList:g,setSelectedLocationList:k}))}))),h.length>0&&l.a.createElement(p.a,{gridColumn:"1 / -1",justify:"center",align:"center"},l.a.createElement("h3",null,"Total Locations: ",h.length),l.a.createElement(w.a,{page:V,count:Y,onChange:function(e,t){return _(t)}}),l.a.createElement("select",null,l.a.createElement("option",{value:"10"},"10"),l.a.createElement("option",{value:"20"},"20"))),0==Z.length&&l.a.createElement(p.a,{gridColumn:"1 / -1",position:"relative",textAlign:"center",justify:"center",align:"center"},I?l.a.createElement(l.a.Fragment,null,l.a.createElement(B.b,{width:"full",maxWidth:"726px"}),l.a.createElement(d.a,{position:"absolute",cursor:"pointer",bg:"white",top:{base:"16px",md:"24px"},width:"252px",onClick:function(){Object(o.a)("/addLKL")}},l.a.createElement(s.v,null,"No locations found. Refine your search or ",l.a.createElement(s.o,null,"create a new location"),"."))):l.a.createElement(B.c,{width:"full",maxWidth:"726px"})),l.a.createElement(j.a,{isOpen:Q,onClose:te,onLeave:function(){Object(o.a)("/event",{state:{eventId:e.location.state.eventId,formSection:"locations"}})}}),l.a.createElement(S.a,{isOpen:ne,onClose:oe,message:"Adding selected locations"})))}},"LK+d":function(e,t,a){var n=a("q1tI");function l(e){return n.createElement("svg",e,[n.createElement("defs",{key:0},[n.createElement("style",{key:0},".cls-1{fill:#fff;}.cls-2{fill:#ccc;}.cls-3{fill:url(#linear-gradient);}.cls-4{fill:url(#linear-gradient-2);}.cls-5,.cls-6{fill:#999;}.cls-5{opacity:0.3;}"),n.createElement("linearGradient",{id:"linear-gradient",x1:"36.64",y1:"208.85",x2:"55.11",y2:"176.86",gradientUnits:"userSpaceOnUse",key:1},[n.createElement("stop",{offset:"0",stopColor:"#fff",key:0}),n.createElement("stop",{offset:"0.44",stopColor:"#fcfcfc",key:1}),n.createElement("stop",{offset:"0.76",stopColor:"#f3f3f3",key:2}),n.createElement("stop",{offset:"1",stopColor:"#e6e6e6",key:3})]),n.createElement("linearGradient",{id:"linear-gradient-2",x1:"201.45",y1:"216.77",x2:"201.45",y2:"190.77",gradientUnits:"userSpaceOnUse",key:2},[n.createElement("stop",{offset:"0",stopColor:"#fff",key:0}),n.createElement("stop",{offset:"0.19",stopColor:"#f6f6f6",key:1}),n.createElement("stop",{offset:"0.6",stopColor:"#eaeaea",key:2}),n.createElement("stop",{offset:"1",stopColor:"#e6e6e6",key:3})])]),n.createElement("title",{key:1},"Asset 2"),n.createElement("g",{id:"Layer_2","data-name":"Layer 2",key:2},n.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},n.createElement("g",{id:"Map1"},[n.createElement("polygon",{className:"cls-1",points:"12.95 150.77 91.95 222.77 202.95 190.77 318.95 219.77 265.95 54.77 201.95 45.77 133.95 70.77 81.95 38.77 12.95 150.77",key:0}),n.createElement("polygon",{className:"cls-2",points:"131.95 76.77 94.95 213.77 202.95 182.77 198.95 55.77 131.95 76.77",key:1}),n.createElement("polygon",{className:"cls-2",points:"198.95 55.77 261.95 68.77 307.95 209.77 202.95 182.77 198.95 55.77",key:2}),n.createElement("polygon",{className:"cls-1",points:"272.66 100.9 276.95 111.77 123.95 72.36 128.95 63.77 272.66 100.9",key:3}),n.createElement("polygon",{className:"cls-3",points:"19.51 156.3 0 187.7 82.67 213.75 19.51 156.3",key:4}),n.createElement("polygon",{className:"cls-4",points:"110.95 216.77 202.95 190.77 291.95 214.77 110.95 216.77",key:5}),n.createElement("polygon",{className:"cls-2",points:"84.95 48.77 131.95 76.77 94.95 213.77 22.95 149.77 84.95 48.77",key:6}),n.createElement("polygon",{className:"cls-1",points:"57.95 181.77 63.95 189.77 101.95 189.77 201.95 129.77 281.95 127.77 279.95 119.77 200.95 120.77 102.95 180.77 57.95 181.77",key:7}),n.createElement("polygon",{className:"cls-1",points:"39.95 119.77 45.95 111.77 121.95 111.77 172.95 83.77 198.95 69.77 223.95 60.77 239.95 63.77 199.95 76.77 119.95 119.77 39.95 119.77",key:8}),n.createElement("polygon",{className:"cls-1",points:"65.95 78.77 115.95 132.77 200.95 140.77 297.95 176.77 300.95 185.77 199.95 149.77 113.95 141.77 59.95 85.77 65.95 78.77",key:9}),n.createElement("polygon",{className:"cls-5",points:"131.95 76.77 94.95 213.77 202.95 182.77 198.95 55.77 131.95 76.77",key:10}),n.createElement("g",{id:"Pin",key:11},[n.createElement("path",{id:"Pin2",className:"cls-6",d:"M142,38.63a39,39,0,0,0-78,0,38.2,38.2,0,0,0,5.39,19.61A38.78,38.78,0,0,0,73.57,64h0l3.68,5.15,7.36,12.51,5.15,9.84,3.68,7.82,3.68,8.83,2.57,8.09,1.84,5.89.74,2.94.73,3.68.74-2.2.73-2.95.74-2.94.74-2.94,2.2-6.63L111,103.2,116.2,92l9.56-16.92,6.63-10.31,1.76-2.94A38.18,38.18,0,0,0,142,38.63Z",key:0}),n.createElement("circle",{id:"Pin_circle","data-name":"Pin circle",className:"cls-1",cx:"102.95",cy:"40.47",r:"24.28",key:1})])])))])}l.defaultProps={viewBox:"0 0 318.95 222.77"},e.exports=l,l.default=l},PXmu:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return p}));a("91GP");var n=a("q1tI"),l=a.n(n),o=a("BMxC"),r=a("LK+d"),i=a.n(r),c=a("aoh2"),s=a.n(c),u=a("RfVo"),d=a.n(u),m=function(e){return l.a.createElement(o.a,Object.assign({},e,{as:i.a,"aria-hidden":"true",focusable:!1}))},f=function(e){return l.a.createElement(o.a,Object.assign({},e,{as:s.a,"aria-hidden":"true",focusable:!1}))},p=function(e){return l.a.createElement(o.a,Object.assign({},e,{as:d.a,"aria-hidden":"true",focusable:!1}))}},jgTY:function(e,t,a){"use strict";var n=a("8OQS"),l=a.n(n),o=a("pVnL"),r=a.n(o),i=a("qKvR"),c=a("q1tI"),s=a("BMxC"),u=a("we/t"),d=a("mf32"),m=function(e){var t=Object(d.b)().colorMode;return Object(i.d)(s.a,r()({as:"span",ml:1,color:{light:"red.500",dark:"red.300"}[t],"aria-hidden":"true",children:"*"},e))},f=Object(c.forwardRef)((function(e,t){var a=e.children,n=l()(e,["children"]),o=Object(u.b)(n);return Object(i.d)(s.a,r()({ref:t,fontSize:"md",pr:"12px",pb:"4px",opacity:o.isDisabled?"0.4":"1",fontWeight:"medium",textAlign:"left",verticalAlign:"middle",display:"inline-block",as:"label"},n),a,o.isRequired&&Object(i.d)(m,null))}));f.displayName="FormLabel",t.a=f},ssff:function(e,t,a){"use strict";a("HAE/");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("q1tI")),o=(0,n(a("8/g6")).default)(l.default.createElement("path",{d:"M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm4 8h-3v3h-2v-3H8V8h3V5h2v3h3v2z"}),"AddLocation");t.default=o},"tqP/":function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("q1tI"),l=a.n(n),o=a("Weur"),r=a("BMxC"),i=a("ggNy"),c=a("wx14"),s=a("Ff2n"),u=a("iuhU"),d=a("H2TA"),m=a("NqtD");function f(e){var t,a,n;return t=e,a=0,n=1,e=(Math.min(Math.max(a,t),n)-a)/(n-a),e=(e-=1)*e*e+1}var p=n.forwardRef((function(e,t){var a,l=e.classes,o=e.className,r=e.color,i=void 0===r?"primary":r,d=e.disableShrink,p=void 0!==d&&d,b=e.size,y=void 0===b?40:b,g=e.style,k=e.thickness,E=void 0===k?3.6:k,h=e.value,v=void 0===h?0:h,x=e.variant,C=void 0===x?"indeterminate":x,L=Object(s.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),D={},O={},j={};if("determinate"===C||"static"===C){var S=2*Math.PI*((44-E)/2);D.strokeDasharray=S.toFixed(3),j["aria-valuenow"]=Math.round(v),"static"===C?(D.strokeDashoffset="".concat(((100-v)/100*S).toFixed(3),"px"),O.transform="rotate(-90deg)"):(D.strokeDashoffset="".concat((a=(100-v)/100,a*a*S).toFixed(3),"px"),O.transform="rotate(".concat((270*f(v/70)).toFixed(3),"deg)"))}return n.createElement("div",Object(c.a)({className:Object(u.a)(l.root,o,"inherit"!==i&&l["color".concat(Object(m.a)(i))],{indeterminate:l.indeterminate,static:l.static}[C]),style:Object(c.a)({width:y,height:y},O,g),ref:t,role:"progressbar"},j,L),n.createElement("svg",{className:l.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},n.createElement("circle",{className:Object(u.a)(l.circle,p&&l.circleDisableShrink,{indeterminate:l.circleIndeterminate,static:l.circleStatic}[C]),style:D,cx:44,cy:44,r:(44-E)/2,fill:"none",strokeWidth:E})))})),b=Object(d.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(p),y=function(){return l.a.createElement(r.a,{color:"clickable"},l.a.createElement(b,{color:"inherit",size:48,thickness:7.5}))},g=function(e){var t=e.isOpen,a=e.onClose,n=e.message,c=void 0===n?"Saving your information":n;return l.a.createElement(i.q,{isOpen:t,onClose:a,isCentered:!0,size:"sm"},l.a.createElement(i.u,null,l.a.createElement(i.m,null,"Please Wait...")),l.a.createElement(i.r,null,l.a.createElement(o.a,{align:"center"},l.a.createElement(r.a,{color:"clickable"},l.a.createElement(y,null)),l.a.createElement(r.a,{pl:"24"},l.a.createElement(i.v,null,c)))))}}}]);
//# sourceMappingURL=component---src-pages-search-lkl-tsx-84927c22b0e33bb4ac74.js.map