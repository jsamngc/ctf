(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"6E47":function(e){e.exports=JSON.parse('[{"label":"Airport","value":"airport"},{"label":"Bus Station","value":"busStation"},{"label":"Church","value":"church"},{"label":"Home","value":"home"},{"label":"Hospital","value":"hospital"},{"label":"Hotel","value":"hotel"},{"label":"Other","value":"other"},{"label":"Other GOvernment Facility (non-U.S.)","value":"otherGov"},{"label":"Port","value":"port"},{"label":"Restaurant","value":"restaurant"},{"label":"Stadium","value":"stadium"},{"label":"Train Station","value":"trainStation"},{"label":"UN Facility","value":"unFacility"},{"label":"USG Facility","value":"usgFacility"},{"label":"School","value":"school"}]')},phAL:function(e,a,t){"use strict";t.r(a);t("dRSK");var l=t("q1tI"),n=t.n(l),r=t("wd/R"),i=t.n(r),o=t("nB9M"),d=t("GUiF"),u=t("soUV"),s=t("Wbzz"),c=t("NKCw"),m=t("ggNy"),v=t("XZ7F"),b=t("69N/"),f=t("BMxC"),p=(t("f3/d"),t("a1Th"),t("Btvt"),t("XfO3"),t("HEwt"),t("rGqo"),t("rE2o"),t("ioFf"),t("Oyvg"),t("pIFo"),t("Vd3H"),t("ENWW")),g=t("91Jw"),E=t("wsxo"),y=t("6E47");function C(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"==typeof e)return h(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}var T=function(e){e.target.value=e.target.value.replace(/^[^A-Za-z0-9]+/,"")},L=function(e,a){if(!e)return!0;var t=RegExp(/^([-+]?)([\d]{1,3})([.]?)([\d]*)$/),l=parseFloat(e)>=-a&&parseFloat(e)<=a;return t&&l},A=function(){var e,a,t,r,i=Object(c.d)(),o=i.trigger,u=i.register,s=i.errors,v=i.setValue,h=i.formState.dirtyFields,A=Object(l.useRef)(null),O=Object(l.useRef)(null),x=Object(l.useRef)(null),I=Object(l.useRef)(null),R=Object(l.useRef)(null),S=Object(c.e)({name:"country"}),w=Object(c.e)({name:"longitude"}),F=Object(c.e)({name:"latitude"}),j=Object(c.e)({name:"streetAddress"}),z=Object(c.e)({name:"city"}),B=Object(l.useMemo)((function(){var e=p.filter((function(e,a){return a%5==0}));return e.push({label:"UNITED STATES OF AMERICA",value:"USA"}),e.sort((function(e,a){return e.label.localeCompare(a.label)})),e}),[]),D=[{label:" ",value:void 0}].concat(C(y.sort((function(e,a){return e.label.localeCompare(a.label)})))),q=n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 7"}},n.a.createElement(m.i,{labelText:"State",labelId:"stateLabel",required:!0},n.a.createElement(c.a,{name:"state",rules:{required:"Please select a State"},onFocus:function(){var e;return null===(e=x.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,l=e.onBlur,r=e.value;return n.a.createElement(m.w,{ref:x,id:"state",name:"state","aria-labelledby":"stateLabel",options:E,size:"full",disabled:!1,validationState:(null==s?void 0:s.state)?m.A.ERROR:void 0,errorMessage:null==s||null===(a=s.state)||void 0===a?void 0:a.message,onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},onBlur:function(){(null==h?void 0:h.state)&&l()},value:r})}}))),k=n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 7"}},n.a.createElement(m.i,{labelText:"Province",labelId:"provinceLabel"},n.a.createElement(m.y,{id:"province",name:"province",size:"full",disabled:!1,onChange:T,maxLength:50})));return n.a.createElement(d.c,{title:"",showDivider:!0},n.a.createElement(b.a,{gridColumn:{base:"1 / -1",lg:"1 / 9"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"1",md:"repeat(12,1fr)"}},n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 11"}},n.a.createElement(m.i,{labelText:"Location Title",labelId:"lklTitleLabel",required:!0},n.a.createElement(m.y,{id:"lklTitle",name:"lklTitle",size:"full",disabled:!1,onChange:T,validationState:(null==s?void 0:s.lklTitle)?m.A.ERROR:void 0,errorMessage:null==s||null===(e=s.lklTitle)||void 0===e?void 0:e.message,ref:u({required:"Please enter a Location Title",maxLength:{value:50,message:"Location Title cannot exceed 25 characters"}}),maxLength:50}))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 1"}},n.a.createElement(m.i,{labelText:"Active",labelId:"activeIndicatorLabel"},n.a.createElement(m.x,{id:"activeIndicator",name:"activeIndicator",disabled:!1,value:"Active",ref:u()})))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"1 / 5"}},n.a.createElement(m.i,{labelText:"Country",labelId:"countryLabel",required:!0},n.a.createElement(c.a,{name:"country",rules:{required:"Please select a Country"},onFocus:function(){var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,l=e.onBlur,r=e.value;return n.a.createElement(m.w,{ref:A,id:"country",name:"country","aria-labelledby":"countryLabel",options:B,size:"full",disabled:!1,validationState:(null==s?void 0:s.country)?m.A.ERROR:void 0,errorMessage:null==s||null===(a=s.country)||void 0===a?void 0:a.message,onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value),v("post","")},onBlur:function(){(null==h?void 0:h.country)&&l()},value:r})}}))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 4"}},n.a.createElement(m.i,{labelText:"Post",labelId:"postLabel",required:!0},n.a.createElement(c.a,{name:"post",rules:{required:"Please select a Post"},onFocus:function(){var e;return null===(e=O.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,l=e.onBlur,r=e.value;return n.a.createElement(m.w,{ref:O,id:"post",name:"post","aria-labelledby":"postLabel",options:g.filter((function(e){return e.country_cd===S})),size:"full",disabled:!1,validationState:(null==s?void 0:s.post)?m.A.ERROR:void 0,errorMessage:null==s||null===(a=s.post)||void 0===a?void 0:a.message,onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},onBlur:function(){(null==h?void 0:h.post)&&l()},value:r})}}))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 8"}},n.a.createElement(m.i,{labelText:"Street Address",labelId:"streetAddressLabel"},n.a.createElement(m.y,{id:"streetAddress",name:"streetAddress",size:"full",disabled:!1,onChange:function(e){T(e)},onBlur:function(){return o("city")},maxLength:200,ref:u()}))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 8"}},n.a.createElement(m.i,{labelText:"Apartment, Suite, Other",labelId:"additionalAddressLabel"},n.a.createElement(m.y,{id:"additionalAddress",name:"additionalAddress",size:"full",disabled:!1,onChange:T,maxLength:200}))),n.a.createElement(b.a,{gridColumn:{base:"1 / -1",lg:"1 / 9"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4,1fr)",md:"repeat(22,1fr)"}},n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 11"}},n.a.createElement(m.i,{labelText:"City",labelId:"cityLabel"},n.a.createElement(m.y,{id:"city",name:"city",size:"full",disabled:!1,validationState:(null==s?void 0:s.city)?m.A.ERROR:void 0,errorMessage:null==s||null===(a=s.city)||void 0===a?void 0:a.message,onChange:function(e){T(e)},maxLength:30,ref:u({required:!(!j||z)&&"City also required with Street Address"})}))),"USA"===S?q:k,n.a.createElement(f.a,{gridColumn:{base:"1 / 2",md:"span 4"}},n.a.createElement(m.i,{labelText:"Postal Code",labelId:"postalCodeLabel"},n.a.createElement(m.y,{id:"postalCode",name:"postalCode",size:"full",disabled:!1,onChange:T,maxLength:10})))),n.a.createElement(f.a,{gridColumn:{base:"1 / 3",md:"1 / 3"}},n.a.createElement(m.i,{labelText:"Longitude",labelId:"longitudeLabel"},n.a.createElement(m.y,{id:"longitude",name:"longitude",size:"full",disabled:!1,validationState:(null==s?void 0:s.longitude)?m.A.ERROR:void 0,errorMessage:null==s||null===(t=s.longitude)||void 0===t?void 0:t.message,onBlur:function(){o("latitude")},ref:u({validate:function(e){return!!L(e,180)||"Invalid input"},required:!(!F||w)&&"Longitude value also required"})}))),n.a.createElement(f.a,{gridColumn:{base:"3 / 5",md:"span 2"}},n.a.createElement(m.i,{labelText:"Latitude",labelId:"latitudeLabel"},n.a.createElement(m.y,{id:"latitude",name:"latitude",size:"full",disabled:!1,validationState:(null==s?void 0:s.latitude)?m.A.ERROR:void 0,errorMessage:null==s||null===(r=s.latitude)||void 0===r?void 0:r.message,onBlur:function(){o("longitude")},ref:u({validate:function(e){return!!L(e,90)||"Invalid input"},required:!(!w||F)&&"Latitude value also required"})}))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 4"}},n.a.createElement(m.i,{labelText:"Location Type",labelId:"locationTypeLabel"},n.a.createElement(c.a,{name:"locationType",onFocus:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,l=e.onBlur,r=e.value;return n.a.createElement(m.w,{ref:I,id:"locationType",name:"locationType","aria-labelledby":"locationTypeLabel",options:D,size:"full",disabled:!1,validationState:(null==s?void 0:s.locationType)?m.A.ERROR:void 0,errorMessage:null==s||null===(a=s.locationType)||void 0===a?void 0:a.message,onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},onBlur:function(){(null==h?void 0:h.locationType)&&l()},value:r})}}))),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"span 8"}},n.a.createElement(m.i,{labelText:"Description",labelId:"descriptionLabel"},n.a.createElement(c.a,{name:"description",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Description field"},maxLength:{value:500,message:"Description cannot exceed 500 characters"}},onFocus:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,l=e.onBlur,r=e.value;return n.a.createElement(m.z,{ref:R,id:"description",name:"description","aria-labelledby":"descriptionLabel",size:"full",maxLength:500,disabled:!1,validationState:(null==s?void 0:s.description)?m.A.ERROR:void 0,errorMessage:null==s||null===(a=s.description)||void 0===a?void 0:a.message,onChange:function(e){e.target.value=Object(d.d)(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),t(e)},onBlur:l,value:r})}}))))},O=t("BXVe"),x=function(e){var a=e.eventId,t=(e.savedForm,Object(v.a)()),l=t.isOpen,r=t.onOpen,i=t.onClose,o=Object(c.c)({mode:"onBlur",defaultValues:{activeIndicator:!0}}),p=[{label:"Event",onClick:r},{label:"Add Location"},{label:"New Location"}];return n.a.createElement(u.a,{pageTitle:"Location Details",pageHeading:"New Location",pageDescription:"Provide as much information as you have for the new location.",breadcrumbs:p},n.a.createElement(c.b,o,n.a.createElement(d.b,{id:"LKLForm"},n.a.createElement(A,null),n.a.createElement(b.a,{as:"nav","aria-label":"page",id:"pageNav",gridColumn:"1 / -1",alignSelf:"center",gridGap:{base:"16px",md:"24px"},marginTop:{md:"72"},size:"full",gridTemplateColumns:{base:"1",md:"repeat(14, 1fr)",lg:"repeat(12, 1fr)"}},n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"10 / 15",lg:"10 / 13"},gridRow:{md:"1"}},n.a.createElement(m.a,{type:"submit",size:"full",onClick:function(e){e.preventDefault(),window.scrollTo(0,0)}},"Create New Location")),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"5 / 10",lg:"7 / 10"},gridRow:{md:"1"}},n.a.createElement(m.a,{size:"full",buttonType:"secondary",type:"button",onClick:function(){return Object(s.a)("/")}},"Create and Add Another")),n.a.createElement(f.a,{gridColumn:{base:"1 / -1",md:"1 / 2"},gridRow:{md:"1"},justifySelf:"center"},n.a.createElement(m.p,{type:"button",onClick:r},"Cancel"))),n.a.createElement(O.a,{isOpen:l,onClose:i,onLeave:function(){var e={eventId:a,formSection:"locations"};Object(s.a)("/event",{state:e})}}))))};a.default=function(e){var a,t,l,r,u;if(null===(a=e.location)||void 0===a||null===(t=a.state)||void 0===t?void 0:t.eventLklId){var s,c=Object(o.a)("ctfForms","events"),m=c&&c.find((function(a){var t,l;return a.eventId===(null===(t=e.location)||void 0===t||null===(l=t.state)||void 0===l?void 0:l.eventId)}));(u=null==m||null===(s=m.eventLklDtoList)||void 0===s?void 0:s.find((function(a){var t,l;return a.eventLklId===(null===(t=e.location)||void 0===t||null===(l=t.state)||void 0===l?void 0:l.eventLklId)})))&&(u.createdDateTime&&(u.createdDateTime=i()(u.createdDateTime).toDate()),u.lastUpdatedDateTime&&(u.lastUpdatedDateTime=i()(u.lastUpdatedDateTime).toDate()))}var v=void 0===u?"create":"edit";return n.a.createElement(d.a,{formMode:v},n.a.createElement(x,{eventId:null===(l=e.location)||void 0===l||null===(r=l.state)||void 0===r?void 0:r.eventId,savedForm:u}))}},wsxo:function(e){e.exports=JSON.parse('[{"label":"California","value":"CA"},{"label":"Florida","value":"FL"},{"label":"Virginia","value":"VA"},{"label":"Texas","value":"TX"}]')}}]);
//# sourceMappingURL=component---src-pages-add-lkl-tsx-46e4850cbed9477eafb8.js.map