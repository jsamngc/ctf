(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"HaE+":function(e,t,r){"use strict";function n(e,t,r,n,a,u,c){try{var i=e[u](c),o=i.value}catch(l){return void r(l)}i.done?t(o):Promise.resolve(o).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,u){var c=e.apply(t,r);function i(e){n(c,a,u,i,o,"next",e)}function o(e){n(c,a,u,i,o,"throw",e)}i(void 0)}))}}r.d(t,"a",(function(){return a}))},RV9o:function(e){e.exports=JSON.parse('[{"label":"Crisis","value":"Crisis"},{"label":"General","value":"General"},{"label":"Monitoring","value":"Monitoring"}]')},rZ4P:function(e){e.exports=JSON.parse('[{"label":"Monitoring Group","value":"mg"},{"label":"Working Group","value":"wg"},{"label":"Task Force","value":"tf"}]')},xZ9P:function(e,t,r){"use strict";r.r(t);r("dRSK");var n=r("q1tI"),a=r.n(n),u=r("wd/R"),c=r.n(u),i=r("nB9M"),o=(r("rGqo"),r("yt8O"),r("Btvt"),r("RW0V"),r("pIFo"),r("91GP"),r("69N/")),l=r("BMxC"),s=r("pVnL"),d=r.n(s),f=r("8OQS"),v=r.n(f),m=r("qKvR"),b=Object(n.forwardRef)((function(e,t){var r=e.orientation,n=v()(e,["orientation"]),a="vertical"===r?{borderLeft:"0.0625rem solid",height:"auto",mx:2}:{borderBottom:"0.0625rem solid",width:"auto",my:2};return Object(m.d)(l.a,d()({ref:t,as:"hr","aria-orientation":r,border:"0",opacity:"0.6"},a,{borderColor:"inherit"},n))})),p=r("ggNy");var g=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,a={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["children"]);return a.a.createElement(o.a,Object.assign({as:"form",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:["repeat(4, 1fr)","repeat(4, 1fr)","repeat(4, 1fr)","repeat(8, 1fr)","repeat(12, 1fr)"]},r),t)},O=function(e){return a.a.createElement(o.a,{as:"section",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:["repeat(4, 1fr)","repeat(4, 1fr)","repeat(4, 1fr)","repeat(8, 1fr)","repeat(12, 1fr)"]},a.a.createElement(l.a,{marginBottom:"4",gridColumn:"1 / -1"},a.a.createElement(p.l,null,e.title)),e.children,e.showDivider&&a.a.createElement(l.a,{gridColumn:{base:"1 / -1"}},a.a.createElement(b,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})))},h=a.a.createContext(null);h.displayName="CTFFormContext";var j=function(){return Object(n.useContext)(h)},y=function(e){var t=Object(n.useState)(e.initialFormMode),r=t[0],u={formMode:r,setFormMode:t[1],isCreate:"create"===r,isEdit:"edit"===r,isView:"view"===r};return a.a.createElement(h.Provider,{value:u},e.children)},E=function(e){return e&&e.replace(/[\u2018\u2019\u201A]/,"'").replace(/[\u201C\u201D\u201E]/,'"').replace(/[\u2013\u2014]/,"-")},x=(r("INYr"),r("Wbzz")),D=r("XZ7F"),C=r("Weur"),S=r("mqTt"),R=function(e){return a.a.createElement(p.o,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"sm"},a.a.createElement(p.s,null,a.a.createElement(p.m,null,"Leave Page?")),a.a.createElement(p.q,null),a.a.createElement(p.p,null,a.a.createElement(p.t,null,"Do you want to leave this page and lose unsaved data?")),a.a.createElement(p.r,null,a.a.createElement(C.a,{align:"center"},a.a.createElement(l.a,{marginRight:"20"},a.a.createElement(S.a,{onClick:e.onLeave},"Leave")),a.a.createElement(p.b,{size:p.c.SM,onClick:e.onClose},"Stay"))))},k=r("wx14"),w=r("Ff2n"),I=r("iuhU"),T=r("H2TA"),V=r("NqtD");function L(e){var t,r,n;return t=e,r=0,n=1,e=(Math.min(Math.max(r,t),n)-r)/(n-r),e=(e-=1)*e*e+1}var F=n.forwardRef((function(e,t){var r,a=e.classes,u=e.className,c=e.color,i=void 0===c?"primary":c,o=e.disableShrink,l=void 0!==o&&o,s=e.size,d=void 0===s?40:s,f=e.style,v=e.thickness,m=void 0===v?3.6:v,b=e.value,p=void 0===b?0:b,g=e.variant,O=void 0===g?"indeterminate":g,h=Object(w.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),j={},y={},E={};if("determinate"===O||"static"===O){var x=2*Math.PI*((44-m)/2);j.strokeDasharray=x.toFixed(3),E["aria-valuenow"]=Math.round(p),"static"===O?(j.strokeDashoffset="".concat(((100-p)/100*x).toFixed(3),"px"),y.transform="rotate(-90deg)"):(j.strokeDashoffset="".concat((r=(100-p)/100,r*r*x).toFixed(3),"px"),y.transform="rotate(".concat((270*L(p/70)).toFixed(3),"deg)"))}return n.createElement("div",Object(k.a)({className:Object(I.a)(a.root,u,"inherit"!==i&&a["color".concat(Object(V.a)(i))],{indeterminate:a.indeterminate,static:a.static}[O]),style:Object(k.a)({width:d,height:d},y,f),ref:t,role:"progressbar"},E,h),n.createElement("svg",{className:a.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},n.createElement("circle",{className:Object(I.a)(a.circle,l&&a.circleDisableShrink,{indeterminate:a.circleIndeterminate,static:a.circleStatic}[O]),style:j,cx:44,cy:44,r:(44-m)/2,fill:"none",strokeWidth:m})))})),M=Object(T.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(F),A=function(){return a.a.createElement(l.a,{color:"clickable"},a.a.createElement(M,{color:"inherit",size:48,thickness:7.5}))},B=function(e){return a.a.createElement(p.o,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"sm"},a.a.createElement(p.s,null,a.a.createElement(p.m,null,"Please Wait...")),a.a.createElement(p.p,null,a.a.createElement(C.a,{align:"center"},a.a.createElement(l.a,{color:"clickable"},a.a.createElement(A,null)),a.a.createElement(l.a,{pl:"24"},a.a.createElement(p.t,null,"Saving your information")))))},z=(r("rE2o"),r("HEwt"),r("HAE/"),r("bHtr"),r("eM6i"),r("ioFf"),r("hhXQ"),r("SRfc"),r("VRzm"),r("Z2Ku"),r("L9s1"),r("XfO3"),r("T39b"),r("dZ+Y"),r("V+eJ"),r("o0o1")),P=r.n(z),N=(r("a1Th"),r("h7Nl"),r("2Spj"),r("ls82"),r("HaE+")),H=(r("Oyvg"),r("9VmF"),r("8+KV"),r("f3/d"),r("KQm4")),W=(r("bWfx"),r("KKXr"),r("0l/t"),r("rePB")),q=r("ODXe");r("/8Fb"),r("DNiP"),r("LK8F");var G=function(e){return e instanceof HTMLElement},U="blur",X="change",Z="input",$="onBlur",K="onChange",_="onSubmit",Y="all",J="max",Q="min",ee="maxLength",te="minLength",re="pattern",ne="required",ae="validate";function ue(e){var t=e.field.ref,r=e.handleChange,n=e.isRadioOrCheckbox;G(t)&&r&&(t.addEventListener(n?X:Z,r),t.addEventListener(U,r))}var ce=function(e){return null==e},ie=function(e){return Array.isArray(e)},oe=function(e){return"object"==typeof e},le=function(e){return!ce(e)&&!ie(e)&&oe(e)},se=function(e){return!ie(e)&&(/^\w*$/.test(e)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(e))},de=function(e){var t=[];return e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,(function(e,r,n,a){t.push(n?a.replace(/\\(\\)?/g,"$1"):r||e)})),t};function fe(e,t,r){for(var n=-1,a=se(t)?[t]:de(t),u=a.length,c=u-1;++n<u;){var i=a[n],o=r;if(n!==c){var l=e[i];o=le(l)||ie(l)?l:isNaN(+a[n+1])?{}:[]}e[i]=o,e=e[i]}return e}var ve=function(e){return Object.entries(e).reduce((function(e,t){var r=Object(q.a)(t,2),n=r[0],a=r[1];return se(n)?Object.assign(Object.assign({},e),Object(W.a)({},n,a)):(fe(e,n,a),e)}),{})},me=function(e){return void 0===e},be=function(e){return e.filter(Boolean)},pe=function(e,t,r){var n=be(t.split(/[,[\].]+?/)).reduce((function(e,t){return ce(e)?e:e[t]}),e);return me(n)||n===e?me(e[t])?r:e[t]:n},ge=function(e,t){for(var r in e)if(pe(t,r)){var n=e[r];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}},Oe=function(e,t){G(e)&&e.removeEventListener&&(e.removeEventListener(Z,t),e.removeEventListener(X,t),e.removeEventListener(U,t))},he={isValid:!1,value:""},je=function(e){return ie(e)?e.reduce((function(e,t){return t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e}),he):he},ye=function(e){return"radio"===e.type},Ee=function(e){return"file"===e.type},xe=function(e){return"checkbox"===e.type},De=function(e){return e.type==="".concat("select","-multiple")},Ce=function(e){return""===e},Se={value:!1,isValid:!1},Re={value:!0,isValid:!0},ke=function(e){if(ie(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:t,isValid:!!t.length}}var r=e[0].ref,n=r.checked,a=r.value,u=r.attributes;return n?u&&!me(u.value)?me(a)||Ce(a)?Re:{value:a,isValid:!0}:Re:Se}return Se};function we(e,t){if(e[t]){var r=e[t],n=r.ref.value,a=r.ref;return Ee(a)?a.files:ye(a)?r?je(r.options).value:"":De(a)?(u=a.options,Object(H.a)(u).filter((function(e){return e.selected})).map((function(e){return e.value}))):xe(a)?!!r&&ke(r.options).value:n}var u}function Ie(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&Ie(e.parentNode)}var Te=function(e){return le(e)&&!Object.keys(e).length};function Ve(e,t){var r=se(t)?[t]:de(t),n=1==r.length?e:function(e,t){for(var r=t.slice(0,-1).length,n=0;n<r;)e=me(e)?n++:e[t[n++]];return n==r?e:void 0}(e,r),a=r[r.length-1],u=void 0;n&&delete n[a];for(var c=0;c<r.slice(0,-1).length;c++){var i=-1,o=void 0,l=r.slice(0,-(c+1)),s=l.length-1;for(c>0&&(u=e);++i<l.length;){var d=l[i];o=o?o[d]:e[d],s===i&&(le(o)&&Te(o)||ie(o)&&!o.filter((function(e){return le(e)&&!Te(e)})).length)&&(u?delete u[d]:delete e[d]),u=o}}return e}var Le=function(e,t){return e&&e.ref===t};function Fe(e,t,r,n,a,u){var c=r.ref,i=r.ref,o=i.name,l=i.type,s=r.mutationWatcher,d=e[o];if(!a){var f=we(e,o);me(f)||(n.current[o]=f)}if(l)if((ye(c)||xe(c))&&d){var v=d.options;ie(v)&&v.length?(be(v).forEach((function(e,r){var n=e.ref,a=e.mutationWatcher;(n&&Ie(n)&&Le(e,n)||u)&&(Oe(n,t),a&&a.disconnect(),Ve(v,"[".concat(r,"]")))})),v&&!be(v).length&&delete e[o]):delete e[o]}else(Ie(c)&&Le(d,c)||u)&&(Oe(c,t),s&&s.disconnect(),delete e[o]);else delete e[o]}var Me=function(e){return"string"==typeof e},Ae=function(e,t){var r={},n=function(n){(me(t)||(Me(t)?n.startsWith(t):ie(t)&&t.find((function(e){return n.startsWith(e)}))))&&(r[n]=we(e,n))};for(var a in e)n(a);return r},Be=function(e,t){var r=t.type,n=t.types,a=t.message;return le(e)&&e.type===r&&e.message===a&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(e);return r.length===Object.keys(t).length&&r.every((function(r){return t[r]&&t[r]===e[r]}))}(e.types,n)};function ze(e){var t=e.errors,r=e.name,n=e.error,a=e.validFields,u=e.fieldsWithValidation,c=Te(n),i=Te(t),o=pe(n,r),l=pe(t,r);return(!c||!a.has(r))&&(!!(i!==c||!i&&!l||c&&u.has(r)&&!a.has(r))||o&&!Be(l,o))}var Pe=function(e){return e instanceof RegExp},Ne=function(e){return le(t=e)&&!Pe(t)?e:{value:e,message:""};var t},He=function(e){return"function"==typeof e},We=function(e){return"boolean"==typeof e},qe=function(e){return Me(e)||le(e)&&Object(n.isValidElement)(e)};function Ge(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(qe(e)||We(e)&&!e)return{type:r,message:qe(e)?e:"",ref:t}}var Ue=function(e,t,r,n,a){if(t){var u=r[e];return Object.assign(Object.assign({},u),{types:Object.assign(Object.assign({},u&&u.types?u.types:{}),Object(W.a)({},n,a||!0))})}return{}},Xe=function(){var e=Object(N.a)(P.a.mark((function e(t,r,n){var a,u,c,i,o,l,s,d,f,v,m,b,p,g,O,h,j,y,E,x,D,C,S,R,k,w,I,T,V,L,F,M,A,B,z,N,H,W,G,U,X,Z,$,K,_,Y,ue,ie,oe,se,de,fe,ve,me,be,pe,ge,Oe,he;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.ref,u=n.ref,c=u.type,i=u.value,o=n.options,l=n.required,s=n.maxLength,d=n.minLength,f=n.min,v=n.max,m=n.pattern,b=n.validate,g=t.current,O=a.name,h={},j=ye(a),y=xe(a),E=j||y,x=Ce(i),D=Ue.bind(null,O,r,h),C=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:te,c=e?t:r;h[O]=Object.assign({type:e?n:u,message:c,ref:a},D(e?n:u,c))},!l||!(!j&&!y&&(x||ce(i))||We(i)&&!i||y&&!ke(o).isValid||j&&!je(o).isValid)){e.next=16;break}if(S=qe(l)?{value:!!l,message:l}:Ne(l),R=S.value,k=S.message,!R){e.next=16;break}if(h[O]=Object.assign({type:ne,message:k,ref:E?null===(p=g[O].options)||void 0===p?void 0:p[0].ref:a},D(ne,k)),r){e.next=16;break}return e.abrupt("return",h);case 16:if(ce(f)&&ce(v)){e.next=24;break}if(T=Ne(v),V=T.value,L=T.message,F=Ne(f),M=F.value,A=F.message,"number"===c||!c&&!isNaN(i)?(B=a.valueAsNumber||parseFloat(i),ce(V)||(w=B>V),ce(M)||(I=B<M)):(z=a.valueAsDate||new Date(i),Me(V)&&(w=z>new Date(V)),Me(M)&&(I=z<new Date(M))),!w&&!I){e.next=24;break}if(C(!!w,L,A,J,Q),r){e.next=24;break}return e.abrupt("return",h);case 24:if(!Me(i)||x||!s&&!d){e.next=34;break}if(N=Ne(s),H=N.value,W=N.message,G=Ne(d),U=G.value,X=G.message,Z=i.toString().length,$=!ce(H)&&Z>H,K=!ce(U)&&Z<U,!$&&!K){e.next=34;break}if(C(!!$,W,X),r){e.next=34;break}return e.abrupt("return",h);case 34:if(!m||x){e.next=40;break}if(_=Ne(m),Y=_.value,ue=_.message,!Pe(Y)||Y.test(i)){e.next=40;break}if(h[O]=Object.assign({type:re,message:ue,ref:a},D(re,ue)),r){e.next=40;break}return e.abrupt("return",h);case 40:if(!b){e.next=73;break}if(ie=we(g,O),oe=E&&o?o[0].ref:a,!He(b)){e.next=54;break}return e.next=46,b(ie);case 46:if(se=e.sent,!(de=Ge(se,oe))){e.next=52;break}if(h[O]=Object.assign(Object.assign({},de),D(ae,de.message)),r){e.next=52;break}return e.abrupt("return",h);case 52:e.next=73;break;case 54:if(!le(b)){e.next=73;break}fe={},ve=0,me=Object.entries(b);case 57:if(!(ve<me.length)){e.next=69;break}if(be=Object(q.a)(me[ve],2),pe=be[0],ge=be[1],Te(fe)||r){e.next=61;break}return e.abrupt("break",69);case 61:return e.next=63,ge(ie);case 63:Oe=e.sent,(he=Ge(Oe,oe,pe))&&(fe=Object.assign(Object.assign({},he),D(pe,he.message)),r&&(h[O]=fe));case 66:ve++,e.next=57;break;case 69:if(Te(fe)){e.next=73;break}if(h[O]=Object.assign({ref:oe},fe),r){e.next=73;break}return e.abrupt("return",h);case 73:return e.abrupt("return",h);case 74:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ze=function(e){return ce(e)||!oe(e)},$e=function(e,t){return function e(t,r){var n=function(r,n,a){var u=a?"".concat(t,".").concat(n):"".concat(t,"[").concat(n,"]");return Ze(r)?u:e(u,r)};return ie(r)?r.map((function(e,t){return n(e,t)})):Object.entries(r).map((function(e){var t=Object(q.a)(e,2),r=t[0],a=t[1];return n(a,r,!0)}))}(e,t).flat(1/0)},Ke=function(e,t,r,n,a){var u;return r.add(t),Te(e)?u=void 0:me(e[t])?(u=pe(ve(e),t),me(u)||$e(t,u).forEach((function(e){return r.add(e)}))):u=e[t],me(u)?a?n:pe(n,t):u},_e=function(e){var t=e.isOnChange,r=e.hasError,n=e.isBlurEvent,a=e.isOnSubmit,u=e.isReValidateOnSubmit,c=e.isOnBlur,i=e.isReValidateOnBlur,o=e.isSubmitted;return t&&n||a&&u||a&&!o||c&&!n&&!r||i&&!n&&r||u&&o},Ye=function(e){return e.substring(0,e.indexOf("["))},Je=function(e,t){var r=ve(Ae(e));return t?pe(r,t,r):r};function Qe(e,t){if(!ie(e)||!ie(t)||e.length!==t.length)return!0;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(me(a)||Object.keys(n).length!==Object.keys(a).length)return!0;for(var u in n)if(n[u]!==a[u])return!0}return!1}var et=function(e,t){return RegExp("^".concat(t,"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},tt=function(e,t){return Object(H.a)(e).some((function(e){return et(t,e)}))},rt=function(e){return e.type==="".concat("select","-one")};function nt(e,t){var r=new MutationObserver((function(){Ie(e)&&(r.disconnect(),t())}));return r.observe(window.document,{childList:!0,subtree:!0}),r}var at=function(e){return{isOnSubmit:!e||e===_,isOnBlur:e===$,isOnChange:e===K,isOnAll:e===Y}},ut=function(e){return ye(e)||xe(e)};function ct(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}var it=Object(n.createContext)(null);it.displayName="RHFContext";var ot=function(){return Object(n.useContext)(it)},lt=function(e){var t=e.children,r=ct(e,["children"]);return Object(n.createElement)(it.Provider,{value:Object.assign({},r)},t)},st=function(){var e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))};function dt(e){var t=e.control,r=e.name,a=e.defaultValue,u=ot(),c=t||u.control,i=c.watchFieldsHookRef,o=c.watchFieldsHookRenderRef,l=c.watchInternal,s=c.defaultValuesRef,d=Object(n.useState)(me(a)?Me(r)?pe(s.current,r):ie(r)?r.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(W.a)({},t,pe(s.current,t)))}),{}):s.current:a),f=Object(q.a)(d,2),v=f[0],m=f[1],b=Object(n.useRef)(),p=Object(n.useRef)(a),g=Object(n.useRef)(r),O=Object(n.useCallback)((function(){return m(l(g.current,p.current,b.current))}),[m,l,p,g,b]);return Object(n.useEffect)((function(){var e=b.current=st(),t=o.current,r=i.current;return r[e]=new Set,t[e]=O,l(g.current,p.current,e),function(){delete r[e],delete t[e]}}),[g,O,o,i,l,p]),me(v)?a:v}var ft=function(e){var t=e.name,r=e.rules,a=e.as,u=e.render,c=e.defaultValue,i=e.control,o=e.onFocus,l=ct(e,["name","rules","as","render","defaultValue","control","onFocus"]),s=ot(),d=i||s.control,f=d.defaultValuesRef,v=d.setValue,m=d.register,b=d.unregister,p=d.errorsRef,g=d.trigger,O=d.mode,h=O.isOnSubmit,j=O.isOnBlur,y=O.isOnChange,E=d.reValidateMode,x=E.isReValidateOnBlur,D=E.isReValidateOnSubmit,C=d.isSubmittedRef,S=d.touchedFieldsRef,R=d.readFormStateRef,k=d.reRender,w=d.fieldsRef,I=d.fieldArrayNamesRef,T=d.unmountFieldsStateRef,V=d.formState,L=!tt(I.current,t),F=function(){return!me(T.current[t])&&L?T.current[t]:me(c)?pe(f.current,t):c},M=Object(n.useState)(F()),A=Object(q.a)(M,2),B=A[0],z=A[1],P=Object(n.useRef)(B),N=We(B),H=Object(n.useRef)(o),G=C.current,U=function(){return!_e({hasError:!!pe(p.current,t),isOnBlur:j,isOnSubmit:h,isOnChange:y,isReValidateOnBlur:x,isReValidateOnSubmit:D,isSubmitted:G})},X=function(e){var t=function(e,t){return Ze(e)||!le(e.target)||le(e.target)&&!e.type?e:t||me(e.target.value)?e.target.checked:e.target.value}(e[0],N);return z(t),P.current=t,t},Z=Object(n.useCallback)((function(){w.current[t]?w.current[t]=Object.assign({ref:w.current[t].ref},r):m(Object.defineProperty({name:t,focus:H.current},"value",{set:function(e){z(e),P.current=e},get:function(){return P.current}}),r)}),[w,r,t,H,m]);Object(n.useEffect)((function(){return function(){!tt(I.current,t)&&b(t)}}),[b,t,I]),Object(n.useEffect)((function(){Z()}),[Z]),Object(n.useEffect)((function(){w.current[t]||(Z(),L&&z(F()))}));var $=function(){R.current.touched&&!pe(S.current,t)&&(fe(S.current,t,!0),k()),(j||V.isSubmitted&&x)&&g(t)},K=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return v(t,X(r),{shouldValidate:U(),shouldDirty:!0})},_=Object.assign(Object.assign(Object.assign({},l),{onChange:K,onBlur:$}),Object(W.a)({},N?"checked":"value",B));return a?Object(n.isValidElement)(a)?Object(n.cloneElement)(a,_):Object(n.createElement)(a,_):u?u({onChange:K,onBlur:$,value:B}):null},vt=r("soUV"),mt=r("o0pm"),bt=r("FpzS"),pt=Object(n.forwardRef)((function(e,t){return Object(m.d)(bt.a,d()({py:"8px",minHeight:"80px",lineHeight:"short",ref:t,as:"textarea"},e))}));pt.displayName="Textarea";var gt,Ot=pt;Object(n.forwardRef)((function(e,t){var r=e.minHeight,a=void 0===r?"39px":r,u=e.onInput,c=v()(e,["minHeight","onInput"]),i=Object(n.useState)(0),o=i[0],l=i[1],s=Object(n.useRef)(),f=t||s;Object(n.useLayoutEffect)((function(){f.current&&l(f.current.scrollHeight)}),[f]);return Object(m.d)(pt,d()({rows:"1",onInput:function(e){f.current&&setTimeout((function(){l("auto"),l(f.current.scrollHeight)}),0),u&&u(e)},css:{height:o,resize:"none",overflow:"hidden",minHeight:a},ref:f},c))})).displayName="ExpandingTextarea",function(e){e.XS="inputXs",e.SM="inputSm",e.MD="inputMd",e.LG="inputLg",e.XL="inputXl",e.XXL="inputXxl",e.FULL="full"}(gt||(gt={}));var ht=a.a.forwardRef((function(e,t){var r=e.size,u=void 0===r?gt.FULL:r,c=e.labelId,i=e.onChange,o=e.validationState,l=e.errorMessage,s=function(e,t){if(null==e)return{};var r,n,a={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["size","labelId","onChange","validationState","errorMessage"]),d=o===p.y.SUCCESS,f=o===p.y.ERROR,v=Object(n.useState)(s.value),m=v[0],b=v[1],g=s.id+"_charCount",O="inputBorder";return d?O="success":f&&(O="error"),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ot,Object.assign({ref:t,resize:"none",onChange:function(e){b(e.target.value),i&&i(e)},"aria-labelledby":c,"aria-describedby":g,color:"text",display:"inline-block",fontFamily:"body",fontSize:"base",borderStyle:"solid",border:d||f?2:1,borderColor:O,boxSizing:"border-box",height:"textarea",width:u,mt:"8",pl:"12",pr:"12",py:"4",outline:"none",_disabled:{color:"disabledButtonText",bg:"disabledBackground",borderColor:"disabledBorder"},_focus:{borderWidth:"2px",borderColor:"accent"}},s)),a.a.createElement(jt,{id:g,maxLength:s.maxLength,value:m}),!s.isDisabled&&f&&l&&a.a.createElement(p.h,{message:l}))})),jt=function(e){var t,r=e.id,n=e.maxLength,u=e.value,c=new Intl.NumberFormat("en-US"),i=c.format(null!==(t=null==u?void 0:u.length)&&void 0!==t?t:0);return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(l.a,{textAlign:"right"},a.a.createElement(p.i,{id:r},i+" / "+c.format(n))))},yt=function(e){var t,r,u=ot(),i=u.register,s=u.formState,d=u.errors,f=u.setValue,v=u.getValues,m=u.control,b=e.savedEvent,g=Object(n.useRef)(null),h=Object(n.useRef)(null),y=Object(n.useRef)(null);Object(n.useEffect)((function(){i({name:"evacStatusCode"})}),[i]),Object(n.useEffect)((function(){d.evacStatusCode&&g.current?g.current.focus():d.evacDepAuthDate&&h.current?h.current.focus():d.evacDepOrdDate&&y.current&&y.current.focus()}));var x=dt({name:"evacStatusCode"});console.log("Evac status code watch: "+v("evacStatusCode")),console.log("Evac status code val: "+v("evacStatusCode"));var D=j(),C=D.isCreate,S=D.isView,R=D.isEdit,k=s.dirtyFields;return a.a.createElement(O,{title:"Evacuation Details"},a.a.createElement(l.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 3"}},a.a.createElement(p.j,{inputId:"evacStatusCode",labelText:"Evacuation Status",labelId:"evacStatusCodeLabel"},a.a.createElement(p.u,{ref:g,id:"evacStatusCode",name:"evacStatusCode",options:mt,labelId:"evacStatusCodeLabel",size:"full",isDisabled:S,value:S||R?null==b?void 0:b.evacStatusCode:"",validationState:(null==d?void 0:d.evacStatusCode)?p.y.ERROR:"",errorMessage:null==d||null===(t=d.evacStatusCode)||void 0===t?void 0:t.message,onChange:function(e){var t=e.selectedItem.value;f("evacStatusCode",t,{shouldDirty:!0}),"ADEP"!==t||v("evacDepAuthDate")?"ODEP"!==t||v("evacDepOrdDate")||(f("evacDepOrdDate",new Date),C&&!k.evacDepAuthDate&&f("evacDepAuthDate","")):(f("evacDepAuthDate",new Date),C&&!k.evacDepOrdDate&&f("evacDepOrdDate",""))}}))),a.a.createElement(o.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 9"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(2,max-content)"}},a.a.createElement(p.j,{inputId:"evacDepAuthDate",labelText:"Departure Authorized",labelId:"evacDepAuthDateLabel"},a.a.createElement(ft,{control:m,name:"evacDepAuthDate",render:function(e){var t,r=e.onBlur,n=e.value;return a.a.createElement(p.g,{ref:h,id:"evacDepAuthDate",isDisabled:S||!x||"ADEP"!==x,labelId:"evacDepAuthDateLabel",min:c()("12/31/1899",p.z).toDate(),max:c()("01/01/9999",p.z).toDate(),date:n,onBlur:r,isInvalid:(null==d?void 0:d.evacDepAuthDate)?p.y.ERROR:"",errorMessage:null==d||null===(t=d.evacDepAuthDate)||void 0===t?void 0:t.message,onChange:function(e){return f("evacDepAuthDate",e,{shouldDirty:!0})}})}})),a.a.createElement(p.j,{inputId:"evacDepOrdDate",labelText:"Departure Ordered",labelId:"orderedDateLabel"},a.a.createElement(ft,{control:m,name:"evacDepOrdDate",render:function(e){var t,r=e.onBlur,n=e.value;return a.a.createElement(p.g,{ref:y,id:"evacDepOrdDate",isDisabled:S||!x||"ODEP"!==x,labelId:"orderedDateLabel",min:c()("12/31/1899",p.z).toDate(),max:c()("01/01/9999",p.z).toDate(),date:n,onBlur:r,isInvalid:(null==d?void 0:d.evacDepOrdDate)?p.y.ERROR:"",errorMessage:null==d||null===(t=d.evacDepOrdDate)||void 0===t?void 0:t.message,onChange:function(e){return f("evacDepOrdDate",e,{shouldDirty:!0})}})}}))),a.a.createElement(l.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},a.a.createElement(p.j,{inputId:"evacSummary",labelText:"Evacuation Summary",labelId:"evacSummaryLabel"},a.a.createElement(ht,{ref:i({pattern:{value:/[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/,message:"Please enter only plain text in the evacuation summary field"},maxLength:{value:4e3,message:"Evacuation summary cannot exceed 4000 characters"}}),name:"evacSummary",id:"evacSummary",labelId:"evacSummaryLabel",maxLength:4e3,isDisabled:S,validationState:(null==d?void 0:d.evacSummary)?p.y.ERROR:"",errorMessage:null==d||null===(r=d.evacSummary)||void 0===r?void 0:r.message,onChange:function(e){e.target.value=E(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/,"")}}))))},Et=r("rZ4P"),xt=r("RV9o"),Dt=r("wfq5"),Ct=function(e){var t,r,u,i,s,d=Object(D.a)(),f=d.isOpen,v=d.onOpen,m=d.onClose,b=ot(),g=b.register,h=b.errors,y=b.setValue,x=b.control,C=e.savedEvent,S=Object(n.useRef)(null),R=Object(n.useRef)(null),k=Object(n.useRef)(null),w=Object(n.useRef)(null);Object(n.useEffect)((function(){g({name:"managementTypeCode"},{required:"Please select a management type"}),g({name:"eventTypeId"},{required:"Please select an event type"})}),[g]),Object(n.useEffect)((function(){h.eventStartDate&&S.current?S.current.focus():h.eventEndDate&&R.current?R.current.focus():h.managementTypeCode&&k.current?k.current.focus():h.eventTypeId&&w.current&&w.current.focus()}));var I=dt({name:"activeIndicator"}),T=dt({name:"eventStartDate"}),V=j(),L=V.isView,F=V.isEdit;return a.a.createElement(O,{title:"Event Details",showDivider:!0},a.a.createElement(l.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},a.a.createElement(p.j,{inputId:"eventTitle",labelText:"Event Title",labelId:"eventTitleLabel",isRequired:!0},a.a.createElement(p.x,{ref:g({required:"Please enter an event title",maxLength:{value:25,message:"Event title cannot exceed 25 characters"}}),name:"eventTitle",id:"eventTitle",labelId:"eventTitleLabel",size:"full",isDisabled:L,maxLength:25,validationState:(null==h?void 0:h.eventTitle)?p.y.ERROR:"",errorMessage:null==h||null===(t=h.eventTitle)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=e.target.value.replace(/^[^A-Za-z0-9]+/,"")}}))),a.a.createElement(o.a,{gridColumn:{base:"1 / -1"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(3,max-content)"}},a.a.createElement(p.j,{inputId:"eventStartDate",labelText:"Start Date",labelId:"eventStartDateLabel",isRequired:!0},a.a.createElement(ft,{control:x,name:"eventStartDate",rules:{required:"Please enter a start date"},render:function(e){var t,r=e.onBlur,n=e.value;return a.a.createElement(p.g,{ref:S,id:"eventStartDate",labelId:"eventStartDateLabel",min:c()("12/31/1899",p.z).toDate(),max:new Date,isDisabled:L,date:n,onBlur:r,isInvalid:(null==h?void 0:h.eventStartDate)?p.y.ERROR:"",errorMessage:null==h||null===(t=h.eventStartDate)||void 0===t?void 0:t.message,onChange:function(e){return y("eventStartDate",e,{shouldDirty:!0})}})}})),a.a.createElement(p.j,{inputId:"eventEndDate",labelText:"End Date",labelId:"eventEndDateLabel"},a.a.createElement(ft,{control:x,name:"eventEndDate",render:function(e){var t,r=e.onBlur,n=e.value;return a.a.createElement(p.g,{ref:R,id:"eventEndDate",isDisabled:L||I,labelId:"eventEndDateLabel",min:T||c()("12/31/1899",p.z).toDate(),max:c()("01/01/9999",p.z).toDate(),date:n,onBlur:r,isInvalid:(null==h?void 0:h.eventEndDate)?p.y.ERROR:"",errorMessage:null==h||null===(t=h.eventEndDate)||void 0===t?void 0:t.message,onChange:function(e){return y("eventEndDate",e,{shouldDirty:!0})}})}})),a.a.createElement(p.j,{inputId:"activeIndicator",labelText:"Active",labelId:"activeIndicatorLabel"},a.a.createElement(p.w,{ref:g(),name:"activeIndicator",id:"activeIndicator",value:"Active",isDisabled:!F,ariaLabelledBy:"activeIndicatorLabel",validationState:(null==h?void 0:h.activeIndicator)?p.y.ERROR:"",errorMessage:null==h||null===(r=h.activeIndicator)||void 0===r?void 0:r.message,onChange:function(e){e.target.checked?y("eventEndDate",void 0):(e.preventDefault(),v())}}))),a.a.createElement(l.a,{gridColumn:{base:"1 / -1",md:"span 4"}},a.a.createElement(p.j,{inputId:"managementTypeCode",labelText:"Management Type",labelId:"managementTypeCodeLabel",isRequired:!0},a.a.createElement(p.u,{ref:k,id:"managementTypeCode",name:"managementTypeCode",options:Et,labelId:"managementTypeCodeLabel",size:"full",value:L||F?null==C?void 0:C.managementTypeCode:"mg",isDisabled:L,validationState:(null==h?void 0:h.managementTypeCode)?p.y.ERROR:"",errorMessage:null==h||null===(u=h.managementTypeCode)||void 0===u?void 0:u.message,onChange:function(e){return y("managementTypeCode",e.selectedItem.value,{shouldDirty:!0})}}))),a.a.createElement(l.a,{gridColumn:{base:"1 / -1",md:"span 4"}},a.a.createElement(p.j,{inputId:"eventTypeId",labelText:"Event Type",labelId:"eventTypeIdLabel",isRequired:!0},a.a.createElement(p.u,{ref:w,id:"eventTypeId",name:"eventTypeId",options:xt,labelId:"eventTypeIdLabel",size:"full",isDisabled:L,value:L||F?null==C?void 0:C.eventTypeId:"General",validationState:(null==h?void 0:h.eventTypeId)?p.y.ERROR:"",errorMessage:null==h||null===(i=h.eventTypeId)||void 0===i?void 0:i.message,onChange:function(e){return y("eventTypeId",e.selectedItem.value,{shouldDirty:!0})}}))),a.a.createElement(l.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},a.a.createElement(p.j,{inputId:"eventSummary",labelText:"Event Summary",labelId:"eventSummaryLabel"},a.a.createElement(ht,{ref:g({pattern:{value:/[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/,message:"Please enter only plain text in the event summary field"},maxLength:{value:4e3,message:"Event summary cannot exceed 4000 characters"}}),name:"eventSummary",id:"eventSummary",labelId:"eventSummaryLabel",maxLength:4e3,isDisabled:L,validationState:(null==h?void 0:h.eventSummary)?p.y.ERROR:"",errorMessage:null==h||null===(s=h.eventSummary)||void 0===s?void 0:s.message,onChange:function(e){e.target.value=E(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/,"")}}))),a.a.createElement(Dt.a,{isOpen:f,onCancel:m,onConfirm:function(){y("activeIndicator",!1),y("eventEndDate",new Date),m()}}))},St=a.a.createElement(p.a,{status:p.v.success,title:"Save successful!",onClose:function(){return console.log("Banner closed")}}),Rt=function(e){var t=e.savedEvent,r=j(),u=r.isView,o=r.isEdit,s=r.setFormMode,d=Object(D.a)(),f=d.isOpen,v=d.onOpen,m=d.onClose,b=Object(D.a)(),O=b.isOpen,h=b.onOpen,y=b.onClose,E=Object(p.A)(St,2),k=Object(i.b)("ctfForms","events")[1],w={eventId:"OCS"+c()(new Date).format("YYYYDDD")+Math.floor(Math.random()*Math.floor(1e6)),eventTitle:"",eventStartDate:new Date,activeIndicator:!0,managementTypeCode:"mg",eventTypeId:"General",eventSummary:"",evacStatusCode:"",evacSummary:"",lastUpdatedDateTime:new Date},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode,r=void 0===t?_:t,a=e.reValidateMode,u=void 0===a?K:a,c=e.resolver,i=e.context,o=e.defaultValues,l=void 0===o?{}:o,s=e.shouldFocusError,d=void 0===s||s,f=e.shouldUnregister,v=void 0===f||f,m=e.criteriaMode,b=Object(n.useRef)({}),p=Object(n.useRef)({}),g=Object(n.useRef)({}),O=Object(n.useRef)({}),h=Object(n.useRef)(new Set),j=Object(n.useRef)({}),y=Object(n.useRef)({}),E=Object(n.useRef)({}),x=Object(n.useRef)(new Set),D=Object(n.useRef)(new Set),C=Object(n.useRef)(!0),S=Object(n.useRef)(l),R=Object(n.useRef)({}),k=Object(n.useRef)(!1),w=Object(n.useRef)(!1),I=Object(n.useRef)(!1),T=Object(n.useRef)(!1),V=Object(n.useRef)(0),L=Object(n.useRef)(!1),F=Object(n.useRef)(),M=Object(n.useRef)({}),A=Object(n.useRef)({}),B=Object(n.useRef)(i),z=Object(n.useRef)(c),X=Object(n.useRef)(new Set),Z=Object(n.useState)(),$=Object(q.a)(Z,2),J=$[1],Q=Object(n.useRef)(at(r)).current,ee=Q.isOnBlur,te=Q.isOnSubmit,re=Q.isOnChange,ne=Q.isOnAll,ae=m===Y,oe="undefined"==typeof window,se="undefined"!=typeof document&&!oe&&!me(window.HTMLElement),de=se?"Proxy"in window:"undefined"!=typeof Proxy,Oe=Object(n.useRef)({isDirty:!de,dirtyFields:!de,isSubmitted:te,submitCount:!de,touched:!de,isSubmitting:!de,isValid:!de}),he=Object(n.useRef)(at(u)).current,je=he.isOnBlur,Ce=he.isOnSubmit;B.current=i,z.current=c;var Se=Object(n.useCallback)((function(){k.current||J({})}),[]),Re=Object(n.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r||ze({errors:p.current,error:t,name:e,validFields:D.current,fieldsWithValidation:x.current}),a=pe(p.current,e);if(Te(t)?((x.current.has(e)||z.current)&&(D.current.add(e),n=n||a),p.current=Ve(p.current,e)):(D.current.delete(e),n=n||!a||!Be(a,t[e]),fe(p.current,e,t[e])),n&&!ce(r))return Se(),!0}),[Se,z]),ke=Object(n.useCallback)((function(e,t){var r=e.ref,n=e.options,a=se&&G(r)&&ce(t)?"":t;ye(r)&&n?n.forEach((function(e){var t=e.ref;return t.checked=t.value===a})):Ee(r)?Me(a)?r.value=a:r.files=a:De(r)?Object(H.a)(r.options).forEach((function(e){return e.selected=a.includes(e.value)})):xe(r)&&n?n.length>1?n.forEach((function(e){var t=e.ref;return t.checked=a.includes(t.value)})):n[0].ref.checked=!!a:r.value=a}),[se]),Ie=Object(n.useCallback)((function(e){var t=Oe.current,r=t.isDirty,n=t.dirtyFields;if(!b.current[e]||!r&&!n)return!1;var a=R.current[e]!==we(b.current,e),u=pe(j.current,e),c=tt(X.current,e),i=T.current;return a?fe(j.current,e,!0):Ve(j.current,e),T.current=c&&Qe(Je(b.current,Ye(e)),pe(S.current,Ye(e)))||!Te(j.current),r&&i!==T.current||n&&u!==pe(j.current,e)}),[]),Le=Object(n.useCallback)(function(){var e=Object(N.a)(P.a.mark((function e(t,r){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.current[t]){e.next=6;break}return e.next=3,Xe(b,ae,b.current[t]);case 3:return n=e.sent,Re(t,n,!!r&&null),e.abrupt("return",Te(n));case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[Re,ae]),Pe=Object(n.useCallback)(function(){var e=Object(N.a)(P.a.mark((function e(t){var r,n,a,u,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.current(Je(b.current),B.current,ae);case 2:if(r=e.sent,n=r.errors,a=C.current,C.current=Te(n),!ie(t)){e.next=12;break}return u=t.map((function(e){var t=pe(n,e);return t?fe(p.current,e,t):Ve(p.current,e),!t})).every(Boolean),Se(),e.abrupt("return",u);case 12:return c=pe(n,t),Re(t,c?Object(W.a)({},t,c):{},a!==C.current),e.abrupt("return",!c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Se,Re,ae,z]),Ne=Object(n.useCallback)(function(){var e=Object(N.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t||Object.keys(b.current),!z.current){e.next=3;break}return e.abrupt("return",Pe(r));case 3:if(!ie(r)){e.next=9;break}return e.next=6,Promise.all(r.map(function(){var e=Object(N.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return n=e.sent,Se(),e.abrupt("return",n.every(Boolean));case 9:return e.next=11,Le(r);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Pe,Le,Se,z]),We=Object(n.useCallback)((function(e,t,r,n){for(var a in t){var u="".concat(n||e).concat(ie(t)?"[".concat(a,"]"):".".concat(a)),c=b.current[u];le(t[a])&&We(e,t[a],r,u),c&&(ke(c,t[a]),r.shouldDirty&&Ie(u),r.shouldValidate&&Ne(u))}}),[Ne,ke,Ie]),qe=Object(n.useCallback)((function(e,t,r){if(b.current[e])return ke(b.current[e],t),r.shouldDirty&&Ie(e);Ze(t)||We(e,t,r)}),[Ie,ke,We]),Ge=function(e){return w.current||h.current.has(e)||h.current.has((e.match(/\w+/)||[])[0])},Ue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Te(y.current))for(var r in y.current)(y.current[r].has(e)||!y.current[r].size||tt(X.current,e))&&(E.current[r](),t=!1);return t};function $e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=qe(e,t,r)||!Ze(t)||Ge(e);Ue(e),n&&Se(),r.shouldValidate&&Ne(e)}F.current=F.current?F.current:function(){var e=Object(N.a)(P.a.mark((function e(t){var r,n,a,u,i,o,l,s,d,f,v;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,n=t.target,a=n?n.name:"",u=b.current[a]){e.next=5;break}return e.abrupt("return");case 5:if(o=r===U,l=!ne&&_e({hasError:!!pe(p.current,a),isOnChange:re,isBlurEvent:o,isOnSubmit:te,isReValidateOnSubmit:Ce,isOnBlur:ee,isReValidateOnBlur:je,isSubmitted:I.current}),s=Ie(a)||Ge(a),o&&!pe(g.current,a)&&Oe.current.touched&&(fe(g.current,a,!0),s=!0),!l){e.next=12;break}return Ue(a),e.abrupt("return",s&&Se());case 12:if(!c){e.next=23;break}return e.next=15,c(Je(b.current),B.current,ae);case 15:d=e.sent,f=d.errors,v=C.current,C.current=Te(f),i=pe(f,a)?Object(W.a)({},a,pe(f,a)):{},v!==C.current&&(s=!0),e.next=26;break;case 23:return e.next=25,Xe(b,ae,u);case 25:i=e.sent;case 26:Ue(a),!Re(a,i)&&s&&Se();case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var et=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Te(S.current)?Ae(b.current):S.current;z.current(ve(Object.assign(Object.assign({},t),e)),B.current,ae).then((function(e){var t=e.errors,r=C.current;C.current=Te(t),r!==C.current&&Se()}))}),[Se,ae,z]),ct=Object(n.useCallback)((function(e,t){Fe(b.current,F.current,e,M,v,t)}),[v]),it=Object(n.useCallback)((function(e,t){!e||tt(X.current,e.ref.name)&&!t||(ct(e,t),v&&([p,g,j,R].forEach((function(t){return Ve(t.current,e.ref.name)})),[x,D,h].forEach((function(t){return t.current.delete(e.ref.name)})),(Oe.current.isValid||Oe.current.touched)&&(Se(),z.current&&et())))}),[Se,et,ct,z]);function ot(e){e?(ie(e)?e:[e]).forEach((function(e){return Ve(p.current,e)})):p.current={},Se()}function lt(e,t){C.current=!1,fe(p.current,e,Object.assign(Object.assign({},t),{ref:(b.current[e]||{}).ref})),Se()}var st=Object(n.useCallback)((function(e,t,r){var n=r?y.current[r]:h.current,a=me(t)?S.current:t,u=Ae(b.current,e);return Me(e)?Ke(u,e,n,me(t)?pe(a,e):t,!0):ie(e)?e.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(W.a)({},t,Ke(u,t,n,a)))}),{}):(me(r)&&(w.current=!0),ve(!Te(u)&&u||a))}),[]);function dt(e,t){return st(e,t)}function ft(e){(ie(e)?e:[e]).forEach((function(e){return it(b.current[e],!0)}))}function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.name)return console.warn("Missing name @",e);var r,n,a=e.name,u=e.type,i=e.value,o=Object.assign({ref:e},t),l=b.current,s=ut(e),d=l[a],f=!0;if(d&&(s?ie(d.options)&&be(d.options).find((function(t){return i===t.ref.value&&t.ref===e})):e===d.ref))l[a]=Object.assign(Object.assign({},d),t);else{if(u){var v=nt(e,(function(){return it(d)}));d=s?Object.assign({options:[].concat(Object(H.a)(be(d&&d.options||[])),[{ref:e,mutationWatcher:v}]),ref:{type:u,name:a}},t):Object.assign(Object.assign({},o),{mutationWatcher:v})}else d=o;l[a]=d;var m=me(M.current[a]);Te(S.current)&&m||(n=m?pe(S.current,a):M.current[a],f=me(n),r=tt(X.current,a),f||r||ke(d,n)),c&&!r&&Oe.current.isValid?et():Te(t)||(x.current.add(a),!te&&Oe.current.isValid&&Xe(b,ae,d).then((function(e){var t=C.current;Te(e)?D.current.add(a):C.current=!1,t!==C.current&&Se()}))),R.current[a]||r&&f||(R.current[a]=f?we(l,a):n),u&&ue({field:s&&d.options?d.options[d.options.length-1]:d,isRadioOrCheckbox:s||rt(e),handleChange:F.current})}}function mt(e,t){if(!oe)if(Me(e))vt({name:e},t);else{if(!le(e)||!("name"in e))return function(t){return t&&vt(t,e)};vt(e,t)}}var bt=Object(n.useCallback)((function(e){return function(){var t=Object(N.a)(P.a.mark((function t(r){var n,a,u,c,i,o,l,s,f,v;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&(r.preventDefault(),r.persist()),n={},a=Object.assign(Object.assign({},M.current),Ae(b.current)),Oe.current.isSubmitting&&(L.current=!0,Se()),t.prev=4,!z.current){t.next=16;break}return t.next=8,z.current(ve(a),B.current,ae);case 8:u=t.sent,c=u.errors,i=u.values,p.current=c,n=c,a=i,t.next=28;break;case 16:o=0,l=Object.values(b.current);case 17:if(!(o<l.length)){t.next=28;break}if(!(s=l[o])){t.next=25;break}return f=s.ref.name,t.next=23,Xe(b,ae,s);case 23:(v=t.sent)[f]?(fe(n,f,v[f]),D.current.delete(f)):x.current.has(f)&&D.current.add(f);case 25:o++,t.next=17;break;case 28:if(!Te(n)||!Object.keys(p.current).every((function(e){return Object.keys(b.current).includes(e)}))){t.next=35;break}return p.current={},Se(),t.next=33,e(ve(a),r);case 33:t.next=37;break;case 35:p.current=Object.assign(Object.assign({},p.current),n),d&&se&&ge(b.current,n);case 37:return t.prev=37,I.current=!0,L.current=!1,V.current=V.current+1,Se(),t.finish(37);case 43:case"end":return t.stop()}}),t,null,[[4,,37,43]])})));return function(e){return t.apply(this,arguments)}}()}),[se,Se,z,d,ae]),pt=function(e){var t=e.errors,r=e.isDirty,n=e.isSubmitted,a=e.touched,u=e.isValid,c=e.submitCount,i=e.dirtyFields;b.current={},t||(p.current={}),a||(g.current={}),u||(D.current=new Set,x.current=new Set,C.current=!0),r||(T.current=!1),i||(j.current={}),n||(I.current=!1),c||(V.current=0),R.current={},O.current={},M.current={},h.current=new Set,w.current=!1},gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(se)for(var r=0,n=Object.values(b.current);r<n.length;r++){var a=n[r];if(a){var u=a.ref,c=a.options,i=ut(u)&&ie(c)?c[0].ref:u;if(G(i))try{i.closest("form").reset();break}catch(o){}}}e&&(S.current=e),Object.values(A.current).forEach((function(e){return He(e)&&e()})),pt(t),Se()},Ot=function(e){return we(b.current,e)};function ht(e){var t=b.current;return Me(e)?Ot(e):ie(e)?e.reduce((function(e,t){return Object.assign(Object.assign({},e),Object(W.a)({},t,Ot(t)))}),{}):ve(Ae(t))}Object(n.useEffect)((function(){return k.current=!1,function(){k.current=!0,b.current&&Object.values(b.current).forEach((function(e){return it(e,!0)}))}}),[it]),c||(C.current=D.current.size>=x.current.size&&Te(p.current));var jt={dirtyFields:j.current,isSubmitted:I.current,submitCount:V.current,touched:g.current,isDirty:T.current,isSubmitting:L.current,isValid:te?I.current&&Te(p.current):C.current},yt={trigger:Ne,setValue:Object(n.useCallback)($e,[Se,qe,Ne]),getValues:Object(n.useCallback)(ht,[]),register:Object(n.useCallback)(mt,[S.current]),unregister:Object(n.useCallback)(ft,[]),formState:de?new Proxy(jt,{get:function(e,t){if(t in e)return Oe.current[t]=!0,e[t]}}):jt},Et=Object.assign(Object.assign(Object.assign({removeFieldEventListener:ct,renderWatchedInputs:Ue,watchInternal:st,reRender:Se},c?{validateSchemaIsValid:et}:{}),{mode:{isOnBlur:ee,isOnSubmit:te,isOnChange:re},reValidateMode:{isReValidateOnBlur:je,isReValidateOnSubmit:Ce},errorsRef:p,touchedFieldsRef:g,fieldsRef:b,isWatchAllRef:w,watchFieldsRef:h,resetFieldArrayFunctionRef:A,watchFieldsHookRef:y,watchFieldsHookRenderRef:E,fieldArrayDefaultValues:O,validFieldsRef:D,dirtyFieldsRef:j,fieldsWithValidationRef:x,fieldArrayNamesRef:X,isDirtyRef:T,isSubmittedRef:I,readFormStateRef:Oe,defaultValuesRef:S,unmountFieldsStateRef:M}),yt);return Object.assign({watch:dt,control:Et,handleSubmit:bt,reset:Object(n.useCallback)(gt,[]),clearErrors:Object(n.useCallback)(ot,[]),setError:Object(n.useCallback)(lt,[]),errors:p.current},yt)}({mode:"onBlur",defaultValues:null!=t?t:w}),T=I.register,V=I.handleSubmit,L=Object(n.useCallback)((function(e,t){void 0===t&&(t=!1),e.lastUpdatedDateTime=new Date;var r=Object(i.a)("ctfForms","events",[]);if(o){var n=r.findIndex((function(t){return t.eventId===e.eventId}));r.splice(n,1,e)}else r.push(e);k(r),h(),setTimeout((function(){t?y():Object(x.a)("/"),E()}),2e3)}),[k,o,h,y,E]);return a.a.createElement(vt.a,{pageTitle:"Event Details",pageHeading:u?"View "+(null==t?void 0:t.eventTitle):o?"Edit "+(null==t?void 0:t.eventTitle):"Create New Event",pageDescription:"Please enter as much information as you have related to this crisis."},a.a.createElement(lt,I,a.a.createElement(g,{name:"eventForm",id:"eventForm",onSubmit:V((function(e){L(e,!1)})),noValidate:!0},a.a.createElement("input",{name:"eventId",type:"hidden",ref:T}),a.a.createElement(Ct,{savedEvent:t}),a.a.createElement(yt,{savedEvent:t}),a.a.createElement(C.a,{as:"nav","aria-label":"page",id:"pageNav",gridColumn:"1 / -1",align:"center",justify:{base:"flex-end",md:"flex-start"},marginTop:{md:"72"}},a.a.createElement(l.a,{marginRight:"20"},a.a.createElement(S.a,{type:"button",onClick:u?function(){return Object(x.a)("/")}:v},"Cancel")),a.a.createElement(p.b,{type:u?"button":"submit",size:o?p.c.SM:p.c.MD,onClick:u?function(e){e.preventDefault(),s("edit"),window.scrollTo(0,0)}:void 0},u?"Edit":o?"Save":"Create Event")),a.a.createElement(R,{isOpen:f,onClose:m,onLeave:function(){return Object(x.a)("/")}}),a.a.createElement(B,{isOpen:O,onClose:y}))))};t.default=function(e){var t,r,n;if(null===(t=e.location)||void 0===t||null===(r=t.state)||void 0===r?void 0:r.eventId){var u=Object(i.a)("ctfForms","events");(n=u&&u.find((function(t){var r,n;return t.eventId===(null===(r=e.location)||void 0===r||null===(n=r.state)||void 0===n?void 0:n.eventId)})))&&(n.evacDepAuthDate&&(n.evacDepAuthDate=c()(n.evacDepAuthDate).toDate()),n.evacDepOrdDate&&(n.evacDepOrdDate=c()(n.evacDepOrdDate).toDate()),n.eventStartDate&&(n.eventStartDate=c()(n.eventStartDate).toDate()),n.eventEndDate&&(n.eventEndDate=c()(n.eventEndDate).toDate()),n.lastUpdatedDateTime&&(n.lastUpdatedDateTime=c()(n.lastUpdatedDateTime).toDate()))}var o=void 0===n?"create":e.location.state.isEdit?"edit":"view";return a.a.createElement(y,{initialFormMode:o},a.a.createElement(Rt,{savedEvent:n}))}}}]);
//# sourceMappingURL=component---src-pages-event-tsx-02e9bdc1870027772c0f.js.map