{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/esm/ExpandLessSharp.js","webpack:///./node_modules/@material-ui/icons/esm/ExpandMoreSharp.js","webpack:///./node_modules/@material-ui/icons/esm/LocationOnSharp.js","webpack:///./node_modules/@material-ui/icons/esm/PersonSharp.js","webpack:///./node_modules/@material-ui/icons/esm/EmailSharp.js","webpack:///./node_modules/@material-ui/icons/esm/PhoneSharp.js","webpack:///./src/components/LKLCard.tsx","webpack:///./node_modules/@material-ui/icons/esm/AddSharp.js","webpack:///./src/components/Utility/formHelpers.tsx","webpack:///./src/components/Modals/DataLossModal.tsx","webpack:///./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js","webpack:///./src/components/ProgressIndicator.tsx","webpack:///./src/components/Modals/SaveModal.tsx","webpack:///./src/components/FormSections/EvacDetails.tsx","webpack:///./src/components/FormSections/EventDetails.tsx","webpack:///./node_modules/date-fns/esm/compareAsc/index.js","webpack:///./src/components/Forms/EventForm.tsx","webpack:///./node_modules/@material-ui/icons/esm/EditSharp.js","webpack:///./src/components/PageSections/EventOverviewTab.tsx","webpack:///./src/components/PageSections/EventLklTab.tsx","webpack:///./src/components/PageSections/EventEvacDetailsTab.tsx","webpack:///./src/components/PageSections/EventAttachmentsTab.tsx","webpack:///./src/components/ViewEvent.tsx","webpack:///./src/pages/event.tsx"],"names":["createSvgIcon","createElement","d","Fragment","MotionBox","motion","custom","Box","LKLCard","lklData","useState","tabCurrent","setTabCurrent","isDetailOpen","setIsDetailOpen","direction","setDirection","useDisclosure","isDeactivateOpen","isOpen","onDeactivateOpen","onOpen","onDeactivateClose","onClose","detailsSectionHeight","pocIconProps","mr","alignSelf","size","color","detailsTabProps","display","py","fontWeight","fontSize","options","label","value","onClick","type","lookupLklDto","lklTitle","locationDesc","lklAddressDto","lklPocListDto","addressDto","address1","address2","city","postalCode","countryCd","fullAddress","pocInfo","map","extractedPoc","fullName","phone","email","personDto","givenName","surName","personEmailDtoList","personPhoneDtoList","phoneDto","phoneNum","emailDto","emailAddress","push","mb","base","md","id","maxWidth","Flex","w","mt","sm","flexDir","xl","flexGrow","flexBasis","position","right","Dropdown","borderedRows","width","as","MoreVertSharp","DeactivateModal","onCancel","onConfirm","cursor","Text","my","ExpandLessSharp","ExpandMoreSharp","h","overflow","Divider","borderColor","PseudoBox","borderWidth","borderBottom","borderBottomColor","borderStyle","_hover","fontFamily","margin","lineHeight","mx","initial","key","transform","transition","duration","ease","animate","exit","currDirection","LocationOnSharp","poc","index","border","px","justifyContent","PersonSharp","EmailSharp","PhoneSharp","pb","orientation","flexWrap","getSavedForm","rootKey","formName","defaultValue","formData","window","storedData","sessionStorage","getItem","savedForm","JSON","parse","useSavedForm","setFormData","useEffect","setItem","stringify","clearFormData","removeItem","addEventListener","removeEventListener","formVals","prevFormData","DataLossModal","p","isCentered","align","marginRight","onLeave","easeOut","t","min","max","Math","props","ref","classes","className","_props$color","_props$disableShrink","disableShrink","_props$size","style","_props$thickness","thickness","_props$value","_props$variant","variant","other","circleStyle","rootStyle","rootProps","circumference","PI","strokeDasharray","toFixed","round","strokeDashoffset","concat","root","capitalize","indeterminate","height","role","svg","viewBox","SIZE","circle","circleDisableShrink","circleIndeterminate","circleStatic","cx","cy","r","fill","strokeWidth","withStyles","theme","transitions","create","animation","colorPrimary","palette","primary","main","colorSecondary","secondary","stroke","transformOrigin","name","flip","CircularProgress","SaveModal","message","pl","EvacDetails","useFormContext","formState","errors","setValue","getValues","evacStatusCodeRef","useRef","evacDepAuthDateRef","orderedDateRef","evacSummaryRef","watchEvacStatus","useWatch","useCTFFormContext","isCreate","isView","dirtyFields","Form","title","gridColumn","lg","labelText","labelId","onFocus","current","focus","render","onChange","onBlur","aria-labelledby","evacStatuses","placeholder","disabled","validationState","evacStatusCode","ValidationState","ERROR","undefined","errorMessage","changes","newVal","selectedItem","evacDepOrdDate","evacDepAuthDate","Date","Grid","gridGap","gridTemplateColumns","inputRef","maxDate","error","rules","pattern","maxLength","evacSummary","e","target","replaceMSWordChars","replace","EventDetails","register","eventStartDateRef","eventEndDateRef","managementTypeCodeRef","eventTypeIdRef","eventSummaryRef","watchActiveIndicator","watchEventStartDate","showDivider","required","eventTitle","eventStartDate","validate","afterStartDate","dirtyDateLeft","dirtyDateRight","requiredArgs","arguments","dateLeft","toDate","dateRight","diff","getTime","compareAsc","minDate","eventEndDate","checked","mgmtTypes","managementTypeCode","eventTypes","eventTypeId","eventSummary","saveBanner","status","Status","success","console","log","EventForm","savedEvent","isEdit","formSection","isDataLossOpen","onDataLossOpen","onDataLossClose","isSaveOpen","onSaveOpen","onSaveClose","showSaveBanner","useBanner","updateSavedForm","defaultValues","eventId","moment","format","floor","random","activeIndicator","lastUpdatedDateTime","formMethods","useForm","mode","handleSubmit","onSubmit","useCallback","data","skipNavigate","currForm","savedIdx","findIndex","evt","updatedEvent","splice","setTimeout","pageState","navigate","state","Layout","pageTitle","pageHeading","pageDescription","noValidate","aria-label","justify","marginTop","OverviewTab","eventData","eventType","find","mgmtType","evacStatus","evaStatus","buttonIcon","mdIcon","EditSharp","alignment","IconAlignment","LEFT","displayData","formatDateField","justifySelf","marginY","marginX","opacity","href","rel","inputDate","DateTimeFormat","DateFormat","LastKnownLocationTab","eventLklDtoList","eventLklDto","createdDateTime","page","setPage","lklsPerPage","hideInactive","sort","a","b","aLastUpdatedTime","bLastUpdatedTime","controlledLkls","filter","event","numOfPages","ceil","length","indexOfLastEvent","indexOfFirstEvent","totalPages","lklsOnPage","slice","AddSharp","bottom","zIndex","boxShadow","rounded","bg","Pagination","count","_","showLastButton","EvacDetailsTab","AttachmentsTab","maxSizeBytes","allowedFileTypes","onDrop","eventTabs","TabButton","isActive","children","boxProps","useTheme","alignItems","textAlign","borderRadius","background","_focus","outline","colors","flex","ViewEvent","selectedTab","setSelectedTab","inOverview","inLkl","inEvacuation","inAttachments","minH","maxW","m","paddingX","paddingTop","paddingBottom","wordBreak","flexShrink","backgroundColor","paddingY","marginBottom","EventPage","location","savedEvents","formMode"],"mappings":"oQAEe,SAAAA,EAAA,GAAc,IAAMC,cAAc,OAAQ,CACvDC,EAAG,wDACD,mBCFW,SAAAF,EAAA,GAAc,IAAMC,cAAc,OAAQ,CACvDC,EAAG,2DACD,mBCFW,SAAAF,EAAA,GAAc,IAAMC,cAAc,IAAME,SAAU,KAAM,IAAMF,cAAc,OAAQ,CACjGC,EAAG,gKACA,mBCFU,SAAAF,EAAA,GAAc,IAAMC,cAAc,OAAQ,CACvDC,EAAG,kHACD,eCFW,SAAAF,EAAA,GAAc,IAAMC,cAAc,OAAQ,CACvDC,EAAG,gDACD,cCFW,SAAAF,EAAA,GAAc,IAAMC,cAAc,OAAQ,CACvDC,EAAG,8HACD,c,YCoBEE,EAAYC,IAAOC,OAAwCC,KAmUlDC,IA9ToB,SAAC,GAAyB,IAAvBC,EAAuB,EAAvBA,QAAuB,EAExBC,oBAAS,GAAtCC,EAFqD,KAEzCC,EAFyC,OAGpBF,oBAAS,GAA1CG,EAHqD,KAGvCC,EAHuC,OAI1BJ,mBAAS,GAApCK,EAJqD,KAI1CC,EAJ0C,OAK+BC,cAA3EC,EAL4C,EAKpDC,OAAkCC,EALkB,EAK1BC,OAAmCC,EALT,EAKAC,QALA,EAOlBb,mBAAS,KAA5Cc,EAPqD,KAgCtDC,GAhCsD,KAgCvC,CACpBC,GAAI,EACJC,UAAW,SACXC,KAAM,UACNC,MAAO,UAEFC,EAAkB,CACvBC,QAAS,eACTC,GAAI,EACJC,WAAY,IACZC,SAAU,GACVL,MAAO,gBAWFM,EAAU,CACf,CACCC,MAAO,gBACPC,MAAO,OACPC,QAAS,cAIV,CACCF,MAAO,kBACPC,MAAO,kBACPE,KAAM,QACND,QAAS,WACRlB,OAnEyD,EAwEmBX,EAAQ+B,aAA/EC,EAxEoD,EAwEpDA,SAAUC,EAxE0C,EAwE1CA,aAAcC,EAxE4B,EAwE5BA,cAAeC,EAxEa,EAwEbA,cAxEa,EAyEYD,EAAcE,WAA9EC,EAzEoD,EAyEpDA,SAAUC,EAzE0C,EAyE1CA,SAAUC,EAzEgC,EAyEhCA,KAAMC,EAzE0B,EAyE1BA,WAAYC,EAzEc,EAyEdA,UAExCC,EAAiBL,EAAN,IAAkBC,EAAlB,KAA+BC,EAA/B,KAAwCC,EAAxC,KAAuDC,EAElEE,EAAqE,GAW3E,OAVAR,EAAcS,KAAI,SAACT,GAClB,IAAMU,EAAe,CAAEC,SAAU,GAAIC,MAAO,GAAIC,MAAO,IADJ,EAE+Bb,EAAcc,UAAxFC,EAF2C,EAE3CA,UAAWC,EAFgC,EAEhCA,QAASC,EAFuB,EAEvBA,mBAAoBC,EAFG,EAEHA,mBAChDR,EAAaC,SAAcI,EAA3B,IAAwCC,EAGxCN,EAAaE,MAAQM,EAAmB,GAAGC,SAASC,SACpDV,EAAaG,MAAQI,EAAmB,GAAGI,SAASC,aACpDd,EAAQe,KAAKb,MAGb,kBAAC/C,EAAA,EAAD,CAAK6D,GAAI,CAAEC,KAAM,KAAMC,GAAI,OAC1B,kBAAC,IAAD,CAAMC,GAAG,UAAUC,SAAS,QAC3B,kBAACC,EAAA,EAAD,CAAMC,EAAE,OAAOC,GAAI,CAAEN,KAAM,OAAQO,GAAI,UACtC,kBAACH,EAAA,EAAD,CAAMI,QAAS,CAAER,KAAM,SAAUS,GAAI,OAASC,SAAU,GACvD,kBAACxE,EAAA,EAAD,CAAKyE,UAAW,CAAEF,GAAI,QACrB,kBAAC,IAAD,KAAIrC,IAGL,kBAAClC,EAAA,EAAD,CAAK6D,GAAI,EAAGY,UAAW,CAAEF,GAAI,QAC5B,kBAAC,IAAD,CAAWjD,MAAM,SAAjB,mBACkBmB,EADlB,KAC0BE,KAI5B,kBAAC3C,EAAA,EAAD,CAAK0E,SAAS,WAAWC,MAAO,CAAEb,KAAM,QAASO,GAAI,QAASN,GAAI,UACjE,kBAACa,EAAA,EAAD,CACChD,QAASA,EACTiD,cAAc,EACdC,MAAM,QACNjD,MAAK,0BAA4BK,GACjC,kBAAClC,EAAA,EAAD,CAAK+E,GAAIC,IAAe1D,MAAM,gBAGhC,kBAAC2D,EAAA,EAAD,CACCrE,OAAQD,EACRuE,SAAUnE,EACVoE,UAAW,WAEVpE,QAMH,kBAACmD,EAAA,EAAD,CAAME,GAAI,EAAGP,IAAK,IACjB,kBAAC7D,EAAA,EAAD,CACCwB,QAAQ,cACR4D,OAAO,UACPrD,QAAS,WACRxB,GAAiBD,IAElBgB,MAAM,aACN,kBAAC+D,EAAA,EAAD,CAAMC,GAAI,EAAG3D,SAAU,IAAvB,WAGCrB,EAAe,kBAACiF,EAAD,MAAsB,kBAACC,EAAD,QAKvClF,EAEA,kBAACN,EAAA,EAAD,CAAK0E,SAAS,WAAWe,EAAGxE,EAAsByE,SAAS,UAC1D,kBAACC,EAAA,EAAD,CAASC,YAAY,SAASN,GAAI,KAElC,kBAACtF,EAAA,EAAD,CAAKwB,QAAS,CAAE+C,GAAI,SACnB,kBAACL,EAAA,EAAD,CAAML,GAAI,IACT,kBAACgC,EAAA,EAAD,iBACKtE,EADL,CAECuE,YAAa,EACbC,aAAc3F,EAAa,EAAI,EAC/B4F,kBAAkB,SAClBC,YAAY,QACZ3E,MAAM,eACN4E,OACC9F,EACG,GACA,CACAkB,MAAO,YACP0E,kBAAmB,YACnBD,aAAc,MACdE,YAAa,SAGjBlE,QAAS,WACRtB,GAAc,GACdJ,GAAc,IAEfc,GAAI,IACJ,kBAACkE,EAAA,EAAD,CAAMc,WAAW,eAAeC,OAAQ,EAAGzE,SAAS,KAAKD,WAAW,KAAK2E,WAAW,MAApF,aAID,kBAACrG,EAAA,EAAD,CAAKsG,GAAI,IACT,kBAACT,EAAA,EAAD,iBACKtE,EADL,CAECuE,YAAa,EACbC,aAAc3F,EAAa,EAAI,EAC/B4F,kBAAkB,SAClBC,YAAY,QACZ3E,MAAM,eACN4E,OACC9F,EACG,CACAkB,MAAO,YACP0E,kBAAmB,YACnBD,aAAc,MACdE,YAAa,SAEb,GAEJlE,QAAS,WACRtB,EAAa,GACbJ,GAAc,MAEf,kBAACgF,EAAA,EAAD,CAAMc,WAAW,eAAeC,OAAQ,EAAGzE,SAAS,KAAKD,WAAW,KAAK2E,WAAW,MAApF,sBAKF,kBAAC,IAAD,CAAiBtG,OAAQS,EAAW+F,SAAS,GAC5C,kBAAC1G,EAAD,CACC6E,SAAS,WACT8B,IAAKhG,EACL+F,QAAS,CAAEE,UAAW,eAAcjG,EAAY,EAAI,QAAU,QAA1C,KACpBkG,WAAY,CACX1E,KAAM,QACN2E,SAAU,GACVC,KAAM,aAEPC,QAAS,CACRJ,UAAW,kBAEZK,KAAM,SAACC,GAAD,MAA4B,CACjCN,UAAW,eAAcM,EAAgB,EAAI,OAAS,SAA7C,MAEVjC,MAAM,QACL1E,EACA,kBAACJ,EAAA,EAAD,KACC,kBAACkE,EAAA,EAAD,CAAML,GAAI,IACT,kBAAC7D,EAAA,EAAD,eAAK+E,GAAIiC,GAAqB9F,IAC9B,kBAAC,IAAD,KAAY0B,IAEb,kBAAC5C,EAAA,EAAD,CAAKyB,GAAI,GACR,kBAAC,IAAD,CAAWH,MAAM,SAAjB,gBAED,kBAACtB,EAAA,EAAD,KACC,kBAAC,IAAD,KAAYmC,KAId,kBAACnC,EAAA,EAAD,KACE6C,EAAQC,KAAI,SAACmE,EAAKC,GAClB,OACC,kBAAChD,EAAA,EAAD,CACCsC,IAAKU,EACL5C,QAAS,CAAER,KAAM,SAAUC,GAAI,OAC/BoD,OAAQ,EACRlB,YAAY,QACZL,YAAY,SACZwB,GAAI,EACJC,eAAe,gBACf,kBAACnD,EAAA,EAAD,CAAMzC,GAAI,GACT,kBAACzB,EAAA,EAAD,eAAK+E,GAAIuC,GAAiBpG,IAC1B,kBAAC,IAAD,KAAY+F,EAAIjE,WAEjB,kBAACkB,EAAA,EAAD,CAAMzC,GAAI,GACT,kBAACzB,EAAA,EAAD,eAAK+E,GAAIwC,GAAgBrG,IACzB,kBAAC,IAAD,KAAY+F,EAAI/D,QAEjB,kBAACgB,EAAA,EAAD,CAAMzC,GAAI,GACT,kBAACzB,EAAA,EAAD,eAAK+E,GAAIyC,GAAgBtG,IACzB,kBAAC,IAAD,KAAY+F,EAAIhE,gBAWzB,kBAACiB,EAAA,EAAD,CAAM1C,QAAS,CAAEsC,KAAM,OAAQS,GAAI,SAClC,kBAACvE,EAAA,EAAD,CAAKyE,UAAW,CAAEF,GAAI,QACrB,kBAACvE,EAAA,EAAD,CAAKyH,GAAI,IACR,kBAAC,IAAD,kBAED,kBAACvD,EAAA,EAAD,CAAML,GAAI,IACT,kBAAC7D,EAAA,EAAD,eAAK+E,GAAIiC,GAAqB9F,IAC9B,kBAAC,IAAD,KAAY0B,IAEb,kBAAC5C,EAAA,EAAD,CAAKyB,GAAI,GACR,kBAAC,IAAD,CAAWH,MAAM,SAAjB,gBAED,kBAACtB,EAAA,EAAD,KACC,kBAAC,IAAD,KAAYmC,KAGd,kBAACwD,EAAA,EAAD,CAAS+B,YAAY,WAAWjD,UAAW,CAAEF,GAAI,MAAQjD,MAAM,WAC/D,kBAACtB,EAAA,EAAD,CAAKyE,UAAW,CAAEF,GAAI,QACrB,kBAACvE,EAAA,EAAD,CAAKyH,GAAI,IACR,kBAAC,IAAD,0BAEA5E,EAAQC,KAAI,SAACmE,EAAKC,GAClB,OACC,kBAAChD,EAAA,EAAD,CACCsC,IAAKU,EACL5C,QAAQ,SACR6C,OAAQ,EACRlB,YAAY,QACZL,YAAY,SACZwB,GAAI,EACJC,eAAe,eACfM,SAAS,QACT,kBAACzD,EAAA,EAAD,CAAMzC,GAAI,GACT,kBAACzB,EAAA,EAAD,eAAK+E,GAAIuC,GAAiBpG,IAC1B,kBAAC,IAAD,KAAY+F,EAAIjE,WAEjB,kBAACkB,EAAA,EAAD,CAAMzC,GAAI,GACT,kBAACzB,EAAA,EAAD,eAAK+E,GAAIwC,GAAgBrG,IACzB,kBAAC,IAAD,KAAY+F,EAAI/D,QAEjB,kBAACgB,EAAA,EAAD,CAAMzC,GAAI,GACT,kBAACzB,EAAA,EAAD,eAAK+E,GAAIyC,GAAgBtG,IACzB,kBAAC,IAAD,KAAY+F,EAAIhE,eAQpB,S,kCCrVR,qCAEe,gBAAc,IAAMvD,cAAc,OAAQ,CACvDC,EAAG,wCACD,a,kSCSSiI,EAAe,SAC3BC,EACAC,EACAC,GAEA,IAAIC,EACJ,GAAsB,oBAAXC,OAAwB,CAClC,IAAMC,EAAaD,OAAOE,eAAeC,QAAQP,GAC3CQ,EAAYH,GAAcI,KAAKC,MAAML,GAC3CF,EAAWK,GAAaP,EAAWO,EAAUP,GAAYO,EAG1D,OAAOL,GAAYD,GA0BPS,EAAqC,SACjDX,EACAC,GACgC,MACA3H,oBAAY,WAAM,MAC7C6H,EACJ,GAAsB,oBAAXC,OAAwB,CAClC,IAAMC,EAAaD,OAAOE,eAAeC,QAAQP,GACjDG,EAAWE,GAAcI,KAAKC,MAAML,GAErC,iBAAOF,SAAP,QAAmB,MANbA,EADyB,KACfS,EADe,KAWhCC,qBAAU,WACTT,OAAOE,eAAeQ,QAAQd,EAASS,KAAKM,UAAUZ,MACpD,CAACA,EAAUH,IAGda,qBAAU,WACT,IAAMG,EAAgB,kBAAMZ,OAAOE,eAAeW,WAAWjB,IAG7D,OAFAI,OAAOc,iBAAiB,eAAgBF,GAEjC,WACNZ,OAAOe,oBAAoB,eAAgBH,MAE1C,CAAChB,IAOJ,MAAO,CAACC,EAAYE,EAA+BF,GAAYE,EAJ1C,SAACiB,GACVR,EAAXX,EAAuB,SAAAoB,GAAY,8BAAUA,IAAV,MAAyBpB,GAAWmB,EAApC,KAA+DA,O,6fCvEvFE,EAA8C,SAACC,GAAD,OAC1D,kBAAC,IAAD,CAAOxI,OAAQwI,EAAExI,OAAQI,QAASoI,EAAEpI,QAASqI,YAAY,EAAMhI,KAAK,MACnE,kBAAC,IAAD,KACC,kBAAC,IAAD,qBAED,kBAAC,IAAD,MACA,kBAAC,IAAD,KACC,kBAAC,IAAD,+DAGD,kBAAC,IAAD,KACC,kBAAC6C,EAAA,EAAD,CAAMoF,MAAM,UACX,kBAACtJ,EAAA,EAAD,CAAKuJ,YAAY,MAChB,kBAAC,IAAD,CAAYxH,QAASqH,EAAEI,SAAvB,UAED,kBAAC,IAAD,CAAQnI,KAAK,KAAKU,QAASqH,EAAEpI,SAA7B,Y,4DCZJ,SAASyI,EAAQC,GAJjB,IAA0B5H,EAAO6H,EAAKC,EAQpC,OARwB9H,EAKH4H,EALUC,EAKP,EALYC,EAKT,EAA3BF,GAJQG,KAAKF,IAAIE,KAAKD,IAAID,EAAK7H,GAAQ8H,GAAOD,IAAQC,EAAMD,GAM5DD,GAAKA,GAAK,GAAKA,EAAIA,EAAI,EAQlB,IA2FH,EAAgC,cAAiB,SAA0BI,EAAOC,GACpF,IAhGcL,EAgGVM,EAAUF,EAAME,QAChBC,EAAYH,EAAMG,UAClBC,EAAeJ,EAAMxI,MACrBA,OAAyB,IAAjB4I,EAA0B,UAAYA,EAC9CC,EAAuBL,EAAMM,cAC7BA,OAAyC,IAAzBD,GAA0CA,EAC1DE,EAAcP,EAAMzI,KACpBA,OAAuB,IAAhBgJ,EAAyB,GAAKA,EACrCC,EAAQR,EAAMQ,MACdC,EAAmBT,EAAMU,UACzBA,OAAiC,IAArBD,EAA8B,IAAMA,EAChDE,EAAeX,EAAMhI,MACrBA,OAAyB,IAAjB2I,EAA0B,EAAIA,EACtCC,EAAiBZ,EAAMa,QACvBA,OAA6B,IAAnBD,EAA4B,gBAAkBA,EACxDE,EAAQ,YAAyBd,EAAO,CAAC,UAAW,YAAa,QAAS,gBAAiB,OAAQ,QAAS,YAAa,QAAS,YAElIe,EAAc,GACdC,EAAY,GACZC,EAAY,GAEhB,GAAgB,gBAAZJ,GAAyC,WAAZA,EAAsB,CACrD,IAAIK,EAAgB,EAAInB,KAAKoB,KAnItB,GAmIoCT,GAAa,GACxDK,EAAYK,gBAAkBF,EAAcG,QAAQ,GACpDJ,EAAU,iBAAmBlB,KAAKuB,MAAMtJ,GAExB,WAAZ6I,GACFE,EAAYQ,iBAAmB,GAAGC,SAAS,IAAMxJ,GAAS,IAAMkJ,GAAeG,QAAQ,GAAI,MAC3FL,EAAUrE,UAAY,mBAEtBoE,EAAYQ,iBAAmB,GAAGC,QA9HxB5B,GA8HwC,IAAM5H,GAAS,IA7H9D4H,EAAIA,EA6HiEsB,GAAeG,QAAQ,GAAI,MACnGL,EAAUrE,UAAY,UAAU6E,QAA8B,IAAtB7B,EAAQ3H,EAAQ,KAAWqJ,QAAQ,GAAI,SAInF,OAAoB,gBAAoB,MAAO,YAAS,CACtDlB,UAAW,YAAKD,EAAQuB,KAAMtB,EAAqB,YAAV3I,GAAuB0I,EAAQ,QAAQsB,OAAO,OAAAE,EAAA,GAAWlK,KAAU,CAC1G,cAAiB0I,EAAQyB,cACzB,OAAUzB,EAAgB,QAC1BW,IACFL,MAAO,YAAS,CACdxF,MAAOzD,EACPqK,OAAQrK,GACPyJ,EAAWR,GACdP,IAAKA,EACL4B,KAAM,eACLZ,EAAWH,GAAqB,gBAAoB,MAAO,CAC5DX,UAAWD,EAAQ4B,IACnBC,QAAS,GAAGP,OAAOQ,GAAU,KAAKR,OAAOQ,GAAU,KAAKR,OA7JjD,GA6J8D,KAAKA,OA7JnE,KA8JO,gBAAoB,SAAU,CAC5CrB,UAAW,YAAKD,EAAQ+B,OAAQ3B,GAAiBJ,EAAQgC,oBAAqB,CAC5E,cAAiBhC,EAAQiC,oBACzB,OAAUjC,EAAQkC,cAClBvB,IACFL,MAAOO,EACPsB,GApKO,GAqKPC,GArKO,GAsKPC,GAtKO,GAsKI7B,GAAa,EACxB8B,KAAM,OACNC,YAAa/B,SAIF,SAAAgC,EAAA,IA3JK,SAAgBC,GAClC,MAAO,CAELlB,KAAM,CACJ/J,QAAS,gBAIX,OAAU,CACRkF,WAAY+F,EAAMC,YAAYC,OAAO,cAIvClB,cAAe,CACbmB,UAAW,yCAIbC,aAAc,CACZvL,MAAOmL,EAAMK,QAAQC,QAAQC,MAI/BC,eAAgB,CACd3L,MAAOmL,EAAMK,QAAQI,UAAUF,MAIjCpB,IAAK,CACHpK,QAAS,SAKXuK,OAAQ,CACNoB,OAAQ,gBAMVjB,aAAc,CACZxF,WAAY+F,EAAMC,YAAYC,OAAO,sBAIvCV,oBAAqB,CACnBW,UAAW,2CAEX1B,gBAAiB,cACjBG,iBAAkB,OAGpB,6BAA8B,CAC5B,KAAM,CAEJ+B,gBAAiB,WAEnB,OAAQ,CACN3G,UAAW,mBAGf,2BAA4B,CAC1B,KAAM,CACJyE,gBAAiB,aACjBG,iBAAkB,OAEpB,MAAO,CACLH,gBAAiB,eACjBG,iBAAkB,SAEpB,OAAQ,CACNH,gBAAiB,eACjBG,iBAAkB,WAKtBW,oBAAqB,CACnBY,UAAW,WA4EiB,CAChCS,KAAM,sBACNC,MAAM,GAFO,CAGZ,GClLUC,EAA6B,kBACzC,kBAACvN,EAAA,EAAD,CAAKsB,MAAM,aACV,kBAAC,EAAD,CAAqBA,MAAM,UAAUD,KAAM,GAAImJ,UAAW,QCK/CgD,EAAsC,SAACpE,GAAsB,IACjExI,EAAyDwI,EAAzDxI,OAAQI,EAAiDoI,EAAjDpI,QADyD,EACRoI,EAAxCqE,eADgD,MACtC,0BADsC,EAEzE,OACC,kBAAC,IAAD,CAAO7M,OAAQA,EAAQI,QAASA,EAASqI,YAAY,EAAMhI,KAAK,MAC/D,kBAAC,IAAD,KACC,kBAAC,IAAD,wBAED,kBAAC,IAAD,KACC,kBAAC6C,EAAA,EAAD,CAAMoF,MAAM,UACX,kBAACtJ,EAAA,EAAD,CAAKsB,MAAM,aACV,kBAAC,EAAD,OAED,kBAACtB,EAAA,EAAD,CAAK0N,GAAG,MACP,kBAAC,IAAD,KAAID,Q,4DCmJKE,EAnKe,WAAM,UACgBC,cAA3CC,EAD2B,EAC3BA,UAAWC,EADgB,EAChBA,OAAQC,EADQ,EACRA,SAAUC,EADF,EACEA,UAE/BC,EAAoBC,iBAA0B,MAC9CC,EAAqBD,iBAAyB,MAC9CE,EAAiBF,iBAAyB,MAC1CG,EAAiBH,iBAA4B,MAE7CI,EAAkBC,YAAiB,CAAElB,KAAM,mBARd,EAUNmB,cAArBC,EAV2B,EAU3BA,SAAUC,EAViB,EAUjBA,OAEVC,EAAgBd,EAAhBc,YAER,OACC,kBAACC,EAAA,EAAD,CAAaC,MAAM,sBAClB,kBAAC7O,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUC,GAAI,SAAUgL,GAAI,WACpD,kBAAC,IAAD,CAAWC,UAAU,oBAAoBC,QAAQ,uBAChD,kBAAC,IAAD,CACC5B,KAAK,iBACL6B,QAAS,kCAAMjB,EAAkBkB,eAAxB,aAAM,EAA2BC,SAC1CC,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQzN,EAArB,EAAqBA,MAArB,OACP,kBAAC,IAAD,CACCiI,IAAKkE,EACLjK,GAAG,iBACHqJ,KAAK,iBACLmC,kBAAgB,sBAChB5N,QAAS6N,EACTpO,KAAK,OACLqO,YAAY,GACZC,SAAUjB,EACVkB,iBAAiB9B,aAAA,EAAAA,EAAQ+B,gBAAiBC,IAAgBC,WAAQC,EAClEC,aAAcnC,SAAF,UAAEA,EAAQ+B,sBAAV,aAAE,EAAwBpC,QACtC6B,SAAU,SAAAY,GAAW,MACdC,EAAM,UAAGD,EAAQE,oBAAX,aAAG,EAAsBtO,MACrCwN,EAASa,GAKM,SAAXA,GAAsBnC,EAAU,mBAOd,SAAXmC,GAAsBnC,EAAU,kBAOrB,SAAXmC,IACV1B,IAAaE,EAAY0B,gBAAkBtC,EAAS,iBAAkB,IACtEU,IAAaE,EAAY2B,iBAAmBvC,EAAS,kBAAmB,MARxEA,EAAS,iBAAkB,IAAIwC,MAK/B9B,IAAaE,EAAY2B,iBAAmBvC,EAAS,kBAAmB,MAZxEA,EAAS,kBAAmB,IAAIwC,MAKhC9B,IAAaE,EAAY0B,gBAAkBtC,EAAS,iBAAkB,MAaxEwB,OAAQA,EACRzN,MAAOA,SAMZ,kBAAC0O,EAAA,EAAD,CACC1B,WAAY,CAAEhL,KAAM,SAAUC,GAAI,SAAUgL,GAAI,UAChD0B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CAAE5M,KAAM,wBAAyBC,GAAI,0BAE1D,kBAAC,IAAD,CAAWiL,UAAU,uBAAuBC,QAAQ,wBACnD,kBAAC,IAAD,CAEClK,GAAI,kBAAC,IAAD,MACJf,GAAG,kBACHqJ,KAAK,kBACLsD,SAAUxC,EACVe,QAAS,kCAAMf,EAAmBgB,eAAzB,aAAM,EAA4BC,SAS3CO,SAAUjB,IAAWJ,GAAuC,SAApBA,EACxCsC,QAAS,IAAIL,KAAK,KAAM,EAAG,GAC3BM,WAA0C,KAA5B/C,aAAP,EAAOA,EAAQwC,iBACtBL,aAAcnC,SAAF,UAAEA,EAAQwC,uBAAV,aAAE,EAAyB7C,WAIzC,kBAAC,IAAD,CAAWuB,UAAU,oBAAoBC,QAAQ,oBAChD,kBAAC,IAAD,CAEClK,GAAI,kBAAC,IAAD,MACJf,GAAG,iBACHqJ,KAAK,iBACLsD,SAAUvC,EACVc,QAAS,kCAAMd,EAAee,eAArB,aAAM,EAAwBC,SASvCO,SAAUjB,IAAWJ,GAAuC,SAApBA,EACxCsC,QAAS,IAAIL,KAAK,KAAM,EAAG,GAC3BM,WAAyC,KAA3B/C,aAAP,EAAOA,EAAQuC,gBACtBJ,aAAcnC,SAAF,UAAEA,EAAQuC,sBAAV,aAAE,EAAwB5C,YAIzC,kBAACzN,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUiL,GAAI,WACtC,kBAAC,IAAD,CAAWC,UAAU,qBAAqBC,QAAQ,oBACjD,kBAAC,IAAD,CACC5B,KAAK,cACLyD,MAAO,CACNC,QAAS,CACRjP,MAAO,gDACP2L,QAAS,gEAEVuD,UAAW,CAAElP,MAAO,IAAM2L,QAAS,qDAEpCyB,QAAS,kCAAMb,EAAec,eAArB,aAAM,EAAwBC,SACvCC,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQzN,EAArB,EAAqBA,MAArB,OACP,kBAAC,IAAD,CACCiI,IAAKsE,EACLrK,GAAG,cACHqJ,KAAK,cACLmC,kBAAgB,mBAChBnO,KAAK,OACL2P,UAAW,IACXrB,SAAUjB,EACVkB,iBAAiB9B,aAAA,EAAAA,EAAQmD,aAAcnB,IAAgBC,WAAQC,EAC/DC,aAAcnC,SAAF,UAAEA,EAAQmD,mBAAV,aAAE,EAAqBxD,QACnC6B,SAAU,SAAC4B,GAMVA,EAAEC,OAAOrP,MAAQsP,YAAmBF,EAAEC,OAAOrP,OAAOuP,QACnD,+CACA,IAED/B,EAAS4B,IAEV3B,OAAQA,EACRzN,MAAOA,W,gECmFAwP,EAzOgB,WAAM,YACuD5Q,cAA3EC,EADoB,EAC5BC,OAAkCC,EADN,EACFC,OAAmCC,EADjC,EACwBC,QADxB,EAGG4M,cAA/B2D,EAH4B,EAG5BA,SAAUzD,EAHkB,EAGlBA,OAAQC,EAHU,EAGVA,SAEpByD,EAAoBtD,iBAAyB,MAC7CuD,EAAkBvD,iBAAyB,MAC3CwD,EAAwBxD,iBAA0B,MAClDyD,EAAiBzD,iBAA0B,MAC3C0D,EAAkB1D,iBAA4B,MAE9C2D,EAAuBtD,YAAkB,CAAElB,KAAM,oBACjDyE,EAAwCvD,YAAS,CAAElB,KAAM,mBAZ3B,EAcPmB,cAArBE,EAd4B,EAc5BA,OAAQD,EAdoB,EAcpBA,SAEhB,OACC,kBAACG,EAAA,EAAD,CAAaC,MAAM,gBAAgBkD,YAAatD,GAC/C,kBAACzO,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUiL,GAAI,WACtC,kBAAC,IAAD,CAAWC,UAAU,cAAcC,QAAQ,kBAAkB+C,UAAQ,GACpE,kBAAC,IAAD,CACCjI,IAAKwH,EAAS,CACbS,SAAU,8BACVhB,UAAW,CAAElP,MAAO,GAAI2L,QAAS,6CAElCJ,KAAK,aACLrJ,GAAG,aACH3C,KAAK,OACLsO,SAAUjB,EACVsC,UAAW,GACXpB,iBAAiB9B,aAAA,EAAAA,EAAQmE,YAAanC,IAAgBC,WAAQC,EAC9DC,aAAcnC,SAAF,UAAEA,EAAQmE,kBAAV,aAAE,EAAoBxE,QAClC6B,SAAU,SAAC4B,GAKVA,EAAEC,OAAOrP,MAAQoP,EAAEC,OAAOrP,MAAMuP,QAAQ,iBAAkB,SAK9D,kBAACb,EAAA,EAAD,CACC1B,WAAY,CAAEhL,KAAM,UACpB2M,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CAAE5M,KAAM,wBAAyBC,GAAI,0BAC1D,kBAAC,IAAD,CAAWiL,UAAU,aAAaC,QAAQ,sBAAsB+C,UAAQ,GACvE,kBAAC,IAAD,CAECjN,GAAI,kBAAC,IAAD,MACJf,GAAG,iBACHqJ,KAAK,iBACLyD,MAAO,CAAEkB,SAAU,6BACnBrB,SAAUa,EACVtC,QAAS,kCAAMsC,EAAkBrC,eAAxB,aAAM,EAA2BC,SAI1CwB,QAAS,IAAIL,KACbZ,SAAUjB,EACVmC,WAAyC,KAA3B/C,aAAP,EAAOA,EAAQoE,gBACtBjC,aAAcnC,SAAF,UAAEA,EAAQoE,sBAAV,aAAE,EAAwBzE,WAIxC,kBAAC,IAAD,CAAWuB,UAAU,WAAWC,QAAQ,qBACvC,kBAAC,IAAD,CAEClK,GAAI,kBAAC,IAAD,MACJf,GAAG,eACHqJ,KAAK,eAKLyD,MAAO,CACNqB,SAAU,CACTC,eAAgB,SAAAtQ,GAAK,QAClB+P,GClDI,SAAoBQ,EAAeC,GAChD,OAAAC,EAAA,GAAa,EAAGC,WAChB,IAAIC,EAAW,OAAAC,EAAA,SAAOL,GAClBM,EAAY,OAAAD,EAAA,SAAOJ,GACnBM,EAAOH,EAASI,UAAYF,EAAUE,UAE1C,OAAID,EAAO,GACD,EACCA,EAAO,EACT,EAEAA,EDwCFE,CAAWhR,EAAOgQ,IAAwB,GAC1C,wDAGHnB,SAAUc,EACVvC,QAAS,kCAAMuC,EAAgBtC,eAAtB,aAAM,EAAyBC,SACxC2D,QAASjB,QAA4C9B,EACrDY,QAAS,IAAIL,KAAK,KAAM,EAAG,GAC3BZ,SAAUjB,EACVmC,WAAuC,KAAzB/C,aAAP,EAAOA,EAAQkF,cACtB/C,aAAcnC,SAAF,UAAEA,EAAQkF,oBAAV,aAAE,EAAsBvF,WAGtC,kBAAC,IAAD,CAAWuB,UAAU,SAASC,QAAQ,wBACrC,kBAAC,IAAD,CACClF,IAAKwH,IACLlE,KAAK,kBACLrJ,GAAG,kBACHlC,MAAM,SACN6N,SAAUjB,EACVY,SAAU,SAAC4B,GACNA,EAAEC,OAAO8B,QACZlF,EAAS,oBAAgBiC,IAMzBjC,EAAS,mBAAmB,GAC5BlN,UAML,kBAACb,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUC,GAAI,WACtC,kBAAC,IAAD,CAAWiL,UAAU,kBAAkBC,QAAQ,0BAA0B+C,UAAQ,GAChF,kBAAC,IAAD,CACC3E,KAAK,qBACLyD,MAAO,CACNkB,SAAU,mCAEX9C,QAAS,kCAAMwC,EAAsBvC,eAA5B,aAAM,EAA+BC,SAC9CC,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQzN,EAArB,EAAqBA,MAArB,OACP,kBAAC,IAAD,CACCiI,IAAK2H,EACL1N,GAAG,qBACHqJ,KAAK,qBACLmC,kBAAgB,0BAChB5N,QAASsR,EACT7R,KAAK,OACLsO,SAAUjB,EACVkB,iBAAiB9B,aAAA,EAAAA,EAAQqF,oBAAqBrD,IAAgBC,WAAQC,EACtEC,aAAcnC,SAAF,UAAEA,EAAQqF,0BAAV,aAAE,EAA4B1F,QAC1C6B,SAAU,SAAAY,GAAW,MACpBZ,EAAQ,UAACY,EAAQE,oBAAT,aAAC,EAAsBtO,QAEhCyN,OAAQA,EACRzN,MAAOA,SAMZ,kBAAC9B,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUC,GAAI,WACtC,kBAAC,IAAD,CAAWiL,UAAU,aAAaC,QAAQ,mBAAmB+C,UAAQ,GACpE,kBAAC,IAAD,CACC3E,KAAK,cACLyD,MAAO,CACNkB,SAAU,+BAEX9C,QAAS,kCAAMyC,EAAexC,eAArB,aAAM,EAAwBC,SACvCC,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQzN,EAArB,EAAqBA,MAArB,OACP,kBAAC,IAAD,CACCiI,IAAK4H,EACL3N,GAAG,cACHqJ,KAAK,cACLmC,kBAAgB,mBAChB5N,QAASwR,EACT/R,KAAK,OACLsO,SAAUjB,EACVkB,iBAAiB9B,aAAA,EAAAA,EAAQuF,aAAcvD,IAAgBC,WAAQC,EAC/DC,aAAcnC,SAAF,UAAEA,EAAQuF,mBAAV,aAAE,EAAqB5F,QACnC6B,SAAU,SAAAY,GAAW,MACpBZ,EAAQ,UAACY,EAAQE,oBAAT,aAAC,EAAsBtO,QAEhCyN,OAAQA,EACRzN,MAAOA,SAMZ,kBAAC9B,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUiL,GAAI,WACtC,kBAAC,IAAD,CAAWC,UAAU,gBAAgBC,QAAQ,qBAC5C,kBAAC,IAAD,CACC5B,KAAK,eACLyD,MAAO,CACNC,QAAS,CACRjP,MAAO,gDACP2L,QAAS,2DAEVuD,UAAW,CAAElP,MAAO,IAAM2L,QAAS,gDAEpCyB,QAAS,kCAAM0C,EAAgBzC,eAAtB,aAAM,EAAyBC,SACxCC,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQzN,EAArB,EAAqBA,MAArB,OACP,kBAAC,IAAD,CACCiI,IAAK6H,EACL5N,GAAG,eACHqJ,KAAK,eACLmC,kBAAgB,oBAChBnO,KAAK,OACL2P,UAAW,IACXrB,SAAUjB,EACVkB,iBAAiB9B,aAAA,EAAAA,EAAQwF,cAAexD,IAAgBC,WAAQC,EAChEC,aAAcnC,SAAF,UAAEA,EAAQwF,oBAAV,aAAE,EAAsB7F,QACpC6B,SAAU,SAAC4B,GAMVA,EAAEC,OAAOrP,MAAQsP,YAAmBF,EAAEC,OAAOrP,OAAOuP,QACnD,+CACA,IAED/B,EAAS4B,IAEV3B,OAAQA,EACRzN,MAAOA,SAMZ,kBAACmD,EAAA,EAAD,CACCrE,OAAQD,EACRuE,SAAUnE,EACVoE,UAAW,WAMV4I,EAAS,mBAAmB,GAC5BA,EAAS,eAAgB,IAAIwC,MAE7BxP,SExFCwS,EACL,kBAAC,IAAD,CAAQC,OAAQC,IAAOC,QAAS7E,MAAM,mBAAmB7N,QAAS,kBAAM2S,QAAQC,IAAI,oBAKtEC,EAxI6B,SAACzK,GAAsB,IAC1D0K,EAAe1K,EAAf0K,WAD0D,EAExBtF,cAAlCC,EAF0D,EAE1DA,SAAUsF,EAFgD,EAEhDA,OAAQC,EAFwC,EAExCA,YAFwC,EAImBtT,cAArEuT,EAJkD,EAI1DrT,OAAgCsT,EAJ0B,EAIlCpT,OAAiCqT,EAJC,EAIVnT,QAJU,EAMON,cAAzD0T,EANkD,EAM1DxT,OAA4ByT,EAN8B,EAMtCvT,OAA6BwT,EANS,EAMlBtT,QAC1CuT,EAAiBC,YAAUjB,EAAY,GACpCkB,EAAmBjM,YAA8B,WAAY,UARJ,GAU5DkM,EAAgB,CAErBC,QAAS,MAAMC,IAAO,IAAIrE,MAAQsE,OAAO,WAAahL,KAAKiL,MAAMjL,KAAKkL,SAAWlL,KAAKiL,MAAM,MAC5F7C,WAAY,GACZC,eAAgB,IAAI3B,KACpByE,iBAAiB,EACjB7B,mBAAoB,KAEpBE,YAAa,UACbC,aAAc,GAEdzD,eAAgB,OAChBoB,YAAa,GACbgE,oBAAqB,IAAI1E,MAGpB2E,EAAcC,YAAuB,CAC1CC,KAAM,SACNV,cAAeZ,UAAcY,IAEtBnD,EAAsC2D,EAAtC3D,SAAU8D,EAA4BH,EAA5BG,aAAcrH,EAAckH,EAAdlH,UAE1BsH,EAAWC,uBAChB,SAACC,EAAMC,QAAyB,IAAzBA,OAAe,GACrBD,EAAKP,oBAAsB,IAAI1E,KAC/B,IAAMmF,EAAW9N,YAA8B,WAAY,SAAU,IACrE,GAAImM,EAAQ,CACX,IAAM4B,EAAWD,EAASE,WAAU,SAACC,GAAD,OAAwBA,EAAIlB,UAAYa,EAAKb,WAE3EmB,EAAe,OAAH,UAAQJ,EAASC,GAAcH,GACjDE,EAASK,OAAOJ,EAAU,EAAGG,QAE7BJ,EAAS9R,KAAK4R,GAEff,EAAgBiB,GAChBrB,IACA2B,YAAW,WACV,GAAIP,EACHnB,QACM,CAEN,IAAM2B,EAA4B,CACjCtB,QAAS3G,EAAU,YAEpBkI,YAAS,SAAU,CAAEC,MAAOF,IAC5B3B,IAEDC,MACE,OAEJ,CAACE,EAAiBV,EAAQM,EAAYC,EAAaC,EAAgBvG,IAGpE,OACC,kBAACoI,EAAA,EAAD,CACCC,UAAU,gBACVC,YAAavC,EAAS,IAAGD,aAAN,EAAMA,EAAY7B,YAAe,mBACpDsE,gBACCxC,EACG,GACA,sHAEH,IACD,kBAAC,IAAiBmB,EACjB,kBAACtG,EAAA,EAAD,CACCvB,KAAK,YACLrJ,GAAG,YACHsR,SAAUD,GAAa,SAAAG,GACtBF,EAASE,GAAM,MAEhBgB,YAAY,GACZ,2BAAOnJ,KAAK,UAAUrL,KAAK,SAAS+H,IAAKwH,KAEvC9C,GAAasF,GAA0B,aAAhBC,IAAgC,kBAAC,EAAD,OAEvDvF,GAAasF,GAA0B,eAAhBC,IAAkC,kBAAC,EAAD,MAE3D,kBAAC9P,EAAA,EAAD,CACCa,GAAG,MACH0R,aAAW,OACXzS,GAAG,UACH8K,WAAW,SACXxF,MAAM,SACNoN,QAAS,CAAE5S,KAAM,WAAYC,GAAI,cACjC4S,UAAW,CAAE5S,GAAI,OACjB,kBAAC/D,EAAA,EAAD,CAAKuJ,YAAY,MAChB,kBAAC,IAAD,CAAYvH,KAAK,SAASD,QAASmS,GAAnC,WAID,kBAAC,IAAD,CAAQlS,KAAK,SAASX,KAAM0S,EAAS,KAAO,MAC1CA,EAAS,OAAS,iBAIrB,kBAAC,EAAD,CACCnT,OAAQqT,EACRjT,QAASmT,EACT3K,QAAS,WACR,GAAIiF,EACHyH,YAAS,SACH,CACN,IAAMD,EAA4B,CACjCtB,QAAS3G,EAAU,YAEpBkI,YAAS,SAAU,CAAEC,MAAOF,QAI/B,kBAAC,EAAD,CACCrV,OAAQwT,EACRpT,QAASsT,EACT7G,QAASgB,EAAW,yBAA2B,mC,kHC3ItC,SAAAhP,EAAA,GAAc,IAAMC,cAAc,OAAQ,CACvDC,EAAG,yGACD,aCiBSiX,EAA0C,SAACxN,GAAwB,UACvEyN,EAAczN,EAAdyN,UACFC,EAAS,UAAG1D,EAAW2D,MAAK,SAACD,GAAD,OAAuBA,EAAUhV,QAAU+U,EAAUxD,sBAAxE,aAAG,EAAmFxR,MAC/FmV,EAAQ,UAAG9D,EAAU6D,MAAK,SAACC,GAAD,OAAsBA,EAASlV,QAAU+U,EAAU1D,6BAArE,aAAG,EAAuFtR,MAClGoV,EAAU,UAAGxH,EAAasH,MAAK,SAACG,GAAD,OAAuBA,EAAUpV,QAAU+U,EAAUhH,yBAA1E,aAAG,EAAwFhO,MAC3G,OACC,oCACC,kBAAC2O,EAAA,EAAD,CACC1B,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB5M,KAAM,iBACNC,GAAI,kBACJgL,GAAI,oBAEL,kBAAC7K,EAAA,EAAD,CAAM4K,WAAW,SAASxF,MAAM,SAASoN,QAAQ,iBAChD,kBAAC1W,EAAA,EAAD,KACC,kBAAC,IAAD,uBAED,kBAACA,EAAA,EAAD,KACC,kBAAC,IAAD,CACCmX,WAAY,CAAEC,OAAQC,EAAWC,UAAWC,IAAcC,KAAMlW,MAAO,aACvES,QAAS,WACR,IAAMkU,EAA4B,CACjCtB,QAASkC,EAAUlC,QACnBZ,QAAQ,EACRC,YAAa,YAEdkC,YAAS,SAAU,CAAEC,MAAOF,MAR9B,WAcF,kBAACjW,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,WACxB,kBAAC9D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,eAED,kBAAC,IAAD,KAAImW,EAAYX,KAEjB,kBAAC9W,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUC,GAAI,WACtC,kBAAC/D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,oBAED,kBAAC,IAAD,KAAImW,EAAYT,KAEjB,kBAAChX,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUiL,GAAI,WACtC,kBAAC/O,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,eAED,kBAAC,IAAD,KAAImW,EAAYC,EAAgBb,EAAU3E,mBAE3C,kBAAClS,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,WACxB,kBAAC9D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,aAED,kBAAC,IAAD,KAAImW,EAAYC,EAAgBb,EAAU7D,iBAE3C,kBAAChT,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUC,GAAI,UAAY4T,YAAa,CAAE5T,GAAI,WACrE,kBAAC/D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,sBAED,kBAAC,IAAD,KAAImW,EAAYR,KAEjB,kBAACjX,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,WACxB,kBAAC9D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,sBAED,kBAAC,IAAD,KAAImW,EAAYZ,EAAUvD,iBAG5B,kBAACtT,EAAA,EAAD,CAAK8O,WAAW,SAAS8I,QAAQ,MAChC,kBAACjS,EAAA,EAAD,CAASC,YAAY,eAAegS,QAAQ,IAAIC,QAAS,EAAGC,QAAS,KAEtE,kBAACtH,EAAA,EAAD,CACC1B,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB5M,KAAM,iBACNC,GAAI,iBACJgL,GAAI,oBAEL,kBAAC/O,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC,IAAD,wBAED,kBAAC9O,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC,IAAD,6EAED,kBAAC9O,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,UAAY6S,UAAW,CAAE7S,KAAM,KAAMO,GAAI,IAAKN,GAAI,OAC1E,kBAAC/D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,oBAKH,kBAACtB,EAAA,EAAD,CAAK8O,WAAW,SAAS8I,QAAQ,MAChC,kBAACjS,EAAA,EAAD,CAASC,YAAY,eAAegS,QAAQ,IAAIC,QAAS,EAAGC,QAAS,KAEtE,kBAACtH,EAAA,EAAD,CACC1B,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB5M,KAAM,iBACNC,GAAI,iBACJgL,GAAI,oBAEL,kBAAC/O,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC,IAAD,uBAED,kBAAC9O,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC,IAAD,KACC,kBAACzJ,EAAA,EAAD,CAAM/D,MAAM,WAAWyD,GAAG,QAA1B,MADD,qDAOD,kBAAC/E,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,UAAY6S,UAAW,CAAE7S,KAAM,MACvD,kBAAC,IAAD,yFACA,kBAAC9D,EAAA,EAAD,CAAK2B,SAAS,UACb,kBAAC,IAAD,CACCoW,KAAK,uDACL5G,OAAO,SACP6G,IAAI,uBAHL,8CAeAN,EAAkB,SAACO,GACxB,OAAOA,EAAYrD,IAAOqD,GAAWpD,OAAO,cAAgB,IAGvD4C,EAAc,SAAC3V,GAAD,OAAqBA,GAAgB,O,4DCpJnDoW,EAAoBC,IAAN,kBAMPC,EAA4D,SAAChP,GAAiC,QAIpGiP,EAAyB,oBAFTjP,EAAdyN,UAGGwB,uBADoB,aAC9B,EAA2BvV,KAAI,SAAAwV,GAM9B,OALoC,OAAH,UAC7BA,EAD6B,CAEhCC,gBAAiB3D,IAAO0D,EAAYC,gBAAiBL,GAAgBxF,SACrEuC,oBAAqBL,IAAO0D,EAAYrD,oBAAqBiD,GAAgBxF,qBALjD,QAQxB,GAZmG,EAalFvS,mBAAS,GAA1BqY,EAbmG,KAa7FC,EAb6F,OAcpEtY,mBAAS,IAAxCuY,EAdmG,aAelEvY,oBAAS,IAA1CwY,EAfmG,UAoB1GN,EAAgBO,MAAK,SAACC,EAAWC,GAAc,QACxCC,EAAgB,UAAGF,EAAE5D,2BAAL,QAA4B,IAAI1E,KAChDyI,EAAgB,UAAGF,EAAE7D,2BAAL,QAA4B,IAAI1E,KAGtD,OAAIwI,EAAmBC,GADL,EAEdD,EAAmBC,EAAyB,EACzC,KAER,IAAMC,EAAiBZ,EAAgBa,QAAO,SAACC,GAC9C,OAAIR,GAAqBQ,EAAMnE,mBAI1BoE,EAAavP,KAAKwP,KAAKJ,EAAeK,OAASZ,GAEjDF,EAAOY,GAAYX,EAAQW,GAE/B,IAAMG,EAAmBf,EAAOE,EAC1Bc,EAAoBD,EAAmBb,EAGvCe,EADkBR,EAAeK,OAASZ,EACX7O,KAAKwP,KAAKJ,EAAeK,OAASZ,GAAe,EAChFgB,EAA4B,IAAfD,EAAmBR,EAAeU,MAAMH,EAAmBD,GAAoBN,EAElG,OAOC,kBAACzI,EAAA,EAAD,CACC1B,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB5M,KAAM,iBACNC,GAAI,kBACJgL,GAAI,oBAEL,kBAAC7K,EAAA,EAAD,CAAM4K,WAAW,SAASxF,MAAM,SAASoN,QAAQ,iBAChD,kBAAC1W,EAAA,EAAD,KACC,kBAAC,IAAD,8BAED,kBAACA,EAAA,EAAD,CAAKwB,QAAS,CAAEsC,KAAM,OAAQC,GAAI,UACjC,kBAAC,IAAD,CACCoT,WAAY,CAAEC,OAAQwC,IAAUtC,UAAWC,IAAcC,KAAMlW,MAAO,aACtES,QAAS,kBAAMmU,YAAS,aAFzB,mBAOF,kBAAClW,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC,IAAD,oFAOD,kBAAC9O,EAAA,EAAD,CAAK6Z,OAAO,OAAOC,OAAQ,EAAGnV,MAAM,OAAOD,SAAS,QAAQlD,QAAS,CAAEuC,GAAI,SAC1E,kBAAC,IAAD,CACC6B,YAAY,cACZmU,UAAU,iCACVzY,MAAM,QACNoK,OAAO,OACP5G,MAAM,OACNkV,QAAQ,QACRC,GAAG,YACH7U,OAAO,UACPc,OAAQ,CACP+T,GAAI,aAELlY,QAAS,kBAAMmU,YAAS,aACxB,kBAAClW,EAAA,EAAD,CAAK+E,GAAI6U,IAAUvY,KAAK,uBA+CzBqY,EAAW5W,KAAI,SAAC5C,EAAiBgH,GACjC,OACC,kBAAClH,EAAA,EAAD,CAAKwG,IAAKU,EAAO4H,WAAW,UAC3B,kBAAC7O,EAAA,EAAD,CAASC,QAASA,QAerB,kBAACgE,EAAA,EAAD,CAAM4K,WAAW,SAAS4H,QAAQ,gBACjC,kBAAC,IAAD,KAAI2B,EAAgBiB,OAApB,YACA,kBAACY,EAAA,EAAD,CAAY1B,KAAMA,EAAM2B,MAAOV,EAAYnK,SAAU,SAAC8K,EAAGtY,GAAJ,OAAc2W,EAAQ3W,IAAQuY,gBAAc,EAAChZ,KAAK,UACvG,gCACC,4BAAQS,MAAM,MAAd,MACA,4BAAQA,MAAM,MAAd,UCnKQwY,GAAgD,SAAClR,GAA2B,MAChFyN,EAAczN,EAAdyN,UACFI,EAAU,UAAGxH,EAAasH,MAAK,SAACG,GAAD,OAAuBA,EAAUpV,QAAU+U,EAAUhH,yBAA1E,aAAG,EAAwFhO,MAC3G,OACC,oCACC,kBAAC2O,EAAA,EAAD,CACC1B,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB5M,KAAM,iBACNC,GAAI,kBACJgL,GAAI,oBAEL,kBAAC7K,EAAA,EAAD,CAAM4K,WAAW,SAASxF,MAAM,SAASoN,QAAQ,iBAChD,kBAAC1W,EAAA,EAAD,KACC,kBAAC,IAAD,4BAED,kBAACA,EAAA,EAAD,KACC,kBAAC,IAAD,CACCmX,WAAY,CAAEC,OAAQC,EAAWC,UAAWC,IAAcC,KAAMlW,MAAO,aACvES,QAAS,WACR,IAAMkU,EAA4B,CACjCtB,QAASkC,EAAUlC,QACnBZ,QAAQ,EACRC,YAAa,cAEdkC,YAAS,SAAU,CAAEC,MAAOF,MAR9B,WAcF,kBAACjW,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUC,GAAI,WACtC,kBAAC/D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,sBAED,kBAAC,IAAD,KAAImW,GAAYR,KAEjB,kBAACjX,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUO,GAAI,SAAUN,GAAI,SAAUgL,GAAI,WAClE,kBAAC/O,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,yBAED,kBAAC,IAAD,KAAImW,GAAYC,GAAgBb,EAAUvG,oBAE3C,kBAACtQ,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,SAAUO,GAAI,SAAUN,GAAI,WACpD,kBAAC/D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,sBAED,kBAAC,IAAD,KAAImW,GAAYC,GAAgBb,EAAUxG,mBAE3C,kBAACrQ,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,WACxB,kBAAC9D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,uBAED,kBAAC,IAAD,KAAImW,GAAYZ,EAAU5F,gBAG5B,kBAACjR,EAAA,EAAD,CAAK8O,WAAW,SAAS8I,QAAQ,MAChC,kBAACjS,EAAA,EAAD,CAASC,YAAY,eAAegS,QAAQ,IAAIC,QAAS,EAAGC,QAAS,OAOnEJ,GAAkB,SAACO,GACxB,OAAOA,EAAYrD,IAAOqD,GAAWpD,OAAO,cAAgB,IAGvD4C,GAAc,SAAC3V,GAAD,OAAqBA,GAAgB,OChF5CyY,GAAgD,SAACnR,GACvCA,EAAdyN,UACR,OACC,oCACC,kBAACrG,EAAA,EAAD,CACC1B,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB5M,KAAM,iBACNC,GAAI,kBACJgL,GAAI,oBAEL,kBAAC7K,EAAA,EAAD,CAAM4K,WAAW,SAASxF,MAAM,SAASoN,QAAQ,iBAChD,kBAAC1W,EAAA,EAAD,KACC,kBAAC,IAAD,sBAGF,kBAACA,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC,IAAD,2DAED,kBAAC9O,EAAA,EAAD,CAAK8O,WAAY,CAAEhL,KAAM,WACxB,kBAAC9D,EAAA,EAAD,CAAK6D,GAAI,GACR,kBAAC,IAAD,CAAWvC,MAAM,SAAjB,gBAED,kBAAC,IAAD,CACC0C,GAAG,cACHwW,aAAc,QACdC,iBAAkB,CACjB,OACA,QACA,OACA,OACA,OACA,QACA,OACA,QACA,OACA,OACA,QAEDC,OAAQ,mBClCd,IAAMC,GAA2D,CAChE,CAAE9Y,MAAO,iBAAkBC,MAAO,YAClC,CAAED,MAAO,uBAAwBC,MAAO,aACxC,CAAED,MAAO,aAAcC,MAAO,cAC9B,CAAED,MAAO,cAAeC,MAAO,gBAiI1B8Y,GAAsC,SAAAxR,GAAK,IACxCrH,EAA6CqH,EAA7CrH,QAAS8Y,EAAoCzR,EAApCyR,SAAUC,EAA0B1R,EAA1B0R,SAAaC,E,oIADQ,CACK3R,EADL,mCAE1CqD,EAAQuO,cACd,OACC,kBAACnV,EAAA,EAAD,iBACKkV,EADL,CAEChW,GAAG,SACHvD,QAAQ,cACRyZ,WAAW,WACXC,UAAU,SACV/T,OAAO,OACPgU,aAAc,EACdC,WAAW,OACXhS,EAAG,EACHjD,WAAW,OACXxE,SAAS,OACTD,WAAW,KACXJ,MAAM,UACNyE,aAAa,IACbH,YAAaiV,EAAW,SAAW,cACnCzV,OAAO,UACPiW,OAAQ,CAEPC,QAAS,aAAa7O,EAAM8O,OAAOxO,SAEpC7G,OAAQ,CACPoV,QAAS,OACT1V,YAAciV,OAAyB7K,EAAd,YACzB1O,MAAQuZ,OAAyB7K,EAAd,aAEpBjO,QAASA,IACT,kBAAC/B,EAAA,EAAD,CAAKwb,KAAK,QAAQnV,WAAW,cAC3ByU,KAMUW,GApK6B,SAACrS,GAAsB,IAC1D0K,EAAe1K,EAAf0K,WACF+C,EAA2B/C,UAAc,CAAEa,QAAS,GAAI1C,WAAY,GAAIkB,mBAAoB,GAAIE,YAAa,IAFjD,EAI5BlT,mBAAwC,YAAvEub,EAJ2D,KAI9CC,EAJ8C,KAK5DC,EAA6B,aAAhBF,EAClBG,EAAwB,cAAhBH,EACRI,EAA+B,eAAhBJ,EACfK,EAAgC,gBAAhBL,EAEXb,IAAahE,EAAU7B,gBAE7B,OACC,kBAAC9Q,EAAA,EAAD,CAAM8X,KAAK,SACV,kBAAChc,EAAA,EAAD,CAAK+E,GAAG,OAAOZ,EAAE,OAAOkC,WAAW,OAClC,kBAAC,IAAD,CAAKwI,MAAM,eAEX,kBAAC2B,EAAA,EAAD,CACCzL,GAAG,UACHf,GAAG,cACH8K,WAAW,SACX2B,QAAS,CAAE3M,KAAM,OAAQC,GAAI,QAC7B2M,oBAAqB,CACpB,iBACA,iBACA,iBACA,iBACA,mBAEDuJ,GAAG,QACHgC,KAAM,CAAE1X,GAAI,UACZ2X,EAAG,CAAE3X,GAAI,QACT4X,SAAU,CAAErY,KAAM,KAAMC,GAAI,MAC5BqY,WAAY,CAAEtY,KAAM,KAAMC,GAAI,MAC9BsY,cAAe,CAAEvY,KAAM,KAAMC,GAAI,OACjC,kBAAC/D,EAAA,EAAD,CAAK8O,WAAW,UACf,kBAAC5K,EAAA,EAAD,CAAMoF,MAAM,SAASjC,eAAe,iBACnC,kBAACrH,EAAA,EAAD,CAAKsc,UAAU,aAAa/S,YAAY,MACvC,kBAAC,IAAD,KAAKsN,EAAU5E,aAGhB,kBAAC/N,EAAA,EAAD,CACCqY,WAAY,EACZ5E,YAAY,MACZvW,UAAU,SACV0D,MAAO,CAAEhB,KAAM,OAAQO,GAAI,QAC3B8B,WAAW,UACXxE,SAAS,YACT2H,MAAM,SACNoN,QAAQ,SACRsD,QAAQ,OACRwC,gBAAiB3B,EAAW,UAAY,qBACxCnP,OAAO,OACPpK,MAAOuZ,EAAW,QAAU,qBAC5B1T,OAAQ0T,EAAW,OAAS,KAC5BjV,YAAY,iBACZ6W,SAAU,GACT5B,EAAW,SAAW,aAGzB,kBAAC7a,EAAA,EAAD,CAAK2W,UAAU,KAAKnV,QAAS,CAAEuC,GAAI,SAClC,kBAAC,IAAD,CACCC,GAAG,WACHqJ,KAAK,WACLoJ,aAAW,YACX7U,QAAS+Y,GACTtZ,KAAK,OACLiO,SAAU,SAAAY,GAAW,MACpByL,EAAc,UAACzL,EAAQE,oBAAT,aAAC,EAAsBtO,QAEtCA,MAAO4Z,KAGT,kBAAC1b,EAAA,EAAD,CAAK2W,UAAU,KAAKnV,QAAS,CAAEsC,KAAM,OAAQC,GAAI,UAChD,kBAAC,GAAD,CACC8W,SAAUe,EACV7Z,QAAS,kBAAM4Z,EAAe,aAC9BpS,YAAa,CAAEzF,KAAM,KAAMS,GAAI,OAHhC,kBAMA,kBAAC,GAAD,CACCsW,SAAUgB,EACV9Z,QAAS,kBAAM4Z,EAAe,cAC9BpS,YAAa,CAAEzF,KAAM,KAAMS,GAAI,OAHhC,wBAMA,kBAAC,GAAD,CACCsW,SAAUiB,EACV/Z,QAAS,kBAAM4Z,EAAe,eAC9BpS,YAAa,CAAEzF,KAAM,KAAMS,GAAI,OAHhC,cAMA,kBAAC,GAAD,CACCsW,SAAUkB,EACVha,QAAS,kBAAM4Z,EAAe,gBAC9BpS,YAAa,CAAEzF,KAAM,KAAMS,GAAI,OAHhC,gBAOD,kBAACvE,EAAA,EAAD,CAAK8O,WAAW,SAAS6H,UAAW,CAAE7S,KAAM,KAAMC,GAAI,QAAU2Y,aAAa,MAC5E,kBAAC/W,EAAA,EAAD,CAASC,YAAY,eAAegS,QAAQ,IAAIC,QAAS,EAAGC,QAAS,KAErE+D,EACA,kBAAC,EAAD,CAAsBhF,UAAWA,IAC9BiF,EACH,kBAAC,GAAD,CAAgBjF,UAAWA,IACxBkF,EACH,kBAAC,GAAD,CAAgBlF,UAAWA,IAE3B,kBAAC,EAAD,CAAaA,UAAWA,SChFhB8F,UA9B6B,SAACvT,GAAsB,UAC9D0K,EACJ,aAAI1K,EAAEwT,gBAAN,iBAAI,EAAYzG,aAAhB,aAAI,EAAmBxB,QAAS,CAC/B,IAAMkI,EAAcjV,YAAmC,WAAY,WACnEkM,EAAa+I,GAAeA,EAAY9F,MAAK,SAACoC,GAAD,eAA0BA,EAAMxE,WAAN,UAAkBvL,EAAEwT,gBAApB,iBAAkB,EAAYzG,aAA9B,aAAkB,EAAmBxB,eAEvGb,EAAWxD,kBAAiBwD,EAAWxD,gBAAkBsE,IAAOd,EAAWxD,iBAAiBoC,UAC5FoB,EAAWzD,iBAAgByD,EAAWzD,eAAiBuE,IAAOd,EAAWzD,gBAAgBqC,UACzFoB,EAAW5B,iBAAgB4B,EAAW5B,eAAiB0C,IAAOd,EAAW5B,gBAAgBQ,UACzFoB,EAAWd,eAAcc,EAAWd,aAAe4B,IAAOd,EAAWd,cAAcN,UACnFoB,EAAWmB,sBAAqBnB,EAAWmB,oBAAsBL,IAAOd,EAAWmB,qBAAqBvC,WAI9G,IAAMoK,OACiB,IAAfhJ,EAA6B,SAAY1K,EAAEwT,SAASzG,MAAMpC,OAAkB,OAAT,OAE3E,OACC,oCACe,SAAb+I,EACA,kBAAC,GAAD,CAAWhJ,WAAYA,IAEvB,kBAAC,IAAD,CAAiBgJ,SAAUA,EAAU9I,YAAW,UAAE5K,EAAEwT,SAASzG,aAAb,aAAE,EAAkBnC,aACnE,kBAAC,EAAD,CAAWF,WAAYA","file":"component---src-pages-event-tsx-19253fda27c11c6e2f9f.js","sourcesContent":["import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z\"\n}), 'ExpandLessSharp');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z\"\n}), 'ExpandMoreSharp');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n})), 'LocationOnSharp');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'PersonSharp');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M22 4H2v16h20V4zm-2 4l-8 5-8-5V6l8 5 8-5v2z\"\n}), 'EmailSharp');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M21 15.46l-5.27-.61-2.52 2.52c-2.83-1.44-5.15-3.75-6.59-6.59l2.53-2.53L8.54 3H3.03C2.45 13.18 10.82 21.55 21 20.97v-5.51z\"\n}), 'PhoneSharp');","import React, { useState } from \"react\"\r\n\r\nimport { LklDto, LookupLklDto, AddressDto, LklPocListDto, PersonDto } from \"../pages/lklList\"\r\n\r\nimport { Flex, Box, PseudoBox, Divider, Text, useDisclosure, BoxProps } from \"@chakra-ui/core\"\r\nimport { P, H4, Card, FinePrint } from \"@c1ds/components\"\r\n\r\nimport Dropdown from \"../components/Dropdown\"\r\nimport DeactivateModal from \"../components/Modals/DeactivateModal\"\r\n\r\nimport {\r\n\tMoreVertSharp,\r\n\tLocationOnSharp,\r\n\tPersonSharp,\r\n\tEmailSharp,\r\n\tPhoneSharp,\r\n\tExpandLessSharp,\r\n\tExpandMoreSharp,\r\n} from \"@material-ui/icons\"\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\ntype OmittedBoxProps = \"transition\" | \"style\"\r\n\r\nconst MotionBox = motion.custom<Omit<BoxProps, OmittedBoxProps>>(Box)\r\ninterface LKLCard {\r\n\tlklData: LklDto\r\n}\r\n\r\nconst LKLCard: React.FC<LKLCard> = ({ lklData }: LKLCard) => {\r\n\t// If tabCurrent is true, Location Tab selected otherwise, POC Tab selected\r\n\tconst [tabCurrent, setTabCurrent] = useState(true)\r\n\tconst [isDetailOpen, setIsDetailOpen] = useState(false)\r\n\tconst [direction, setDirection] = useState(1)\r\n\tconst { isOpen: isDeactivateOpen, onOpen: onDeactivateOpen, onClose: onDeactivateClose } = useDisclosure()\r\n\r\n\tconst [detailsSectionHeight, setHeight] = useState(200)\r\n\r\n\tconst variants = {\r\n\t\tanimate: {\r\n\t\t\tzIndex: 1,\r\n\t\t\tx: 0,\r\n\t\t\topacity: 1,\r\n\t\t\ttransition: {\r\n\t\t\t\tx: { type: \"spring\", stiffness: 300, damping: 200 },\r\n\t\t\t\t// opacity: { duration: 0.5 }\r\n\t\t\t},\r\n\t\t},\r\n\t\texit: (direction: number) => {\r\n\t\t\treturn {\r\n\t\t\t\tzIndex: 0,\r\n\t\t\t\tx: direction < 0 ? \"50vh\" : \"-10vh\",\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttransition: {\r\n\t\t\t\t\tx: { type: \"spring\", stiffness: 300, damping: 200 },\r\n\t\t\t\t\t// opacity: { duration: 0.5 }\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n\r\n\tconst pocIconProps = {\r\n\t\tmr: 4,\r\n\t\talignSelf: \"center\",\r\n\t\tsize: \"iconPoc\",\r\n\t\tcolor: \"label\",\r\n\t}\r\n\tconst detailsTabProps = {\r\n\t\tdisplay: \"inline-block\",\r\n\t\tpy: 4,\r\n\t\tfontWeight: 600,\r\n\t\tfontSize: 16,\r\n\t\tcolor: \"headingLarge\",\r\n\t}\r\n\r\n\t// 1.4          The user can see the following fields inside each Last Known Location on the list\r\n\t// ·         Location Title\r\n\t// ·         Country\r\n\t// ·         Post\r\n\t// ·         Location Status\r\n\t// ·         [Location Description] - expand chevron  (Address, Point of Contact)\r\n\t// ·         [Additional Action] – Edit\r\n\t// ·         [Additional Action] – Deactivate?\r\n\tconst options = [\r\n\t\t{\r\n\t\t\tlabel: \"Edit Location\",\r\n\t\t\tvalue: \"Edit\",\r\n\t\t\tonClick: () => {\r\n\t\t\t\t// navigate(\"/event\", { state: { eventId: , isEdit: true } })\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Remove Location\",\r\n\t\t\tvalue: \"Delete Location\",\r\n\t\t\ttype: \"error\" as const,\r\n\t\t\tonClick: () => {\r\n\t\t\t\tonDeactivateOpen()\r\n\t\t\t},\r\n\t\t},\r\n\t]\r\n\r\n\tconst { lklTitle, locationDesc, lklAddressDto, lklPocListDto }: LookupLklDto = lklData.lookupLklDto\r\n\tconst { address1, address2, city, postalCode, countryCd }: AddressDto = lklAddressDto.addressDto\r\n\r\n\tconst fullAddress = `${address1} ${address2}, ${city}, ${postalCode}, ${countryCd}`\r\n\r\n\tconst pocInfo: Array<{ fullName: string; phone: string; email: string }> = []\r\n\tlklPocListDto.map((lklPocListDto: LklPocListDto) => {\r\n\t\tconst extractedPoc = { fullName: \"\", phone: \"\", email: \"\" }\r\n\t\tconst { givenName, surName, personEmailDtoList, personPhoneDtoList }: PersonDto = lklPocListDto.personDto\r\n\t\textractedPoc.fullName = `${givenName} ${surName}`\r\n\r\n\t\t// TODO: cases for multiple phones and emails\r\n\t\textractedPoc.phone = personPhoneDtoList[0].phoneDto.phoneNum\r\n\t\textractedPoc.email = personEmailDtoList[0].emailDto.emailAddress\r\n\t\tpocInfo.push(extractedPoc)\r\n\t})\r\n\treturn (\r\n\t\t<Box mb={{ base: \"16\", md: \"24\" }}>\r\n\t\t\t<Card id=\"lklCard\" maxWidth=\"full\">\r\n\t\t\t\t<Flex w=\"full\" mt={{ base: \"-8px\", sm: \"-16px\" }}>\r\n\t\t\t\t\t<Flex flexDir={{ base: \"column\", xl: \"row\" }} flexGrow={1}>\r\n\t\t\t\t\t\t<Box flexBasis={{ xl: \"65%\" }}>\r\n\t\t\t\t\t\t\t<P>{lklTitle}</P>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{/* location address */}\r\n\t\t\t\t\t\t<Box mb={4} flexBasis={{ xl: \"35%\" }}>\r\n\t\t\t\t\t\t\t<FinePrint color=\"label\">\r\n\t\t\t\t\t\t\t\tU.S. Embassy in {city}, {countryCd}\r\n\t\t\t\t\t\t\t</FinePrint>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t\t<Box position=\"relative\" right={{ base: \"-12px\", sm: \"-20px\", md: \"-12px\" }}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\tborderedRows={true}\r\n\t\t\t\t\t\t\twidth=\"10rem\"\r\n\t\t\t\t\t\t\tlabel={`Additional actions for ${lklTitle}`}>\r\n\t\t\t\t\t\t\t<Box as={MoreVertSharp} color=\"clickable\" />\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<DeactivateModal\r\n\t\t\t\t\t\tisOpen={isDeactivateOpen}\r\n\t\t\t\t\t\tonCancel={onDeactivateClose}\r\n\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t// onConfirm(isActive, eventId)\r\n\t\t\t\t\t\t\tonDeactivateClose()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Flex>\r\n\r\n\t\t\t\t{/* Detail, hide when  */}\r\n\t\t\t\t<Flex mt={8} mb={-12}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"inline-flex\"\r\n\t\t\t\t\t\tcursor=\"pointer\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetIsDetailOpen(!isDetailOpen)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tcolor=\"clickable\">\r\n\t\t\t\t\t\t<Text my={0} fontSize={16}>\r\n\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t{isDetailOpen ? <ExpandLessSharp /> : <ExpandMoreSharp />}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\r\n\t\t\t\t{/* Location */}\r\n\t\t\t\t{isDetailOpen ? (\r\n\t\t\t\t\t// TODO: Dynamic height with useEffect\r\n\t\t\t\t\t<Box position=\"relative\" h={detailsSectionHeight} overflow=\"hidden\">\r\n\t\t\t\t\t\t<Divider borderColor=\"silver\" my={16} />\r\n\t\t\t\t\t\t{/* Detail Tabs before extra large view*/}\r\n\t\t\t\t\t\t<Box display={{ xl: \"none\" }}>\r\n\t\t\t\t\t\t\t<Flex mb={16}>\r\n\t\t\t\t\t\t\t\t<PseudoBox\r\n\t\t\t\t\t\t\t\t\t{...detailsTabProps}\r\n\t\t\t\t\t\t\t\t\tborderWidth={0}\r\n\t\t\t\t\t\t\t\t\tborderBottom={tabCurrent ? 3 : 0}\r\n\t\t\t\t\t\t\t\t\tborderBottomColor=\"accent\"\r\n\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"headingSmall\"\r\n\t\t\t\t\t\t\t\t\t_hover={\r\n\t\t\t\t\t\t\t\t\t\ttabCurrent\r\n\t\t\t\t\t\t\t\t\t\t\t? {}\r\n\t\t\t\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottomColor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottom: \"3px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirection(-1)\r\n\t\t\t\t\t\t\t\t\t\tsetTabCurrent(true)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tmr={8}>\r\n\t\t\t\t\t\t\t\t\t<Text fontFamily=\"headingSmall\" margin={0} fontSize=\"h4\" fontWeight=\"h4\" lineHeight=\"h4\">\r\n\t\t\t\t\t\t\t\t\t\tLocation\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</PseudoBox>\r\n\t\t\t\t\t\t\t\t<Box mx={8} />\r\n\t\t\t\t\t\t\t\t<PseudoBox\r\n\t\t\t\t\t\t\t\t\t{...detailsTabProps}\r\n\t\t\t\t\t\t\t\t\tborderWidth={0}\r\n\t\t\t\t\t\t\t\t\tborderBottom={tabCurrent ? 0 : 3}\r\n\t\t\t\t\t\t\t\t\tborderBottomColor=\"accent\"\r\n\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"headingSmall\"\r\n\t\t\t\t\t\t\t\t\t_hover={\r\n\t\t\t\t\t\t\t\t\t\ttabCurrent\r\n\t\t\t\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottomColor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottom: \"3px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirection(1)\r\n\t\t\t\t\t\t\t\t\t\tsetTabCurrent(false)\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Text fontFamily=\"headingSmall\" margin={0} fontSize=\"h4\" fontWeight=\"h4\" lineHeight=\"h4\">\r\n\t\t\t\t\t\t\t\t\t\tPoint of Contact\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</PseudoBox>\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t<AnimatePresence custom={direction} initial={false}>\r\n\t\t\t\t\t\t\t\t<MotionBox\r\n\t\t\t\t\t\t\t\t\tposition=\"absolute\"\r\n\t\t\t\t\t\t\t\t\tkey={direction}\r\n\t\t\t\t\t\t\t\t\tinitial={{ transform: `translateX(${direction < 0 ? \"-100%\" : \"100%\"})` }}\r\n\t\t\t\t\t\t\t\t\ttransition={{\r\n\t\t\t\t\t\t\t\t\t\ttype: \"tween\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 0.5,\r\n\t\t\t\t\t\t\t\t\t\tease: \"easeInOut\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tanimate={{\r\n\t\t\t\t\t\t\t\t\t\ttransform: \"translateX(0%)\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\texit={(currDirection: number) => ({\r\n\t\t\t\t\t\t\t\t\t\ttransform: `translateX(${currDirection < 0 ? \"100%\" : \"-100%\"})`,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\">\r\n\t\t\t\t\t\t\t\t\t{tabCurrent ? (\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex mb={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={LocationOnSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{fullAddress}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint color=\"label\">Description</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{locationDesc}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t{pocInfo.map((poc, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflexDir={{ base: \"column\", md: \"row\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor=\"silver\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpx={8}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PersonSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.fullName}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box as={EmailSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.email}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PhoneSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.phone}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</MotionBox>\r\n\t\t\t\t\t\t\t</AnimatePresence>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{/* Detail Tabs at extra large view*/}\r\n\t\t\t\t\t\t<Flex display={{ base: \"none\", xl: \"flex\" }}>\r\n\t\t\t\t\t\t\t<Box flexBasis={{ xl: \"63%\" }}>\r\n\t\t\t\t\t\t\t\t<Box pb={16}>\r\n\t\t\t\t\t\t\t\t\t<H4>Location</H4>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Flex mb={12}>\r\n\t\t\t\t\t\t\t\t\t<Box as={LocationOnSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t<FinePrint>{fullAddress}</FinePrint>\r\n\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t<Box py={4}>\r\n\t\t\t\t\t\t\t\t\t<FinePrint color=\"label\">Description</FinePrint>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<FinePrint>{locationDesc}</FinePrint>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Divider orientation=\"vertical\" flexBasis={{ xl: \"2%\" }} color=\"silver\" />\r\n\t\t\t\t\t\t\t<Box flexBasis={{ xl: \"35%\" }}>\r\n\t\t\t\t\t\t\t\t<Box pb={16}>\r\n\t\t\t\t\t\t\t\t\t<H4>Point of Contact</H4>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t{pocInfo.map((poc, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tflexDir=\"column\"\r\n\t\t\t\t\t\t\t\t\t\t\tborder={1}\r\n\t\t\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\t\t\tborderColor=\"silver\"\r\n\t\t\t\t\t\t\t\t\t\t\tpx={8}\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-around\"\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PersonSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.fullName}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={EmailSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.email}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PhoneSharp} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.phone}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t) : null}\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default LKLCard\r\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddSharp');","import { useEffect, useState } from \"react\"\r\n\r\n/**\r\n * Retrieve saved form data,\r\n * optionally initialized to default values if not found\r\n *\r\n * @param rootKey Key for top-level object containing all forms' data\r\n * @param formName Name page-level specific form data to retrieve.\r\n *  Returns top-level form object with all pages' data if not specified\r\n * @param defaultValue Default value to be returned if no form data is found\r\n *\r\n * @returns Saved form data or default value if none is found\r\n */\r\nexport const getSavedForm = <T extends Record<string, unknown> | Array<Record<string, unknown>>>(\r\n\trootKey: string,\r\n\tformName?: string,\r\n\tdefaultValue?: T\r\n): T => {\r\n\tlet formData\r\n\tif (typeof window !== \"undefined\") {\r\n\t\tconst storedData = window.sessionStorage.getItem(rootKey)\r\n\t\tconst savedForm = storedData && JSON.parse(storedData)\r\n\t\tformData = savedForm && formName ? savedForm[formName] : savedForm\r\n\t}\r\n\r\n\treturn formData || defaultValue\r\n}\r\n\r\n/**\r\n * Clear all stored form data\r\n *\r\n * @param {string} rootKey Key for top-level object containing all forms' data\r\n */\r\nexport const clearAllFormData = (rootKey: string): void => {\r\n\ttypeof window !== \"undefined\" && window.sessionStorage.removeItem(rootKey)\r\n}\r\n\r\ntype useSavedFormOverload = {\r\n\t<T extends Record<string, unknown>>(rootKey: string): [T, (formData: T) => void]\r\n\t<T extends Array<Record<string, unknown>>>(rootKey: string, formName: string): [T, (formData: T) => void]\r\n}\r\n\r\n/**\r\n * Custom hook to manage saved form data.\r\n *\r\n * @param {string} rootKey Key for top-level object containing all forms' data\r\n * @param {string} formName Name page-level specific form data to retrieve (ex. Child Information (1 of 2) form data).\r\n *  Returns top-level form object with all pages' data if not specified\r\n *\r\n * @returns Current stateful form data and a function to update it\r\n */\r\nexport const useSavedForm: useSavedFormOverload = <T extends Record<string, unknown> | Array<Record<string, unknown>>>(\r\n\trootKey: string,\r\n\tformName?: string\r\n): [T, (formData: T) => void] => {\r\n\tconst [formData, setFormData] = useState<T>(() => {\r\n\t\tlet formData\r\n\t\tif (typeof window !== \"undefined\") {\r\n\t\t\tconst storedData = window.sessionStorage.getItem(rootKey)\r\n\t\t\tformData = storedData && JSON.parse(storedData)\r\n\t\t}\r\n\t\treturn formData ?? {}\r\n\t})\r\n\r\n\t// Update storage when from data changes\r\n\tuseEffect(() => {\r\n\t\twindow.sessionStorage.setItem(rootKey, JSON.stringify(formData))\r\n\t}, [formData, rootKey])\r\n\r\n\t// Clear form data from session storage on unload\r\n\tuseEffect(() => {\r\n\t\tconst clearFormData = () => window.sessionStorage.removeItem(rootKey)\r\n\t\twindow.addEventListener(\"beforeunload\", clearFormData)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"beforeunload\", clearFormData)\r\n\t\t}\r\n\t}, [rootKey])\r\n\r\n\t// Update the form data with new sub-form values\r\n\tconst saveFormData = (formVals: T) => {\r\n\t\tformName ? setFormData(prevFormData => ({ ...prevFormData, [formName]: formVals })) : setFormData(formVals)\r\n\t}\r\n\r\n\treturn [formName ? (formData as Record<string, T>)[formName] : formData, saveFormData]\r\n}\r\n","import React from \"react\"\r\nimport { H4, P, Button, Modal, ModalBody, ModalFooter, ModalHeader, ModalCloseButton, LinkButton } from \"@c1ds/components\"\r\nimport { Flex, Box } from \"@chakra-ui/core\"\r\n\r\ninterface DataLossModalProps {\r\n\tisOpen: boolean\r\n\tonClose: React.ComponentProps<typeof Modal>[\"onClose\"]\r\n\tonLeave: (e: React.MouseEvent<HTMLButtonElement>) => void\r\n}\r\n\r\nexport const DataLossModal: React.FC<DataLossModalProps> = (p: DataLossModalProps) => (\r\n\t<Modal isOpen={p.isOpen} onClose={p.onClose} isCentered={true} size=\"sm\">\r\n\t\t<ModalHeader>\r\n\t\t\t<H4>Leave Page?</H4>\r\n\t\t</ModalHeader>\r\n\t\t<ModalCloseButton />\r\n\t\t<ModalBody>\r\n\t\t\t<P>Do you want to leave this page and lose unsaved data?</P>\r\n\t\t</ModalBody>\r\n\r\n\t\t<ModalFooter>\r\n\t\t\t<Flex align=\"center\">\r\n\t\t\t\t<Box marginRight=\"20\">\r\n\t\t\t\t\t<LinkButton onClick={p.onLeave}>Leave</LinkButton>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Button size=\"sm\" onClick={p.onClose}>\r\n\t\t\t\t\tStay\r\n\t\t\t\t</Button>\r\n\t\t\t</Flex>\r\n\t\t</ModalFooter>\r\n\t</Modal>\r\n)\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar SIZE = 44;\n\nfunction getRelativeValue(value, min, max) {\n  return (Math.min(Math.max(min, value), max) - min) / (max - min);\n}\n\nfunction easeOut(t) {\n  t = getRelativeValue(t, 0, 1); // https://gist.github.com/gre/1650294\n\n  t = (t -= 1) * t * t + 1;\n  return t;\n}\n\nfunction easeIn(t) {\n  return t * t;\n}\n\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-block'\n    },\n\n    /* Styles applied to the root element if `variant=\"static\"`. */\n    \"static\": {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `variant=\"indeterminate\"`. */\n    indeterminate: {\n      animation: '$circular-rotate 1.4s linear infinite'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the `svg` element. */\n    svg: {\n      display: 'block' // Keeps the progress centered\n\n    },\n\n    /* Styles applied to the `circle` svg path. */\n    circle: {\n      stroke: 'currentColor' // Use butt to follow the specification, by chance, it's already the default CSS value.\n      // strokeLinecap: 'butt',\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"static\"`. */\n    circleStatic: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"indeterminate\"`. */\n    circleIndeterminate: {\n      animation: '$circular-dash 1.4s ease-in-out infinite',\n      // Some default value that looks fine waiting for the animation to kicks in.\n      strokeDasharray: '80px, 200px',\n      strokeDashoffset: '0px' // Add the unit to fix a Edge 16 and below bug.\n\n    },\n    '@keyframes circular-rotate': {\n      '0%': {\n        // Fix IE 11 wobbly\n        transformOrigin: '50% 50%'\n      },\n      '100%': {\n        transform: 'rotate(360deg)'\n      }\n    },\n    '@keyframes circular-dash': {\n      '0%': {\n        strokeDasharray: '1px, 200px',\n        strokeDashoffset: '0px'\n      },\n      '50%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-15px'\n      },\n      '100%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-125px'\n      }\n    },\n\n    /* Styles applied to the `circle` svg path if `disableShrink={true}`. */\n    circleDisableShrink: {\n      animation: 'none'\n    }\n  };\n};\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$disableShrink = props.disableShrink,\n      disableShrink = _props$disableShrink === void 0 ? false : _props$disableShrink,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 40 : _props$size,\n      style = props.style,\n      _props$thickness = props.thickness,\n      thickness = _props$thickness === void 0 ? 3.6 : _props$thickness,\n      _props$value = props.value,\n      value = _props$value === void 0 ? 0 : _props$value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"]);\n\n  var circleStyle = {};\n  var rootStyle = {};\n  var rootProps = {};\n\n  if (variant === 'determinate' || variant === 'static') {\n    var circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n\n    if (variant === 'static') {\n      circleStyle.strokeDashoffset = \"\".concat(((100 - value) / 100 * circumference).toFixed(3), \"px\");\n      rootStyle.transform = 'rotate(-90deg)';\n    } else {\n      circleStyle.strokeDashoffset = \"\".concat((easeIn((100 - value) / 100) * circumference).toFixed(3), \"px\");\n      rootStyle.transform = \"rotate(\".concat((easeOut(value / 70) * 270).toFixed(3), \"deg)\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], {\n      'indeterminate': classes.indeterminate,\n      'static': classes[\"static\"]\n    }[variant]),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other), /*#__PURE__*/React.createElement(\"svg\", {\n    className: classes.svg,\n    viewBox: \"\".concat(SIZE / 2, \" \").concat(SIZE / 2, \" \").concat(SIZE, \" \").concat(SIZE)\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: clsx(classes.circle, disableShrink && classes.circleDisableShrink, {\n      'indeterminate': classes.circleIndeterminate,\n      'static': classes.circleStatic\n    }[variant]),\n    style: circleStyle,\n    cx: SIZE,\n    cy: SIZE,\n    r: (SIZE - thickness) / 2,\n    fill: \"none\",\n    strokeWidth: thickness\n  })));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCircularProgress',\n  flip: false\n})(CircularProgress);","import React from \"react\"\r\nimport { Box } from \"@chakra-ui/core\"\r\nimport { CircularProgress as MuiCircularProgress } from \"@material-ui/core\"\r\n\r\nexport const CircularProgress: React.FC = () => (\r\n\t<Box color=\"clickable\">\r\n\t\t<MuiCircularProgress color=\"inherit\" size={48} thickness={7.5} />\r\n\t</Box>\r\n)\r\n","import React from \"react\"\r\nimport { Flex, Box } from \"@chakra-ui/core\"\r\nimport { H4, P, Modal, ModalBody, ModalHeader } from \"@c1ds/components\"\r\nimport { CircularProgress } from \"../ProgressIndicator\"\r\n\r\ninterface SaveModalProps {\r\n\tisOpen: boolean\r\n\tonClose: React.ComponentProps<typeof Modal>[\"onClose\"]\r\n\tmessage?: string\r\n}\r\n\r\nexport const SaveModal: React.FC<SaveModalProps> = (p: SaveModalProps) => {\r\n\tconst { isOpen, onClose, message = \"Saving your information\" } = p\r\n\treturn (\r\n\t\t<Modal isOpen={isOpen} onClose={onClose} isCentered={true} size=\"sm\">\r\n\t\t\t<ModalHeader>\r\n\t\t\t\t<H4>Please Wait...</H4>\r\n\t\t\t</ModalHeader>\r\n\t\t\t<ModalBody>\r\n\t\t\t\t<Flex align=\"center\">\r\n\t\t\t\t\t<Box color=\"clickable\">\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box pl=\"24\">\r\n\t\t\t\t\t\t<P>{message}</P>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\t\t\t</ModalBody>\r\n\t\t</Modal>\r\n\t)\r\n}\r\n","import React, { useRef } from \"react\"\r\nimport { useFormContext, Controller, useWatch } from \"react-hook-form\"\r\nimport { Box, Grid } from \"@chakra-ui/core\"\r\nimport { DatePicker, Select, FormInput, ValidationState, Textarea } from \"@c1ds/components\"\r\n\r\nimport evacStatuses from \"../../../content/evacuationStatuses.json\"\r\nimport { FormSection, replaceMSWordChars, useCTFFormContext } from \"../Forms/Form\"\r\n\r\nconst EvacDetails: React.FC = () => {\r\n\tconst { formState, errors, setValue, getValues } = useFormContext<EventFormData>()\r\n\r\n\tconst evacStatusCodeRef = useRef<HTMLButtonElement>(null)\r\n\tconst evacDepAuthDateRef = useRef<HTMLInputElement>(null)\r\n\tconst orderedDateRef = useRef<HTMLInputElement>(null)\r\n\tconst evacSummaryRef = useRef<HTMLTextAreaElement>(null)\r\n\r\n\tconst watchEvacStatus = useWatch<string>({ name: \"evacStatusCode\" })\r\n\r\n\tconst { isCreate, isView } = useCTFFormContext()\r\n\r\n\tconst { dirtyFields } = formState\r\n\r\n\treturn (\r\n\t\t<FormSection title=\"Evacuation Details\">\r\n\t\t\t<Box gridColumn={{ base: \"1 / -1\", md: \"span 4\", lg: \"span 3\" }}>\r\n\t\t\t\t<FormInput labelText=\"Evacuation Status\" labelId=\"evacStatusCodeLabel\">\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"evacStatusCode\"\r\n\t\t\t\t\t\tonFocus={() => evacStatusCodeRef.current?.focus()}\r\n\t\t\t\t\t\trender={({ onChange, onBlur, value }) => (\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tref={evacStatusCodeRef}\r\n\t\t\t\t\t\t\t\tid=\"evacStatusCode\"\r\n\t\t\t\t\t\t\t\tname=\"evacStatusCode\"\r\n\t\t\t\t\t\t\t\taria-labelledby=\"evacStatusCodeLabel\"\r\n\t\t\t\t\t\t\t\toptions={evacStatuses}\r\n\t\t\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\t\t\tvalidationState={errors?.evacStatusCode ? ValidationState.ERROR : undefined}\r\n\t\t\t\t\t\t\t\terrorMessage={errors?.evacStatusCode?.message}\r\n\t\t\t\t\t\t\t\tonChange={changes => {\r\n\t\t\t\t\t\t\t\t\tconst newVal = changes.selectedItem?.value\r\n\t\t\t\t\t\t\t\t\tonChange(newVal)\r\n\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t * 1.16.6 The system defaults the Authorized or Ordered Date to Today’s date\r\n\t\t\t\t\t\t\t\t\t * when Evacuation Status is selected.\r\n\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\tif (newVal === \"ADEP\" && !getValues(\"evacDepAuthDate\")) {\r\n\t\t\t\t\t\t\t\t\t\tsetValue(\"evacDepAuthDate\", new Date())\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t * Only clear date field if creating a new event and date is not dirty\r\n\t\t\t\t\t\t\t\t\t\t * (i.e. user has never modified/saved the date field)\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\tisCreate && !dirtyFields.evacDepOrdDate && setValue(\"evacDepOrdDate\", \"\")\r\n\t\t\t\t\t\t\t\t\t} else if (newVal === \"ODEP\" && !getValues(\"evacDepOrdDate\")) {\r\n\t\t\t\t\t\t\t\t\t\tsetValue(\"evacDepOrdDate\", new Date())\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t * Only clear date field if creating a new event and date is not dirty\r\n\t\t\t\t\t\t\t\t\t\t * (i.e. user has never modified/saved the date field)\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\tisCreate && !dirtyFields.evacDepAuthDate && setValue(\"evacDepAuthDate\", \"\")\r\n\t\t\t\t\t\t\t\t\t} else if (newVal === \"NONE\") {\r\n\t\t\t\t\t\t\t\t\t\tisCreate && !dirtyFields.evacDepOrdDate && setValue(\"evacDepOrdDate\", \"\")\r\n\t\t\t\t\t\t\t\t\t\tisCreate && !dirtyFields.evacDepAuthDate && setValue(\"evacDepAuthDate\", \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Box>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn={{ base: \"1 / -1\", md: \"span 4\", lg: \"span 9\" }}\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{ base: \"repeat(1,max-content)\", md: \"repeat(2,max-content)\" }}>\r\n\t\t\t\t{/* TODO: Discuss implications of large date range */}\r\n\t\t\t\t<FormInput labelText=\"Departure Authorized\" labelId=\"evacDepAuthDateLabel\">\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\tas={<DatePicker />}\r\n\t\t\t\t\t\tid=\"evacDepAuthDate\"\r\n\t\t\t\t\t\tname=\"evacDepAuthDate\"\r\n\t\t\t\t\t\tinputRef={evacDepAuthDateRef}\r\n\t\t\t\t\t\tonFocus={() => evacDepAuthDateRef.current?.focus()}\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t * 1.16.3 The system disables the Date Departure Authorized\r\n\t\t\t\t\t\t * and Date Departure Ordered fields\r\n\t\t\t\t\t\t * when Evacuation Status to “blank”\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t * 1.16.4 The system enables Date Departure Authorized\r\n\t\t\t\t\t\t * when Evacuation Status to “Authorized”\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tdisabled={isView || !watchEvacStatus || watchEvacStatus !== \"ADEP\"}\r\n\t\t\t\t\t\tmaxDate={new Date(2100, 0, 1)}\r\n\t\t\t\t\t\terror={typeof errors?.evacDepAuthDate !== \"undefined\"}\r\n\t\t\t\t\t\terrorMessage={errors?.evacDepAuthDate?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t\t{/* TODO: Discuss implications of large date range */}\r\n\t\t\t\t<FormInput labelText=\"Departure Ordered\" labelId=\"orderedDateLabel\">\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\tas={<DatePicker />}\r\n\t\t\t\t\t\tid=\"evacDepOrdDate\"\r\n\t\t\t\t\t\tname=\"evacDepOrdDate\"\r\n\t\t\t\t\t\tinputRef={orderedDateRef}\r\n\t\t\t\t\t\tonFocus={() => orderedDateRef.current?.focus()}\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t * 1.16.3 The system disables the Date Departure Authorized\r\n\t\t\t\t\t\t * and Date Departure Ordered fields\r\n\t\t\t\t\t\t * when Evacuation Status to “blank”\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t * 1.16.5 The system enables Date Departure Ordered\r\n\t\t\t\t\t\t * when Evacuation Status to “Ordered”\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tdisabled={isView || !watchEvacStatus || watchEvacStatus !== \"ODEP\"}\r\n\t\t\t\t\t\tmaxDate={new Date(2100, 0, 1)}\r\n\t\t\t\t\t\terror={typeof errors?.evacDepOrdDate !== \"undefined\"}\r\n\t\t\t\t\t\terrorMessage={errors?.evacDepOrdDate?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Grid>\r\n\t\t\t<Box gridColumn={{ base: \"1 / -1\", lg: \"span 9\" }}>\r\n\t\t\t\t<FormInput labelText=\"Evacuation Summary\" labelId=\"evacSummaryLabel\">\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"evacSummary\"\r\n\t\t\t\t\t\trules={{\r\n\t\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\t\tvalue: /^[A-Za-z0-9`~!@#$%^&*()_+•\\-=[\\]:\";',./?\\s]*$/,\r\n\t\t\t\t\t\t\t\tmessage: \"Please enter only plain text in the Evacuation Summary field\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmaxLength: { value: 4000, message: \"Evacuation Summary cannot exceed 4000 characters\" },\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() => evacSummaryRef.current?.focus()}\r\n\t\t\t\t\t\trender={({ onChange, onBlur, value }) => (\r\n\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\tref={evacSummaryRef}\r\n\t\t\t\t\t\t\t\tid=\"evacSummary\"\r\n\t\t\t\t\t\t\t\tname=\"evacSummary\"\r\n\t\t\t\t\t\t\t\taria-labelledby=\"evacSummaryLabel\"\r\n\t\t\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\t\t\tmaxLength={4000}\r\n\t\t\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\t\t\tvalidationState={errors?.evacSummary ? ValidationState.ERROR : undefined}\r\n\t\t\t\t\t\t\t\terrorMessage={errors?.evacSummary?.message}\r\n\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t * 1.15.1 The user can only enter \"Plain Text\" in the Event Summary field.\r\n\t\t\t\t\t\t\t\t\t * 1.15.2 The system disallows the user to enter any characters that might\r\n\t\t\t\t\t\t\t\t\t * cause potential security vulnerability like SQL injection, cross-site scripting\r\n\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\te.target.value = replaceMSWordChars(e.target.value).replace(\r\n\t\t\t\t\t\t\t\t\t\t/[^A-Za-z0-9`~!@#$%^&*()_+•\\-=[\\]:\";',./?\\s]/g,\r\n\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\tonChange(e)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Box>\r\n\t\t</FormSection>\r\n\t)\r\n}\r\n\r\nexport default EvacDetails\r\n","import React, { useRef } from \"react\"\r\nimport { useFormContext, Controller, useWatch } from \"react-hook-form\"\r\nimport { Box, Grid, useDisclosure } from \"@chakra-ui/core\"\r\nimport { Switch, DatePicker, Select, FormInput, Text, ValidationState, Textarea } from \"@c1ds/components\"\r\nimport { compareAsc } from \"date-fns\"\r\n\r\nimport mgmtTypes from \"../../../content/managementTypes.json\"\r\nimport eventTypes from \"../../../content/eventTypes.json\"\r\nimport { FormSection, replaceMSWordChars, useCTFFormContext } from \"../Forms/Form\"\r\nimport DeactivateModal from \"../Modals/DeactivateModal\"\r\n\r\nconst EventDetails: React.FC = () => {\r\n\tconst { isOpen: isDeactivateOpen, onOpen: onDeactivateOpen, onClose: onDeactivateClose } = useDisclosure()\r\n\r\n\tconst { register, errors, setValue } = useFormContext<EventFormData>()\r\n\r\n\tconst eventStartDateRef = useRef<HTMLInputElement>(null)\r\n\tconst eventEndDateRef = useRef<HTMLInputElement>(null)\r\n\tconst managementTypeCodeRef = useRef<HTMLButtonElement>(null)\r\n\tconst eventTypeIdRef = useRef<HTMLButtonElement>(null)\r\n\tconst eventSummaryRef = useRef<HTMLTextAreaElement>(null)\r\n\r\n\tconst watchActiveIndicator = useWatch<boolean>({ name: \"activeIndicator\" })\r\n\tconst watchEventStartDate: Date | undefined = useWatch({ name: \"eventStartDate\" }) as Date\r\n\r\n\tconst { isView, isCreate } = useCTFFormContext()\r\n\r\n\treturn (\r\n\t\t<FormSection title=\"Event Details\" showDivider={isCreate}>\r\n\t\t\t<Box gridColumn={{ base: \"1 / -1\", lg: \"span 9\" }}>\r\n\t\t\t\t<FormInput labelText=\"Event Title\" labelId=\"eventTitleLabel\" required>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\trequired: \"Please enter an Event Title\",\r\n\t\t\t\t\t\t\tmaxLength: { value: 25, message: \"Event Title cannot exceed 25 characters\" },\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tname=\"eventTitle\"\r\n\t\t\t\t\t\tid=\"eventTitle\"\r\n\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\tmaxLength={25}\r\n\t\t\t\t\t\tvalidationState={errors?.eventTitle ? ValidationState.ERROR : undefined}\r\n\t\t\t\t\t\terrorMessage={errors?.eventTitle?.message}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t * 1.5 The system disallows a space or non-alphanumeric character (in plain text)\r\n\t\t\t\t\t\t\t * at beginning of the title field\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\te.target.value = e.target.value.replace(/^[^A-Za-z0-9]+/, \"\")\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Box>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn={{ base: \"1 / -1\" }}\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{ base: \"repeat(1,max-content)\", md: \"repeat(3,max-content)\" }}>\r\n\t\t\t\t<FormInput labelText=\"Start Date\" labelId=\"eventStartDateLabel\" required>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\tas={<DatePicker />}\r\n\t\t\t\t\t\tid=\"eventStartDate\"\r\n\t\t\t\t\t\tname=\"eventStartDate\"\r\n\t\t\t\t\t\trules={{ required: \"Please enter a Start Date\" }}\r\n\t\t\t\t\t\tinputRef={eventStartDateRef}\r\n\t\t\t\t\t\tonFocus={() => eventStartDateRef.current?.focus()}\r\n\t\t\t\t\t\t/* 1.6.1 The user can edit the Start Date to any date before today's date\r\n\t\t\t\t\t\t * with valid date range: 01/01/1900 to 01/01/9999\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tmaxDate={new Date()}\r\n\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\terror={typeof errors?.eventStartDate !== \"undefined\"}\r\n\t\t\t\t\t\terrorMessage={errors?.eventStartDate?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t\t{/* TODO: Discuss implications of large date range */}\r\n\t\t\t\t<FormInput labelText=\"End Date\" labelId=\"eventEndDateLabel\">\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\tas={<DatePicker />}\r\n\t\t\t\t\t\tid=\"eventEndDate\"\r\n\t\t\t\t\t\tname=\"eventEndDate\"\r\n\t\t\t\t\t\t/* The system displays appropriate error message\r\n\t\t\t\t\t\t * \"End Date must be equal or later than Start Date\"\r\n\t\t\t\t\t\t * when user editing End Date of a reactivate event.\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\trules={{\r\n\t\t\t\t\t\t\tvalidate: {\r\n\t\t\t\t\t\t\t\tafterStartDate: value =>\r\n\t\t\t\t\t\t\t\t\t!!watchActiveIndicator ||\r\n\t\t\t\t\t\t\t\t\tcompareAsc(value, watchEventStartDate) > -1 ||\r\n\t\t\t\t\t\t\t\t\t\"End Date must be equal to or later than Start Date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tinputRef={eventEndDateRef}\r\n\t\t\t\t\t\tonFocus={() => eventEndDateRef.current?.focus()}\r\n\t\t\t\t\t\tminDate={watchEventStartDate ? watchEventStartDate : undefined}\r\n\t\t\t\t\t\tmaxDate={new Date(2100, 0, 1)}\r\n\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\terror={typeof errors?.eventEndDate !== \"undefined\"}\r\n\t\t\t\t\t\terrorMessage={errors?.eventEndDate?.message}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t\t<FormInput labelText=\"Active\" labelId=\"activeIndicatorLabel\">\r\n\t\t\t\t\t<Switch\r\n\t\t\t\t\t\tref={register()}\r\n\t\t\t\t\t\tname=\"activeIndicator\"\r\n\t\t\t\t\t\tid=\"activeIndicator\"\r\n\t\t\t\t\t\tvalue=\"Active\"\r\n\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\t\t\t\tif (e.target.checked) {\r\n\t\t\t\t\t\t\t\tsetValue(\"eventEndDate\", undefined)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t * Note: Prevent default will not work as expected for checkboxes in React.\r\n\t\t\t\t\t\t\t\t * Instead, revert activeIndicator value back to true\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\tsetValue(\"activeIndicator\", true)\r\n\t\t\t\t\t\t\t\tonDeactivateOpen()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Grid>\r\n\t\t\t<Box gridColumn={{ base: \"1 / -1\", md: \"span 4\" }}>\r\n\t\t\t\t<FormInput labelText=\"Management Type\" labelId=\"managementTypeCodeLabel\" required>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"managementTypeCode\"\r\n\t\t\t\t\t\trules={{\r\n\t\t\t\t\t\t\trequired: \"Please select a Management Type\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() => managementTypeCodeRef.current?.focus()}\r\n\t\t\t\t\t\trender={({ onChange, onBlur, value }) => (\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tref={managementTypeCodeRef}\r\n\t\t\t\t\t\t\t\tid=\"managementTypeCode\"\r\n\t\t\t\t\t\t\t\tname=\"managementTypeCode\"\r\n\t\t\t\t\t\t\t\taria-labelledby=\"managementTypeCodeLabel\"\r\n\t\t\t\t\t\t\t\toptions={mgmtTypes}\r\n\t\t\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\t\t\tvalidationState={errors?.managementTypeCode ? ValidationState.ERROR : undefined}\r\n\t\t\t\t\t\t\t\terrorMessage={errors?.managementTypeCode?.message}\r\n\t\t\t\t\t\t\t\tonChange={changes => {\r\n\t\t\t\t\t\t\t\t\tonChange(changes.selectedItem?.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Box>\r\n\t\t\t<Box gridColumn={{ base: \"1 / -1\", md: \"span 4\" }}>\r\n\t\t\t\t<FormInput labelText=\"Event Type\" labelId=\"eventTypeIdLabel\" required>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"eventTypeId\"\r\n\t\t\t\t\t\trules={{\r\n\t\t\t\t\t\t\trequired: \"Please select an Event Type\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() => eventTypeIdRef.current?.focus()}\r\n\t\t\t\t\t\trender={({ onChange, onBlur, value }) => (\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tref={eventTypeIdRef}\r\n\t\t\t\t\t\t\t\tid=\"eventTypeId\"\r\n\t\t\t\t\t\t\t\tname=\"eventTypeId\"\r\n\t\t\t\t\t\t\t\taria-labelledby=\"eventTypeIdLabel\"\r\n\t\t\t\t\t\t\t\toptions={eventTypes}\r\n\t\t\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\t\t\tvalidationState={errors?.eventTypeId ? ValidationState.ERROR : undefined}\r\n\t\t\t\t\t\t\t\terrorMessage={errors?.eventTypeId?.message}\r\n\t\t\t\t\t\t\t\tonChange={changes => {\r\n\t\t\t\t\t\t\t\t\tonChange(changes.selectedItem?.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Box>\r\n\t\t\t<Box gridColumn={{ base: \"1 / -1\", lg: \"span 9\" }}>\r\n\t\t\t\t<FormInput labelText=\"Event Summary\" labelId=\"eventSummaryLabel\">\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"eventSummary\"\r\n\t\t\t\t\t\trules={{\r\n\t\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\t\tvalue: /^[A-Za-z0-9`~!@#$%^&*()_+•\\-=[\\]:\";',./?\\s]*$/,\r\n\t\t\t\t\t\t\t\tmessage: \"Please enter only plain text in the Event Summary field\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmaxLength: { value: 4000, message: \"Event Summary cannot exceed 4000 characters\" },\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() => eventSummaryRef.current?.focus()}\r\n\t\t\t\t\t\trender={({ onChange, onBlur, value }) => (\r\n\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\tref={eventSummaryRef}\r\n\t\t\t\t\t\t\t\tid=\"eventSummary\"\r\n\t\t\t\t\t\t\t\tname=\"eventSummary\"\r\n\t\t\t\t\t\t\t\taria-labelledby=\"eventSummaryLabel\"\r\n\t\t\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\t\t\tmaxLength={4000}\r\n\t\t\t\t\t\t\t\tdisabled={isView}\r\n\t\t\t\t\t\t\t\tvalidationState={errors?.eventSummary ? ValidationState.ERROR : undefined}\r\n\t\t\t\t\t\t\t\terrorMessage={errors?.eventSummary?.message}\r\n\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t * 1.15.1 The user can only enter \"Plain Text\" in the Event Summary field.\r\n\t\t\t\t\t\t\t\t\t * 1.15.2 The system disallows the user to enter any characters that might\r\n\t\t\t\t\t\t\t\t\t * cause potential security vulnerability like SQL injection, cross-site scripting\r\n\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\te.target.value = replaceMSWordChars(e.target.value).replace(\r\n\t\t\t\t\t\t\t\t\t\t/[^A-Za-z0-9`~!@#$%^&*()_+•\\-=[\\]:\";',./?\\s]/g,\r\n\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\tonChange(e)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormInput>\r\n\t\t\t</Box>\r\n\t\t\t<DeactivateModal\r\n\t\t\t\tisOpen={isDeactivateOpen}\r\n\t\t\t\tonCancel={onDeactivateClose}\r\n\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * 1.11.2 The user clicks on [YES] on the confirmation message\r\n\t\t\t\t\t * to deactivate the event or clicks on [Cancel] to exit the deactivation.\r\n\t\t\t\t\t */\r\n\t\t\t\t\t// 1.11.3 The system update the Event Active Indicator to No and Event End Date to today's date.\r\n\t\t\t\t\tsetValue(\"activeIndicator\", false)\r\n\t\t\t\t\tsetValue(\"eventEndDate\", new Date())\r\n\r\n\t\t\t\t\tonDeactivateClose()\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</FormSection>\r\n\t)\r\n}\r\n\r\nexport default EventDetails\r\n","import toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * var result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * var result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\n\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import React, { useCallback } from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport { Box, Flex, useDisclosure } from \"@chakra-ui/core\"\r\nimport { Button, Banner, useBanner, Status, LinkButton } from \"@c1ds/components\"\r\nimport moment from \"moment\"\r\nimport { DataLossModal } from \"../Modals/DataLossModal\"\r\nimport { SaveModal } from \"../Modals/SaveModal\"\r\nimport { useForm, FormProvider } from \"react-hook-form\"\r\nimport { getSavedForm, useSavedForm } from \"../../components/Utility/formHelpers\"\r\nimport { Form, useCTFFormContext } from \"./Form\"\r\nimport Layout from \"../../components/Layout\"\r\nimport EvacDetails from \"../FormSections/EvacDetails\"\r\nimport EventDetails from \"../FormSections/EventDetails\"\r\nimport { EventPageState } from \"../../pages/event\"\r\n\r\ninterface EventFormProps {\r\n\tsavedEvent?: EventFormData\r\n}\r\n\r\nconst EventForm: React.FC<EventFormProps> = (p: EventFormProps) => {\r\n\tconst { savedEvent } = p\r\n\tconst { isCreate, isEdit, formSection } = useCTFFormContext()\r\n\r\n\tconst { isOpen: isDataLossOpen, onOpen: onDataLossOpen, onClose: onDataLossClose } = useDisclosure()\r\n\r\n\tconst { isOpen: isSaveOpen, onOpen: onSaveOpen, onClose: onSaveClose } = useDisclosure()\r\n\tconst showSaveBanner = useBanner(saveBanner, 2)\r\n\tconst [, updateSavedForm] = useSavedForm<EventFormData[]>(\"ctfForms\", \"events\")\r\n\r\n\tconst defaultValues = {\r\n\t\t// Mimic key generation for Crisis\r\n\t\teventId: `OCS${moment(new Date()).format(\"YYYYDDD\")}${Math.floor(Math.random() * Math.floor(1000000))}`,\r\n\t\teventTitle: \"\",\r\n\t\teventStartDate: new Date(),\r\n\t\tactiveIndicator: true,\r\n\t\tmanagementTypeCode: \"mg\",\r\n\t\t// 1.13 The system defaults the Event Type to General.\r\n\t\teventTypeId: \"General\",\r\n\t\teventSummary: \"\",\r\n\t\t// 1.16.1 The system defaults the Evacuation Status to “blank”\r\n\t\tevacStatusCode: \"NONE\",\r\n\t\tevacSummary: \"\",\r\n\t\tlastUpdatedDateTime: new Date(),\r\n\t}\r\n\r\n\tconst formMethods = useForm<EventFormData>({\r\n\t\tmode: \"onBlur\",\r\n\t\tdefaultValues: savedEvent ?? defaultValues,\r\n\t})\r\n\tconst { register, handleSubmit, getValues } = formMethods\r\n\r\n\tconst onSubmit = useCallback(\r\n\t\t(data, skipNavigate = false) => {\r\n\t\t\tdata.lastUpdatedDateTime = new Date()\r\n\t\t\tconst currForm = getSavedForm<EventFormData[]>(\"ctfForms\", \"events\", [])\r\n\t\t\tif (isEdit) {\r\n\t\t\t\tconst savedIdx = currForm.findIndex((evt: EventFormData) => evt.eventId === data.eventId)\r\n\t\t\t\t// Merge existing saved data with updates in case any fields are not present in section's form data\r\n\t\t\t\tconst updatedEvent = { ...currForm[savedIdx], ...data }\r\n\t\t\t\tcurrForm.splice(savedIdx, 1, updatedEvent)\r\n\t\t\t} else {\r\n\t\t\t\tcurrForm.push(data)\r\n\t\t\t}\r\n\t\t\tupdateSavedForm(currForm)\r\n\t\t\tonSaveOpen()\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (skipNavigate) {\r\n\t\t\t\t\tonSaveClose()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// TODO: Once microservice is connected, use returned eventId/event data\r\n\t\t\t\t\tconst pageState: EventPageState = {\r\n\t\t\t\t\t\teventId: getValues(\"eventId\"),\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnavigate(\"/event\", { state: pageState })\r\n\t\t\t\t\tonSaveClose()\r\n\t\t\t\t}\r\n\t\t\t\tshowSaveBanner()\r\n\t\t\t}, 2000)\r\n\t\t},\r\n\t\t[updateSavedForm, isEdit, onSaveOpen, onSaveClose, showSaveBanner, getValues]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Layout\r\n\t\t\tpageTitle=\"Event Details\"\r\n\t\t\tpageHeading={isEdit ? `${savedEvent?.eventTitle}` : \"Create New Event\"}\r\n\t\t\tpageDescription={\r\n\t\t\t\tisEdit\r\n\t\t\t\t\t? \"\"\r\n\t\t\t\t\t: \"Enter the basic information related to the developing crisis. You can add more details later as the event unfolds.\"\r\n\t\t\t}>\r\n\t\t\t{\" \"}\r\n\t\t\t<FormProvider {...formMethods}>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tname=\"eventForm\"\r\n\t\t\t\t\tid=\"eventForm\"\r\n\t\t\t\t\tonSubmit={handleSubmit(data => {\r\n\t\t\t\t\t\tonSubmit(data, false)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tnoValidate={true}>\r\n\t\t\t\t\t<input name=\"eventId\" type=\"hidden\" ref={register} />\r\n\r\n\t\t\t\t\t{(isCreate || (isEdit && formSection === \"overview\")) && <EventDetails />}\r\n\r\n\t\t\t\t\t{(isCreate || (isEdit && formSection === \"evacuation\")) && <EvacDetails />}\r\n\r\n\t\t\t\t\t<Flex\r\n\t\t\t\t\t\tas=\"nav\"\r\n\t\t\t\t\t\taria-label=\"page\"\r\n\t\t\t\t\t\tid=\"pageNav\"\r\n\t\t\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tjustify={{ base: \"flex-end\", md: \"flex-start\" }}\r\n\t\t\t\t\t\tmarginTop={{ md: \"72\" }}>\r\n\t\t\t\t\t\t<Box marginRight=\"20\">\r\n\t\t\t\t\t\t\t<LinkButton type=\"button\" onClick={onDataLossOpen}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</LinkButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Button type=\"submit\" size={isEdit ? \"sm\" : \"md\"}>\r\n\t\t\t\t\t\t\t{isEdit ? \"Save\" : \"Create Event\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Flex>\r\n\r\n\t\t\t\t\t<DataLossModal\r\n\t\t\t\t\t\tisOpen={isDataLossOpen}\r\n\t\t\t\t\t\tonClose={onDataLossClose}\r\n\t\t\t\t\t\tonLeave={() => {\r\n\t\t\t\t\t\t\tif (isCreate) {\r\n\t\t\t\t\t\t\t\tnavigate(\"/\")\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconst pageState: EventPageState = {\r\n\t\t\t\t\t\t\t\t\teventId: getValues(\"eventId\"),\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnavigate(\"/event\", { state: pageState })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SaveModal\r\n\t\t\t\t\t\tisOpen={isSaveOpen}\r\n\t\t\t\t\t\tonClose={onSaveClose}\r\n\t\t\t\t\t\tmessage={isCreate ? \"Creating crisis event.\" : \"Saving crisis information.\"}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form>\r\n\t\t\t</FormProvider>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nconst saveBanner = (\r\n\t<Banner status={Status.success} title=\"Save successful!\" onClose={() => console.log(\"Banner closed\")}>\r\n\t\t{}\r\n\t</Banner>\r\n)\r\n\r\nexport default EventForm\r\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75 2.53-2.54z\"\n}), 'EditSharp');","import React from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport { Box, Flex, Grid, Divider, Text } from \"@chakra-ui/core\"\r\nimport { FinePrint, P, LinkButton, Link, H3, IconAlignment } from \"@c1ds/components\"\r\nimport moment from \"moment\"\r\nimport { EditSharp } from \"@material-ui/icons\"\r\nimport mgmtTypes from \"../../../content/managementTypes.json\"\r\nimport eventTypes from \"../../../content/eventTypes.json\"\r\nimport evacStatuses from \"../../../content/evacuationStatuses.json\"\r\nimport { EventPageState } from \"../../pages/event\"\r\n\r\n//TODO: Use exported type\r\ninterface Option {\r\n\tlabel: string\r\n\tvalue: string\r\n}\r\n\r\ninterface OverviewTabProps {\r\n\teventData: EventFormData\r\n}\r\n\r\nexport const OverviewTab: React.FC<OverviewTabProps> = (p: OverviewTabProps) => {\r\n\tconst { eventData } = p\r\n\tconst eventType = eventTypes.find((eventType: Option) => eventType.value === eventData.eventTypeId)?.label\r\n\tconst mgmtType = mgmtTypes.find((mgmtType: Option) => mgmtType.value === eventData.managementTypeCode)?.label\r\n\tconst evacStatus = evacStatuses.find((evaStatus: Option) => evaStatus.value === eventData.evacStatusCode)?.label\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{\r\n\t\t\t\t\tbase: \"repeat(4, 1fr)\",\r\n\t\t\t\t\tmd: \"repeat(12, 1fr)\",\r\n\t\t\t\t\tlg: \"repeat(12, 1fr)\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<Flex gridColumn=\"1 / -1\" align=\"center\" justify=\"space-between\">\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<H3>Event Details</H3>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<LinkButton\r\n\t\t\t\t\t\t\tbuttonIcon={{ mdIcon: EditSharp, alignment: IconAlignment.LEFT, color: \"clickable\" }}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst pageState: EventPageState = {\r\n\t\t\t\t\t\t\t\t\teventId: eventData.eventId,\r\n\t\t\t\t\t\t\t\t\tisEdit: true,\r\n\t\t\t\t\t\t\t\t\tformSection: \"overview\",\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnavigate(\"/event\", { state: pageState })\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t&nbsp;Edit\r\n\t\t\t\t\t\t</LinkButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<Box gridColumn={{ base: \"span 2\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Event Type</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(eventType)}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"span 2\", md: \"span 3\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Management Type</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(mgmtType)}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"span 2\", lg: \"span 3\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Start Date</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(formatDateField(eventData.eventStartDate))}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"span 2\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">End Date</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(formatDateField(eventData.eventEndDate))}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\", md: \"span 2\" }} justifySelf={{ md: \"center\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Evacuation Status</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(evacStatus)}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Event Description</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(eventData.eventSummary)}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t\t<Box gridColumn=\"1 / -1\" marginY=\"16\">\r\n\t\t\t\t<Divider borderColor=\"disabledDark\" marginY=\"2\" marginX={0} opacity={1} />\r\n\t\t\t</Box>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{\r\n\t\t\t\t\tbase: \"repeat(4, 1fr)\",\r\n\t\t\t\t\tmd: \"repeat(8, 1fr)\",\r\n\t\t\t\t\tlg: \"repeat(12, 1fr)\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t\t<H3>Talking Points</H3>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t\t<P>Default Talking Points have been added, pending new Talking Points.</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\" }} marginTop={{ base: \"24\", sm: \"0\", md: \"24\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Uploaded file</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{/* <P>{displayData(eventData.eventSummary)}</P> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t\t<Box gridColumn=\"1 / -1\" marginY=\"16\">\r\n\t\t\t\t<Divider borderColor=\"disabledDark\" marginY=\"2\" marginX={0} opacity={1} />\r\n\t\t\t</Box>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{\r\n\t\t\t\t\tbase: \"repeat(4, 1fr)\",\r\n\t\t\t\t\tmd: \"repeat(8, 1fr)\",\r\n\t\t\t\t\tlg: \"repeat(12, 1fr)\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t\t<H3>Impacted Area</H3>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t\t<P>\r\n\t\t\t\t\t\t<Text color=\"required\" as=\"span\">\r\n\t\t\t\t\t\t\t*&nbsp;\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\tWhich Consular Posts are impacted by this event?\r\n\t\t\t\t\t</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\" }} marginTop={{ base: \"0\" }}>\r\n\t\t\t\t\t<P>See below to help identify where Consular Districts are located in each country.</P>\r\n\t\t\t\t\t<Box fontSize=\"button\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\thref=\"http://fam.a.state.sbu/fam/02FAM/02FAM0460.html#M463\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noreferrer noopener\">\r\n\t\t\t\t\t\t\t2 FAM EXHIBIT 461&nbsp; CONSULAR DISTRICTS\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{/* <P>{displayData(eventData.eventSummary)}</P> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\n// TODO: Move to common util file (also used by EventCard)\r\nconst formatDateField = (inputDate: Date | undefined) => {\r\n\treturn inputDate ? moment(inputDate).format(\"MM/DD/YYYY\") : \"\"\r\n}\r\n\r\nconst displayData = (value?: string) => (value ? value : \"---\")\r\n","import React, { useState } from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport moment from \"moment\"\r\n\r\nimport { Flex, Box, Grid, Button as ChakraButton } from \"@chakra-ui/core\"\r\nimport { P, H3, C1_DATE_FORMAT as DateFormat, LinkButton, IconAlignment } from \"@c1ds/components\"\r\n\r\nimport LKLCard from \"../LKLCard\"\r\n\r\nimport Pagination from \"@material-ui/lab/Pagination\"\r\nimport { AddSharp } from \"@material-ui/icons\"\r\n\r\nconst DateTimeFormat = `${DateFormat} HH:mm:ss:SS ZZ`\r\n\r\ninterface LastKnownLocationTabProps {\r\n\teventData: EventFormData\r\n}\r\n\r\nexport const LastKnownLocationTab: React.FC<LastKnownLocationTabProps> = (p: LastKnownLocationTabProps) => {\r\n\t// Currently using the first event eventLklDtoList for demonstration\r\n\tconst { eventData } = p\r\n\r\n\tconst eventLklDtoList: LklDto[] =\r\n\t\teventData.eventLklDtoList?.map(eventLklDto => {\r\n\t\t\tconst eventLklDtoWithDate: LklDto = {\r\n\t\t\t\t...eventLklDto,\r\n\t\t\t\tcreatedDateTime: moment(eventLklDto.createdDateTime, DateTimeFormat).toDate(),\r\n\t\t\t\tlastUpdatedDateTime: moment(eventLklDto.lastUpdatedDateTime, DateTimeFormat).toDate(),\r\n\t\t\t}\r\n\t\t\treturn eventLklDtoWithDate\r\n\t\t}) ?? []\r\n\tconst [page, setPage] = useState(1)\r\n\tconst [lklsPerPage, setLklsPerPage] = useState(10)\r\n\tconst [hideInactive, setHideInactive] = useState(true)\r\n\r\n\t/**\r\n\t * 1.5 The system displays the default location list with “Active” location status and sort by Last Updated Date (Still working on the UI)\r\n\t */\r\n\teventLklDtoList.sort((a: LklDto, b: LklDto) => {\r\n\t\tconst aLastUpdatedTime = a.lastUpdatedDateTime ?? new Date()\r\n\t\tconst bLastUpdatedTime = b.lastUpdatedDateTime ?? new Date()\r\n\t\t// Descending order\r\n\t\tconst direction = -1\r\n\t\tif (aLastUpdatedTime > bLastUpdatedTime) return direction\r\n\t\tif (aLastUpdatedTime < bLastUpdatedTime) return -direction\r\n\t\treturn 0\r\n\t})\r\n\tconst controlledLkls = eventLklDtoList.filter((event: LklDto) => {\r\n\t\tif (hideInactive) return event.activeIndicator\r\n\t\telse return true\r\n\t})\r\n\r\n\tconst numOfPages = Math.ceil(controlledLkls.length / lklsPerPage)\r\n\t// Update the page number when inactive events are hidden\r\n\tif (page > numOfPages) setPage(numOfPages)\r\n\r\n\tconst indexOfLastEvent = page * lklsPerPage\r\n\tconst indexOfFirstEvent = indexOfLastEvent - lklsPerPage\r\n\r\n\tconst isMultiplePages = controlledLkls.length > lklsPerPage\r\n\tconst totalPages = isMultiplePages ? Math.ceil(controlledLkls.length / lklsPerPage) : 1\r\n\tconst lklsOnPage = totalPages !== 1 ? controlledLkls.slice(indexOfFirstEvent, indexOfLastEvent) : controlledLkls\r\n\r\n\treturn (\r\n\t\t// first Flex will be removed once tabular view is established\r\n\t\t/**\r\n            1.1     The user can access the Last Known Locations (list) screen by click on Last Known Locations menu item when editing an event.\r\n            1.2     The user can see the Event Title of the event that is being edited on top of the screen\r\n        */\r\n\r\n\t\t<Grid\r\n\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\tgridTemplateColumns={{\r\n\t\t\t\tbase: \"repeat(4, 1fr)\",\r\n\t\t\t\tmd: \"repeat(12, 1fr)\",\r\n\t\t\t\tlg: \"repeat(12, 1fr)\",\r\n\t\t\t}}>\r\n\t\t\t<Flex gridColumn=\"1 / -1\" align=\"center\" justify=\"space-between\">\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<H3>Last Known Locations</H3>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display={{ base: \"none\", md: \"block\" }}>\r\n\t\t\t\t\t<LinkButton\r\n\t\t\t\t\t\tbuttonIcon={{ mdIcon: AddSharp, alignment: IconAlignment.LEFT, color: \"clickable\" }}\r\n\t\t\t\t\t\tonClick={() => navigate(\"/addLKL\")}>\r\n\t\t\t\t\t\t&nbsp;Add Location\r\n\t\t\t\t\t</LinkButton>\r\n\t\t\t\t</Box>\r\n\t\t\t</Flex>\r\n\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t<P>Manage the last known locations for U.S. citizens involved in this crisis.</P>\r\n\t\t\t</Box>\r\n\t\t\t{/* 1.8     The user can set “Hide Inactive Location” to NO to view all \r\n                    last known locations (Active and Inactive) order by default Last Updated Date */}\r\n\t\t\t{/* <Box mr={20}>\r\n                        <HideInactiveButton onToggleHideInactive={() => {return}} />\r\n                    </Box> */}\r\n\t\t\t<Box bottom=\"16px\" zIndex={2} right=\"16px\" position=\"fixed\" display={{ md: \"none\" }}>\r\n\t\t\t\t<ChakraButton\r\n\t\t\t\t\tborderColor=\"transparent\"\r\n\t\t\t\t\tboxShadow=\"0 6px 6px 0 rgba(0, 0, 0, 0.4)\"\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\twidth=\"40px\"\r\n\t\t\t\t\trounded=\"round\"\r\n\t\t\t\t\tbg=\"clickable\"\r\n\t\t\t\t\tcursor=\"pointer\"\r\n\t\t\t\t\t_hover={{\r\n\t\t\t\t\t\tbg: \"secondary\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClick={() => navigate(\"/addLKL\")}>\r\n\t\t\t\t\t<Box as={AddSharp} size=\"iconMobileCreate\" />\r\n\t\t\t\t</ChakraButton>\r\n\t\t\t</Box>\r\n\t\t\t{/* <Flex\r\n\t\t\t\tgridColumn={{ base: \"1 / -1\", md: \"1 / 5\", lg: \"1 / 8\", xl: \"1 / 9\" }}\r\n\t\t\t\tdirection=\"row\"\r\n\t\t\t\twrap=\"wrap\"\r\n\t\t\t\tjustify=\"flex-end\"\r\n\t\t\t\tmb={8}>\r\n\t\t\t\t<Flex display={{ base: \"none\", md: \"flex\" }} alignItems=\"center\">\r\n\t\t\t\t\t<Box as={AddSharp} alignSelf=\"center\" size=\"iconPoc\" color=\"lochmara\" mx={8} h={16} />\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t// navigate(\"/event\", { state: { eventId: eventId } })\r\n\t\t\t\t\t\t\tnavigate(\"/addLKL\")\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdd Location\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Flex>\r\n\t\t\t</Flex> */}\r\n\t\t\t{/* <Flex\r\n\t\t\t\tgridColumn={{ base: \"1 / -1\", md: \"1 / 5\", lg: \"1 / 8\", xl: \"1 / 9\" }}\r\n\t\t\t\tdirection=\"row\"\r\n\t\t\t\twrap=\"wrap\"\r\n\t\t\t\tjustify=\"flex-end\">\r\n\t\t\t\t<Box flexGrow={1} mb={20}>\r\n\t\t\t\t\t<P>Manage the last known locations for U.S. citizens involved in this crisis.</P>\r\n\t\t\t\t</Box>\r\n\t\t\t</Flex> */}\r\n\t\t\t{/* LKL card list*/}\r\n\t\t\t{/* 1.3     The user can see the following fields on View Last Known Location screen\r\n                    ·         Hide Inactive Location - Indicator\r\n                    ·         [Add Location] – button\r\n                    ·         Last Known Location - card\r\n                    ·         Pagination\r\n                    1.6     The system defaults “Hide Inactive Location” to YES  (Still working on the UI)\r\n                    1.7     The user can distinguish active or inactive last known location visually.  (Still working on the UI)\r\n                */}\r\n\t\t\t{/* \r\n                <Flex\r\n                    gridColumn={{ base: \"1 / 3\", md: \"1 / -1\" }}\r\n                    gridRow={{ base: \"3\", md: \"auto\" }}\r\n                    justify={{ base: \"flex-start\", md: \"flex-end\" }}>\r\n                    <HideInactiveButton onToggleHideInactive={onToggleHideInactive} />\r\n                </Flex> \r\n                */}\r\n\r\n\t\t\t{lklsOnPage.map((lklData: LklDto, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box key={index} gridColumn=\"1 / -1\">\r\n\t\t\t\t\t\t<LKLCard lklData={lklData} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\r\n\t\t\t{/* 1.9     The system displays the proper pagination at bottom of the Last \r\n                            Known Location List, each page contains “X” number of records.  \r\n                            (“X” is based on C1 design) \r\n                    1.10    The user can browse through additional Last Known Locations \r\n                            by using the pagination controls (e.g. First, Next, Last, Page Number etc.) .\r\n                    \r\n                    Pagination is not yet build in wireframe, so this is just place holder.\r\n                */}\r\n\t\t\t{/* pagination */}\r\n\r\n\t\t\t<Flex gridColumn=\"1 / -1\" justify=\"space-evenly\">\r\n\t\t\t\t<P>{eventLklDtoList.length} results</P>\r\n\t\t\t\t<Pagination page={page} count={totalPages} onChange={(_, value) => setPage(value)} showLastButton size=\"small\" />\r\n\t\t\t\t<select>\r\n\t\t\t\t\t<option value=\"10\">10</option>\r\n\t\t\t\t\t<option value=\"20\">20</option>\r\n\t\t\t\t</select>\r\n\t\t\t</Flex>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport { Box, Flex, Grid, Divider } from \"@chakra-ui/core\"\r\nimport { FinePrint, P, LinkButton, H3, IconAlignment } from \"@c1ds/components\"\r\nimport moment from \"moment\"\r\nimport { EditSharp } from \"@material-ui/icons\"\r\nimport evacStatuses from \"../../../content/evacuationStatuses.json\"\r\nimport { EventPageState } from \"../../pages/event\"\r\n\r\n//TODO: Use exported type\r\ninterface Option {\r\n\tlabel: string\r\n\tvalue: string\r\n}\r\n\r\ninterface EvacDetailsTabProps {\r\n\teventData: EventFormData\r\n}\r\n\r\nexport const EvacDetailsTab: React.FC<EvacDetailsTabProps> = (p: EvacDetailsTabProps) => {\r\n\tconst { eventData } = p\r\n\tconst evacStatus = evacStatuses.find((evaStatus: Option) => evaStatus.value === eventData.evacStatusCode)?.label\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{\r\n\t\t\t\t\tbase: \"repeat(4, 1fr)\",\r\n\t\t\t\t\tmd: \"repeat(12, 1fr)\",\r\n\t\t\t\t\tlg: \"repeat(12, 1fr)\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<Flex gridColumn=\"1 / -1\" align=\"center\" justify=\"space-between\">\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<H3>Evacuation Details</H3>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<LinkButton\r\n\t\t\t\t\t\t\tbuttonIcon={{ mdIcon: EditSharp, alignment: IconAlignment.LEFT, color: \"clickable\" }}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst pageState: EventPageState = {\r\n\t\t\t\t\t\t\t\t\teventId: eventData.eventId,\r\n\t\t\t\t\t\t\t\t\tisEdit: true,\r\n\t\t\t\t\t\t\t\t\tformSection: \"evacuation\",\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnavigate(\"/event\", { state: pageState })\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t&nbsp;Edit\r\n\t\t\t\t\t\t</LinkButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\", md: \"span 4\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Evacuation Status</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(evacStatus)}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\", sm: \"span 2\", md: \"span 4\", lg: \"span 3\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Departure Authorized</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(formatDateField(eventData.evacDepAuthDate))}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\", sm: \"span 2\", md: \"span 4\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Departure Ordered</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(formatDateField(eventData.evacDepOrdDate))}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Evacuation Summary</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<P>{displayData(eventData.evacSummary)}</P>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t\t<Box gridColumn=\"1 / -1\" marginY=\"16\">\r\n\t\t\t\t<Divider borderColor=\"disabledDark\" marginY=\"2\" marginX={0} opacity={1} />\r\n\t\t\t</Box>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\n// TODO: Move to common util file (also used by EventCard)\r\nconst formatDateField = (inputDate: Date | undefined) => {\r\n\treturn inputDate ? moment(inputDate).format(\"MM/DD/YYYY\") : \"\"\r\n}\r\n\r\nconst displayData = (value?: string) => (value ? value : \"---\")\r\n","import React from \"react\"\r\nimport { Box, Flex, Grid } from \"@chakra-ui/core\"\r\nimport { FinePrint, P, H3, FileUploader } from \"@c1ds/components\"\r\n\r\ninterface AttachmentsTabProps {\r\n\teventData: EventFormData\r\n}\r\n\r\nexport const AttachmentsTab: React.FC<AttachmentsTabProps> = (p: AttachmentsTabProps) => {\r\n\tconst { eventData } = p\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Grid\r\n\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\tgridTemplateColumns={{\r\n\t\t\t\t\tbase: \"repeat(4, 1fr)\",\r\n\t\t\t\t\tmd: \"repeat(12, 1fr)\",\r\n\t\t\t\t\tlg: \"repeat(12, 1fr)\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<Flex gridColumn=\"1 / -1\" align=\"center\" justify=\"space-between\">\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<H3>Attachments</H3>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t\t<P>Add additional attachments related to this event.</P>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box gridColumn={{ base: \"1 / -1\" }}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">Attachments</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<FileUploader\r\n\t\t\t\t\t\tid=\"attachments\"\r\n\t\t\t\t\t\tmaxSizeBytes={1024 * 1024 * 5}\r\n\t\t\t\t\t\tallowedFileTypes={[\r\n\t\t\t\t\t\t\t\".jpg\",\r\n\t\t\t\t\t\t\t\".jpeg\",\r\n\t\t\t\t\t\t\t\".gif\",\r\n\t\t\t\t\t\t\t\".png\",\r\n\t\t\t\t\t\t\t\".xls\",\r\n\t\t\t\t\t\t\t\".xlsx\",\r\n\t\t\t\t\t\t\t\".doc\",\r\n\t\t\t\t\t\t\t\".docx\",\r\n\t\t\t\t\t\t\t\".txt\",\r\n\t\t\t\t\t\t\t\".rtf\",\r\n\t\t\t\t\t\t\t\".pdf\",\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonDrop={() => {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { Box, BoxProps, Flex, Grid, Divider, PseudoBox, useTheme } from \"@chakra-ui/core\"\r\nimport SEO from \"./seo\"\r\nimport { H1, Select } from \"@c1ds/components\"\r\nimport { EventFormSections } from \"./Forms/Form\"\r\nimport { OverviewTab } from \"./PageSections/EventOverviewTab\"\r\nimport { LastKnownLocationTab } from \"./PageSections/EventLklTab\"\r\nimport { EvacDetailsTab } from \"./PageSections/EventEvacDetailsTab\"\r\nimport { AttachmentsTab } from \"./PageSections/EventAttachmentsTab\"\r\n\r\ninterface EventFormProps {\r\n\tsavedEvent?: EventFormData\r\n}\r\n\r\nconst eventTabs: { label: string; value: EventFormSections }[] = [\r\n\t{ label: \"Event Overview\", value: \"overview\" },\r\n\t{ label: \"Last Known Locations\", value: \"locations\" },\r\n\t{ label: \"Evacuation\", value: \"evacuation\" },\r\n\t{ label: \"Attachments\", value: \"attachments\" },\r\n]\r\n\r\nconst ViewEvent: React.FC<EventFormProps> = (p: EventFormProps) => {\r\n\tconst { savedEvent } = p\r\n\tconst eventData: EventFormData = savedEvent ?? { eventId: \"\", eventTitle: \"\", managementTypeCode: \"\", eventTypeId: \"\" }\r\n\r\n\tconst [selectedTab, setSelectedTab] = useState<EventFormSections | undefined>(\"overview\")\r\n\tconst inOverview = selectedTab === \"overview\",\r\n\t\tinLkl = selectedTab === \"locations\",\r\n\t\tinEvacuation = selectedTab === \"evacuation\",\r\n\t\tinAttachments = selectedTab === \"attachments\"\r\n\r\n\tconst isActive = !!eventData.activeIndicator\r\n\r\n\treturn (\r\n\t\t<Flex minH=\"100vh\">\r\n\t\t\t<Box as=\"main\" w=\"full\" lineHeight=\"1.5\">\r\n\t\t\t\t<SEO title=\"View Event\" />\r\n\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tas=\"section\"\r\n\t\t\t\t\tid=\"pageSection\"\r\n\t\t\t\t\tgridColumn=\"1 / -1\"\r\n\t\t\t\t\tgridGap={{ base: \"16px\", md: \"24px\" }}\r\n\t\t\t\t\tgridTemplateColumns={[\r\n\t\t\t\t\t\t\"repeat(4, 1fr)\",\r\n\t\t\t\t\t\t\"repeat(4, 1fr)\",\r\n\t\t\t\t\t\t\"repeat(4, 1fr)\",\r\n\t\t\t\t\t\t\"repeat(8, 1fr)\",\r\n\t\t\t\t\t\t\"repeat(12, 1fr)\",\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tbg=\"white\"\r\n\t\t\t\t\tmaxW={{ xl: \"1280px\" }}\r\n\t\t\t\t\tm={{ xl: \"auto\" }}\r\n\t\t\t\t\tpaddingX={{ base: \"16\", md: \"24\" }}\r\n\t\t\t\t\tpaddingTop={{ base: \"16\", md: \"24\" }}\r\n\t\t\t\t\tpaddingBottom={{ base: \"64\", md: \"96\" }}>\r\n\t\t\t\t\t<Box gridColumn=\"1 / -1\">\r\n\t\t\t\t\t\t<Flex align=\"center\" justifyContent=\"space-between\">\r\n\t\t\t\t\t\t\t<Box wordBreak=\"break-word\" marginRight=\"16\">\r\n\t\t\t\t\t\t\t\t<H1>{eventData.eventTitle}</H1>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\t\tflexShrink={0}\r\n\t\t\t\t\t\t\t\tjustifySelf=\"end\"\r\n\t\t\t\t\t\t\t\talignSelf=\"center\"\r\n\t\t\t\t\t\t\t\twidth={{ base: \"74px\", sm: \"93px\" }}\r\n\t\t\t\t\t\t\t\tfontFamily=\"default\"\r\n\t\t\t\t\t\t\t\tfontSize=\"finePrint\"\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\t\t\t\trounded=\"chip\"\r\n\t\t\t\t\t\t\t\tbackgroundColor={isActive ? \"success\" : \"disabledBackground\"}\r\n\t\t\t\t\t\t\t\theight=\"32px\"\r\n\t\t\t\t\t\t\t\tcolor={isActive ? \"white\" : \"disabledButtonText\"}\r\n\t\t\t\t\t\t\t\tborder={isActive ? \"none\" : \"px\"}\r\n\t\t\t\t\t\t\t\tborderColor=\"disabledBorder\"\r\n\t\t\t\t\t\t\t\tpaddingY={0}>\r\n\t\t\t\t\t\t\t\t{isActive ? \"Active\" : \"Inactive\"}\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t<Box marginTop=\"12\" display={{ md: \"none\" }}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tid=\"eventTab\"\r\n\t\t\t\t\t\t\t\tname=\"eventTab\"\r\n\t\t\t\t\t\t\t\taria-label=\"Event Tab\"\r\n\t\t\t\t\t\t\t\toptions={eventTabs}\r\n\t\t\t\t\t\t\t\tsize=\"full\"\r\n\t\t\t\t\t\t\t\tonChange={changes => {\r\n\t\t\t\t\t\t\t\t\tsetSelectedTab(changes.selectedItem?.value as EventFormSections)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalue={selectedTab}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box marginTop=\"12\" display={{ base: \"none\", md: \"block\" }}>\r\n\t\t\t\t\t\t\t<TabButton\r\n\t\t\t\t\t\t\t\tisActive={inOverview}\r\n\t\t\t\t\t\t\t\tonClick={() => setSelectedTab(\"overview\")}\r\n\t\t\t\t\t\t\t\tmarginRight={{ base: \"48\", xl: \"72\" }}>\r\n\t\t\t\t\t\t\t\tEvent Overview\r\n\t\t\t\t\t\t\t</TabButton>\r\n\t\t\t\t\t\t\t<TabButton\r\n\t\t\t\t\t\t\t\tisActive={inLkl}\r\n\t\t\t\t\t\t\t\tonClick={() => setSelectedTab(\"locations\")}\r\n\t\t\t\t\t\t\t\tmarginRight={{ base: \"48\", xl: \"72\" }}>\r\n\t\t\t\t\t\t\t\tLast Known Locations\r\n\t\t\t\t\t\t\t</TabButton>\r\n\t\t\t\t\t\t\t<TabButton\r\n\t\t\t\t\t\t\t\tisActive={inEvacuation}\r\n\t\t\t\t\t\t\t\tonClick={() => setSelectedTab(\"evacuation\")}\r\n\t\t\t\t\t\t\t\tmarginRight={{ base: \"48\", xl: \"72\" }}>\r\n\t\t\t\t\t\t\t\tEvacuation\r\n\t\t\t\t\t\t\t</TabButton>\r\n\t\t\t\t\t\t\t<TabButton\r\n\t\t\t\t\t\t\t\tisActive={inAttachments}\r\n\t\t\t\t\t\t\t\tonClick={() => setSelectedTab(\"attachments\")}\r\n\t\t\t\t\t\t\t\tmarginRight={{ base: \"48\", xl: \"72\" }}>\r\n\t\t\t\t\t\t\t\tAttachments\r\n\t\t\t\t\t\t\t</TabButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box gridColumn=\"1 / -1\" marginTop={{ base: \"16\", md: \"-3px\" }} marginBottom=\"16\">\r\n\t\t\t\t\t\t\t<Divider borderColor=\"disabledDark\" marginY=\"2\" marginX={0} opacity={1} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{inLkl ? (\r\n\t\t\t\t\t\t\t<LastKnownLocationTab eventData={eventData} />\r\n\t\t\t\t\t\t) : inEvacuation ? (\r\n\t\t\t\t\t\t\t<EvacDetailsTab eventData={eventData} />\r\n\t\t\t\t\t\t) : inAttachments ? (\r\n\t\t\t\t\t\t\t<AttachmentsTab eventData={eventData} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<OverviewTab eventData={eventData} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Flex>\r\n\t)\r\n}\r\n\r\ntype TabButtonProps = {\r\n\tonClick?: React.MouseEventHandler<HTMLButtonElement>\r\n\t/**\r\n\t * Indicates if tab is currently active\r\n\t */\r\n\tisActive?: boolean\r\n} & BoxProps\r\n\r\nconst TabButton: React.FC<TabButtonProps> = p => {\r\n\tconst { onClick, isActive, children, ...boxProps } = p\r\n\tconst theme = useTheme()\r\n\treturn (\r\n\t\t<PseudoBox\r\n\t\t\t{...boxProps}\r\n\t\t\tas=\"button\"\r\n\t\t\tdisplay=\"inline-flex\"\r\n\t\t\talignItems=\"flex-end\"\r\n\t\t\ttextAlign=\"center\"\r\n\t\t\tborder=\"none\"\r\n\t\t\tborderRadius={0}\r\n\t\t\tbackground=\"none\"\r\n\t\t\tp={0}\r\n\t\t\tfontFamily=\"body\"\r\n\t\t\tfontSize=\"base\"\r\n\t\t\tfontWeight=\"h4\"\r\n\t\t\tcolor=\"primary\"\r\n\t\t\tborderBottom=\"3\"\r\n\t\t\tborderColor={isActive ? \"accent\" : \"transparent\"}\r\n\t\t\tcursor=\"pointer\"\r\n\t\t\t_focus={{\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\toutline: `2px solid ${theme.colors.primary}`,\r\n\t\t\t}}\r\n\t\t\t_hover={{\r\n\t\t\t\toutline: \"none\",\r\n\t\t\t\tborderColor: !isActive ? \"clickable\" : undefined,\r\n\t\t\t\tcolor: !isActive ? \"clickable\" : undefined,\r\n\t\t\t}}\r\n\t\t\tonClick={onClick}>\r\n\t\t\t<Box flex=\"1 1 0\" lineHeight=\"linkButton\">\r\n\t\t\t\t{children}\r\n\t\t\t</Box>\r\n\t\t</PseudoBox>\r\n\t)\r\n}\r\n\r\nexport default ViewEvent\r\n","import React from \"react\"\r\nimport moment from \"moment\"\r\nimport { getSavedForm } from \"../components/Utility/formHelpers\"\r\nimport { CTFFormProvider, CTFFormProviderProps } from \"../components/Forms/Form\"\r\nimport EventForm from \"../components/Forms/EventForm\"\r\nimport ViewEvent from \"../components/ViewEvent\"\r\n\r\nexport interface EventPageState {\r\n\teventId: string\r\n\tisEdit?: boolean\r\n\tformSection?: CTFFormProviderProps[\"formSection\"]\r\n}\r\n\r\ntype EventPageProps = {\r\n\teventId: string\r\n\tlocation: {\r\n\t\tstate: EventPageState\r\n\t}\r\n}\r\n\r\nconst EventPage: React.FC<EventPageProps> = (p: EventPageProps) => {\r\n\tlet savedEvent: EventFormData | undefined\r\n\tif (p.location?.state?.eventId) {\r\n\t\tconst savedEvents = getSavedForm<Array<EventFormData>>(\"ctfForms\", \"events\")\r\n\t\tsavedEvent = savedEvents && savedEvents.find((event: EventFormData) => event.eventId === p.location?.state?.eventId)\r\n\t\tif (savedEvent) {\r\n\t\t\tif (savedEvent.evacDepAuthDate) savedEvent.evacDepAuthDate = moment(savedEvent.evacDepAuthDate).toDate()\r\n\t\t\tif (savedEvent.evacDepOrdDate) savedEvent.evacDepOrdDate = moment(savedEvent.evacDepOrdDate).toDate()\r\n\t\t\tif (savedEvent.eventStartDate) savedEvent.eventStartDate = moment(savedEvent.eventStartDate).toDate()\r\n\t\t\tif (savedEvent.eventEndDate) savedEvent.eventEndDate = moment(savedEvent.eventEndDate).toDate()\r\n\t\t\tif (savedEvent.lastUpdatedDateTime) savedEvent.lastUpdatedDateTime = moment(savedEvent.lastUpdatedDateTime).toDate()\r\n\t\t}\r\n\t}\r\n\r\n\tconst formMode: CTFFormProviderProps[\"formMode\"] =\r\n\t\ttypeof savedEvent === \"undefined\" ? \"create\" : !p.location.state.isEdit ? \"view\" : \"edit\"\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{formMode === \"view\" ? (\r\n\t\t\t\t<ViewEvent savedEvent={savedEvent} />\r\n\t\t\t) : (\r\n\t\t\t\t<CTFFormProvider formMode={formMode} formSection={p.location.state?.formSection}>\r\n\t\t\t\t\t<EventForm savedEvent={savedEvent} />\r\n\t\t\t\t</CTFFormProvider>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default EventPage\r\n"],"sourceRoot":""}