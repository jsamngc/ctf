(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0RaA":function(e,a,t){"use strict";t("91GP");var n=t("q1tI"),l=t.n(n),r=t("BMxC"),o=t("XZ7F"),i=t("Weur"),c=t("sK1y"),m=t("KEox"),s=t("+Cyc"),u=t("ggNy"),d=t("7ncI"),v=t("wfq5"),E=t("N2AM"),p=t("LYUY"),b=Object(p.a)(l.a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}),"ExpandLessSharp"),f=Object(p.a)(l.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreSharp"),g=Object(p.a)(l.a.createElement(l.a.Fragment,null,l.a.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})),"LocationOnSharp"),h=Object(p.a)(l.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonSharp"),D=Object(p.a)(l.a.createElement("path",{d:"M22 4H2v16h20V4zm-2 4l-8 5-8-5V6l8 5 8-5v2z"}),"EmailSharp"),C=Object(p.a)(l.a.createElement("path",{d:"M21 15.46l-5.27-.61-2.52 2.52c-2.83-1.44-5.15-3.75-6.59-6.59l2.53-2.53L8.54 3H3.03C2.45 13.18 10.82 21.55 21 20.97v-5.51z"}),"PhoneSharp"),y=t("ZMKu"),x=y.b.custom(r.a);a.a=function(e){var a=e.lklData,t=Object(n.useState)(!0),p=t[0],S=t[1],O=Object(n.useState)(!1),w=O[0],j=O[1],k=Object(n.useState)(1),T=k[0],I=k[1],L=Object(o.a)(),A=L.isOpen,M=L.onOpen,R=L.onClose,z=Object(n.useState)(200),B=z[0],F=(z[1],{mr:4,alignSelf:"center",size:"iconPoc",color:"label"}),P={display:"inline-block",py:4,fontWeight:600,fontSize:16,color:"headingLarge"},N=[{label:"Edit Location",value:"Edit",onClick:function(){}},{label:"Remove Location",value:"Delete Location",type:"error",onClick:function(){M()}}],Y=a.lookupLklDto,q=Y.lklTitle,U=Y.locationDesc,G=Y.lklAddressDto,V=Y.lklPocListDto,W=G.addressDto,H=W.address1,Z=W.address2,K=W.city,X=W.postalCode,_=W.countryCd,J=H+" "+Z+", "+K+", "+X+", "+_,$=[];return V.map((function(e){var a={fullName:"",phone:"",email:""},t=e.personDto,n=t.givenName,l=t.surName,r=t.personEmailDtoList,o=t.personPhoneDtoList;a.fullName=n+" "+l,a.phone=o[0].phoneDto.phoneNum,a.email=r[0].emailDto.emailAddress,$.push(a)})),l.a.createElement(r.a,{mb:{base:"16",md:"24"}},l.a.createElement(u.d,{id:"lklCard",maxWidth:"full"},l.a.createElement(i.a,{w:"full",mt:{base:"-8px",sm:"-16px"}},l.a.createElement(i.a,{flexDir:{base:"column",xl:"row"},flexGrow:1},l.a.createElement(r.a,{flexBasis:{xl:"65%"}},l.a.createElement(u.w,null,q)),l.a.createElement(r.a,{mb:4,flexBasis:{xl:"35%"}},l.a.createElement(u.i,{color:"label"},"U.S. Embassy in ",K,", ",_))),l.a.createElement(r.a,{position:"relative",right:{base:"-12px",sm:"-20px",md:"-12px"}},l.a.createElement(d.a,{options:N,borderedRows:!0,width:"10rem",label:"Additional actions for "+q},l.a.createElement(r.a,{as:E.a,color:"clickable"}))),l.a.createElement(v.a,{isOpen:A,onCancel:R,onConfirm:function(){R()}})),l.a.createElement(i.a,{mt:8,mb:-12},l.a.createElement(r.a,{display:"inline-flex",cursor:"pointer",onClick:function(){j(!w)},color:"clickable"},l.a.createElement(c.a,{my:0,fontSize:16},"Details"),w?l.a.createElement(b,null):l.a.createElement(f,null))),w?l.a.createElement(r.a,{position:"relative",h:B,overflow:"hidden"},l.a.createElement(m.a,{borderColor:"silver",my:16}),l.a.createElement(r.a,{display:{xl:"none"}},l.a.createElement(i.a,{mb:16},l.a.createElement(s.a,Object.assign({},P,{borderWidth:0,borderBottom:p?3:0,borderBottomColor:"accent",borderStyle:"solid",color:"headingSmall",_hover:p?{}:{color:"clickable",borderBottomColor:"clickable",borderBottom:"3px",borderStyle:"solid"},onClick:function(){I(-1),S(!0)},mr:8}),l.a.createElement(c.a,{fontFamily:"headingSmall",margin:0,fontSize:"h4",fontWeight:"h4",lineHeight:"h4"},"Location")),l.a.createElement(r.a,{mx:8}),l.a.createElement(s.a,Object.assign({},P,{borderWidth:0,borderBottom:p?0:3,borderBottomColor:"accent",borderStyle:"solid",color:"headingSmall",_hover:p?{color:"clickable",borderBottomColor:"clickable",borderBottom:"3px",borderStyle:"solid"}:{},onClick:function(){I(1),S(!1)}}),l.a.createElement(c.a,{fontFamily:"headingSmall",margin:0,fontSize:"h4",fontWeight:"h4",lineHeight:"h4"},"Point of Contact"))),l.a.createElement(y.a,{custom:T,initial:!1},l.a.createElement(x,{position:"absolute",key:T,initial:{transform:"translateX("+(T<0?"-100%":"100%")+")"},transition:{type:"tween",duration:.5,ease:"easeInOut"},animate:{transform:"translateX(0%)"},exit:function(e){return{transform:"translateX("+(e<0?"100%":"-100%")+")"}},width:"100%"},p?l.a.createElement(r.a,null,l.a.createElement(i.a,{mb:12},l.a.createElement(r.a,Object.assign({as:g},F)),l.a.createElement(u.i,null,J)),l.a.createElement(r.a,{py:4},l.a.createElement(u.i,{color:"label"},"Description")),l.a.createElement(r.a,null,l.a.createElement(u.i,null,U))):l.a.createElement(r.a,null,$.map((function(e,a){return l.a.createElement(i.a,{key:a,flexDir:{base:"column",md:"row"},border:1,borderStyle:"solid",borderColor:"silver",px:8,justifyContent:"space-around"},l.a.createElement(i.a,{py:4},l.a.createElement(r.a,Object.assign({as:h},F)),l.a.createElement(u.i,null,e.fullName)),l.a.createElement(i.a,{py:4},l.a.createElement(r.a,Object.assign({as:D},F)),l.a.createElement(u.i,null,e.email)),l.a.createElement(i.a,{py:4},l.a.createElement(r.a,Object.assign({as:C},F)),l.a.createElement(u.i,null,e.phone)))})))))),l.a.createElement(i.a,{display:{base:"none",xl:"flex"}},l.a.createElement(r.a,{flexBasis:{xl:"63%"}},l.a.createElement(r.a,{pb:16},l.a.createElement(u.n,null,"Location")),l.a.createElement(i.a,{mb:12},l.a.createElement(r.a,Object.assign({as:g},F)),l.a.createElement(u.i,null,J)),l.a.createElement(r.a,{py:4},l.a.createElement(u.i,{color:"label"},"Description")),l.a.createElement(r.a,null,l.a.createElement(u.i,null,U))),l.a.createElement(m.a,{orientation:"vertical",flexBasis:{xl:"2%"},color:"silver"}),l.a.createElement(r.a,{flexBasis:{xl:"35%"}},l.a.createElement(r.a,{pb:16},l.a.createElement(u.n,null,"Point of Contact")),$.map((function(e,a){return l.a.createElement(i.a,{key:a,flexDir:"column",border:1,borderStyle:"solid",borderColor:"silver",px:8,justifyContent:"space-around",flexWrap:"wrap"},l.a.createElement(i.a,{py:4},l.a.createElement(r.a,Object.assign({as:h},F)),l.a.createElement(u.i,null,e.fullName)),l.a.createElement(i.a,{py:4},l.a.createElement(r.a,Object.assign({as:D},F)),l.a.createElement(u.i,null,e.email)),l.a.createElement(i.a,{py:4},l.a.createElement(r.a,Object.assign({as:C},F)),l.a.createElement(u.i,null,e.phone)))}))))):null))}},E2cU:function(e,a,t){"use strict";var n=t("q1tI"),l=t.n(n),r=t("LYUY");a.a=Object(r.a)(l.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddSharp")},RV9o:function(e){e.exports=JSON.parse('[{"label":"Crisis","value":"Crisis"},{"label":"General","value":"General"},{"label":"Monitoring","value":"Monitoring"}]')},nB9M:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return r}));t("91GP");var n=t("q1tI"),l=function(e,a,t){var n;if("undefined"!=typeof window){var l=window.sessionStorage.getItem(e),r=l&&JSON.parse(l);n=r&&a?r[a]:r}return n||t},r=function(e,a){var t=Object(n.useState)((function(){var a,t;if("undefined"!=typeof window){var n=window.sessionStorage.getItem(e);t=n&&JSON.parse(n)}return null!==(a=t)&&void 0!==a?a:{}})),l=t[0],r=t[1];Object(n.useEffect)((function(){window.sessionStorage.setItem(e,JSON.stringify(l))}),[l,e]),Object(n.useEffect)((function(){var a=function(){return window.sessionStorage.removeItem(e)};return window.addEventListener("beforeunload",a),function(){window.removeEventListener("beforeunload",a)}}),[e]);return[a?l[a]:l,function(e){r(a?function(t){var n;return Object.assign({},t,((n={})[a]=e,n))}:e)}]}},o0pm:function(e){e.exports=JSON.parse('[{"label":"","value":"NONE"},{"label":"Authorized","value":"ADEP"},{"label":"Ordered","value":"ODEP"}]')},rZ4P:function(e){e.exports=JSON.parse('[{"label":"Monitoring Group","value":"mg"},{"label":"Working Group","value":"wg"},{"label":"Task Force","value":"tf"}]')},xZ9P:function(e,a,t){"use strict";t.r(a);t("dRSK");var n=t("q1tI"),l=t.n(n),r=t("wd/R"),o=t.n(r),i=t("nB9M"),c=t("GUiF"),m=(t("91GP"),t("INYr"),t("Wbzz")),s=t("XZ7F"),u=t("Weur"),d=t("BMxC"),v=t("ggNy"),E=function(e){return l.a.createElement(v.r,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"sm"},l.a.createElement(v.v,null,l.a.createElement(v.n,null,"Leave Page?")),l.a.createElement(v.t,null),l.a.createElement(v.s,null,l.a.createElement(v.w,null,"Do you want to leave this page and lose unsaved data?")),l.a.createElement(v.u,null,l.a.createElement(u.a,{align:"center"},l.a.createElement(d.a,{marginRight:"20"},l.a.createElement(v.q,{onClick:e.onLeave},"Leave")),l.a.createElement(v.b,{size:"sm",onClick:e.onClose},"Stay"))))},p=t("wx14"),b=t("Ff2n"),f=t("iuhU"),g=t("H2TA"),h=t("NqtD");function D(e){var a,t,n;return a=e,t=0,n=1,e=(Math.min(Math.max(t,a),n)-t)/(n-t),e=(e-=1)*e*e+1}var C=n.forwardRef((function(e,a){var t,l=e.classes,r=e.className,o=e.color,i=void 0===o?"primary":o,c=e.disableShrink,m=void 0!==c&&c,s=e.size,u=void 0===s?40:s,d=e.style,v=e.thickness,E=void 0===v?3.6:v,g=e.value,C=void 0===g?0:g,y=e.variant,x=void 0===y?"indeterminate":y,S=Object(b.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),O={},w={},j={};if("determinate"===x||"static"===x){var k=2*Math.PI*((44-E)/2);O.strokeDasharray=k.toFixed(3),j["aria-valuenow"]=Math.round(C),"static"===x?(O.strokeDashoffset="".concat(((100-C)/100*k).toFixed(3),"px"),w.transform="rotate(-90deg)"):(O.strokeDashoffset="".concat((t=(100-C)/100,t*t*k).toFixed(3),"px"),w.transform="rotate(".concat((270*D(C/70)).toFixed(3),"deg)"))}return n.createElement("div",Object(p.a)({className:Object(f.a)(l.root,r,"inherit"!==i&&l["color".concat(Object(h.a)(i))],{indeterminate:l.indeterminate,static:l.static}[x]),style:Object(p.a)({width:u,height:u},w,d),ref:a,role:"progressbar"},j,S),n.createElement("svg",{className:l.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},n.createElement("circle",{className:Object(f.a)(l.circle,m&&l.circleDisableShrink,{indeterminate:l.circleIndeterminate,static:l.circleStatic}[x]),style:O,cx:44,cy:44,r:(44-E)/2,fill:"none",strokeWidth:E})))})),y=Object(g.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(C),x=function(){return l.a.createElement(d.a,{color:"clickable"},l.a.createElement(y,{color:"inherit",size:48,thickness:7.5}))},S=function(e){var a=e.isOpen,t=e.onClose,n=e.message,r=void 0===n?"Saving your information":n;return l.a.createElement(v.r,{isOpen:a,onClose:t,isCentered:!0,size:"sm"},l.a.createElement(v.v,null,l.a.createElement(v.n,null,"Please Wait...")),l.a.createElement(v.s,null,l.a.createElement(u.a,{align:"center"},l.a.createElement(d.a,{color:"clickable"},l.a.createElement(x,null)),l.a.createElement(d.a,{pl:"24"},l.a.createElement(v.w,null,r)))))},O=t("NKCw"),w=t("soUV"),j=(t("pIFo"),t("69N/")),k=t("o0pm"),T=function(){var e,a,t=Object(O.d)(),r=t.formState,o=t.errors,i=t.setValue,m=t.getValues,s=Object(n.useRef)(null),u=Object(n.useRef)(null),E=Object(n.useRef)(null),p=Object(n.useRef)(null),b=Object(O.e)({name:"evacStatusCode"}),f=Object(c.e)(),g=f.isCreate,h=f.isView,D=r.dirtyFields;return l.a.createElement(c.c,{title:"Evacuation Details"},l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 3"}},l.a.createElement(v.j,{labelText:"Evacuation Status",labelId:"evacStatusCodeLabel"},l.a.createElement(O.a,{name:"evacStatusCode",onFocus:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,n=e.onBlur,r=e.value;return l.a.createElement(v.x,{ref:s,id:"evacStatusCode",name:"evacStatusCode","aria-labelledby":"evacStatusCodeLabel",options:k,size:"full",placeholder:"",disabled:h,validationState:(null==o?void 0:o.evacStatusCode)?v.C.ERROR:void 0,errorMessage:null==o||null===(a=o.evacStatusCode)||void 0===a?void 0:a.message,onChange:function(e){var a,n=null===(a=e.selectedItem)||void 0===a?void 0:a.value;t(n),"ADEP"!==n||m("evacDepAuthDate")?"ODEP"!==n||m("evacDepOrdDate")?"NONE"===n&&(g&&!D.evacDepOrdDate&&i("evacDepOrdDate",""),g&&!D.evacDepAuthDate&&i("evacDepAuthDate","")):(i("evacDepOrdDate",new Date),g&&!D.evacDepAuthDate&&i("evacDepAuthDate","")):(i("evacDepAuthDate",new Date),g&&!D.evacDepOrdDate&&i("evacDepOrdDate",""))},onBlur:n,value:r})}}))),l.a.createElement(j.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 9"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(2,max-content)"}},l.a.createElement(v.j,{labelText:"Departure Authorized",labelId:"evacDepAuthDateLabel"},l.a.createElement(O.a,{as:l.a.createElement(v.g,null),id:"evacDepAuthDate",name:"evacDepAuthDate",inputRef:u,onFocus:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()},disabled:h||!b||"ADEP"!==b,maxDate:new Date(2100,0,1),error:void 0!==(null==o?void 0:o.evacDepAuthDate),errorMessage:null==o||null===(e=o.evacDepAuthDate)||void 0===e?void 0:e.message})),l.a.createElement(v.j,{labelText:"Departure Ordered",labelId:"orderedDateLabel"},l.a.createElement(O.a,{as:l.a.createElement(v.g,null),id:"evacDepOrdDate",name:"evacDepOrdDate",inputRef:E,onFocus:function(){var e;return null===(e=E.current)||void 0===e?void 0:e.focus()},disabled:h||!b||"ODEP"!==b,maxDate:new Date(2100,0,1),error:void 0!==(null==o?void 0:o.evacDepOrdDate),errorMessage:null==o||null===(a=o.evacDepOrdDate)||void 0===a?void 0:a.message}))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},l.a.createElement(v.j,{labelText:"Evacuation Summary",labelId:"evacSummaryLabel"},l.a.createElement(O.a,{name:"evacSummary",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Evacuation Summary field"},maxLength:{value:4e3,message:"Evacuation Summary cannot exceed 4000 characters"}},onFocus:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,n=e.onBlur,r=e.value;return l.a.createElement(v.B,{ref:p,id:"evacSummary",name:"evacSummary","aria-labelledby":"evacSummaryLabel",size:"full",maxLength:4e3,disabled:h,validationState:(null==o?void 0:o.evacSummary)?v.C.ERROR:void 0,errorMessage:null==o||null===(a=o.evacSummary)||void 0===a?void 0:a.message,onChange:function(e){e.target.value=Object(c.d)(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),t(e)},onBlur:n,value:r})}}))))},I=t("/Tr7"),L=t("jIYg");var A=t("rZ4P"),M=t("RV9o"),R=t("wfq5"),z=function(){var e,a,t,r=Object(s.a)(),o=r.isOpen,i=r.onOpen,m=r.onClose,u=Object(O.d)(),E=u.register,p=u.errors,b=u.setValue,f=Object(n.useRef)(null),g=Object(n.useRef)(null),h=Object(n.useRef)(null),D=Object(n.useRef)(null),C=Object(n.useRef)(null),y=Object(O.e)({name:"activeIndicator"}),x=Object(O.e)({name:"eventStartDate"}),S=Object(c.e)(),w=S.isView,k=S.isCreate;return l.a.createElement(c.c,{title:"Event Details",showDivider:k},l.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},l.a.createElement(v.j,{labelText:"Event Title",labelId:"eventTitleLabel",required:!0},l.a.createElement(v.A,{ref:E({required:"Please enter an Event Title",maxLength:{value:25,message:"Event Title cannot exceed 25 characters"}}),name:"eventTitle",id:"eventTitle",size:"full",disabled:w,maxLength:25,validationState:(null==p?void 0:p.eventTitle)?v.C.ERROR:void 0,errorMessage:null==p||null===(e=p.eventTitle)||void 0===e?void 0:e.message,onChange:function(e){e.target.value=e.target.value.replace(/^[^A-Za-z0-9]+/,"")}}))),l.a.createElement(j.a,{gridColumn:{base:"1 / -1"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(3,max-content)"}},l.a.createElement(v.j,{labelText:"Start Date",labelId:"eventStartDateLabel",required:!0},l.a.createElement(O.a,{as:l.a.createElement(v.g,null),id:"eventStartDate",name:"eventStartDate",rules:{required:"Please enter a Start Date"},inputRef:f,onFocus:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.focus()},maxDate:new Date,disabled:w,error:void 0!==(null==p?void 0:p.eventStartDate),errorMessage:null==p||null===(a=p.eventStartDate)||void 0===a?void 0:a.message})),l.a.createElement(v.j,{labelText:"End Date",labelId:"eventEndDateLabel"},l.a.createElement(O.a,{as:l.a.createElement(v.g,null),id:"eventEndDate",name:"eventEndDate",rules:{validate:{afterStartDate:function(e){return!!y||function(e,a){Object(L.a)(2,arguments);var t=Object(I.default)(e),n=Object(I.default)(a),l=t.getTime()-n.getTime();return l<0?-1:l>0?1:l}(e,x)>-1||"End Date must be equal to or later than Start Date"}}},inputRef:g,onFocus:function(){var e;return null===(e=g.current)||void 0===e?void 0:e.focus()},minDate:x||void 0,maxDate:new Date(2100,0,1),disabled:w,error:void 0!==(null==p?void 0:p.eventEndDate),errorMessage:null==p||null===(t=p.eventEndDate)||void 0===t?void 0:t.message})),l.a.createElement(v.j,{labelText:"Active",labelId:"activeIndicatorLabel"},l.a.createElement(v.z,{ref:E(),name:"activeIndicator",id:"activeIndicator",value:"Active",disabled:w,onChange:function(e){e.target.checked?b("eventEndDate",void 0):(b("activeIndicator",!0),i())}}))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 4"}},l.a.createElement(v.j,{labelText:"Management Type",labelId:"managementTypeCodeLabel",required:!0},l.a.createElement(O.a,{name:"managementTypeCode",rules:{required:"Please select a Management Type"},onFocus:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,n=e.onBlur,r=e.value;return l.a.createElement(v.x,{ref:h,id:"managementTypeCode",name:"managementTypeCode","aria-labelledby":"managementTypeCodeLabel",options:A,size:"full",disabled:w,validationState:(null==p?void 0:p.managementTypeCode)?v.C.ERROR:void 0,errorMessage:null==p||null===(a=p.managementTypeCode)||void 0===a?void 0:a.message,onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},onBlur:n,value:r})}}))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 4"}},l.a.createElement(v.j,{labelText:"Event Type",labelId:"eventTypeIdLabel",required:!0},l.a.createElement(O.a,{name:"eventTypeId",rules:{required:"Please select an Event Type"},onFocus:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,n=e.onBlur,r=e.value;return l.a.createElement(v.x,{ref:D,id:"eventTypeId",name:"eventTypeId","aria-labelledby":"eventTypeIdLabel",options:M,size:"full",disabled:w,validationState:(null==p?void 0:p.eventTypeId)?v.C.ERROR:void 0,errorMessage:null==p||null===(a=p.eventTypeId)||void 0===a?void 0:a.message,onChange:function(e){var a;t(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},onBlur:n,value:r})}}))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},l.a.createElement(v.j,{labelText:"Event Summary",labelId:"eventSummaryLabel"},l.a.createElement(O.a,{name:"eventSummary",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Event Summary field"},maxLength:{value:4e3,message:"Event Summary cannot exceed 4000 characters"}},onFocus:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.focus()},render:function(e){var a,t=e.onChange,n=e.onBlur,r=e.value;return l.a.createElement(v.B,{ref:C,id:"eventSummary",name:"eventSummary","aria-labelledby":"eventSummaryLabel",size:"full",maxLength:4e3,disabled:w,validationState:(null==p?void 0:p.eventSummary)?v.C.ERROR:void 0,errorMessage:null==p||null===(a=p.eventSummary)||void 0===a?void 0:a.message,onChange:function(e){e.target.value=Object(c.d)(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),t(e)},onBlur:n,value:r})}}))),l.a.createElement(R.a,{isOpen:o,onCancel:m,onConfirm:function(){b("activeIndicator",!1),b("eventEndDate",new Date),m()}}))},B=l.a.createElement(v.a,{status:v.y.success,title:"Save successful!",onClose:function(){return console.log("Banner closed")}}),F=function(e){var a=e.savedEvent,t=Object(c.e)(),r=t.isCreate,p=t.isEdit,b=t.formSection,f=Object(s.a)(),g=f.isOpen,h=f.onOpen,D=f.onClose,C=Object(s.a)(),y=C.isOpen,x=C.onOpen,j=C.onClose,k=Object(v.D)(B,2),I=Object(i.b)("ctfForms","events")[1],L={eventId:"OCS"+o()(new Date).format("YYYYDDD")+Math.floor(Math.random()*Math.floor(1e6)),eventTitle:"",eventStartDate:new Date,activeIndicator:!0,managementTypeCode:"mg",eventTypeId:"General",eventSummary:"",evacStatusCode:"NONE",evacSummary:"",lastUpdatedDateTime:new Date},A=Object(O.c)({mode:"onBlur",defaultValues:null!=a?a:L}),M=A.register,R=A.handleSubmit,F=A.getValues,P=Object(n.useCallback)((function(e,a){void 0===a&&(a=!1),e.lastUpdatedDateTime=new Date;var t=Object(i.a)("ctfForms","events",[]);if(p){var n=t.findIndex((function(a){return a.eventId===e.eventId})),l=Object.assign({},t[n],e);t.splice(n,1,l)}else t.push(e);I(t),x(),setTimeout((function(){if(a)j();else{var e={eventId:F("eventId")};Object(m.a)("/event",{state:e}),j()}k()}),2e3)}),[I,p,x,j,k,F]);return l.a.createElement(w.a,{pageTitle:"Event Details",pageHeading:p?""+(null==a?void 0:a.eventTitle):"Create New Event",pageDescription:p?"":"Enter the basic information related to the developing crisis. You can add more details later as the event unfolds."}," ",l.a.createElement(O.b,A,l.a.createElement(c.b,{name:"eventForm",id:"eventForm",onSubmit:R((function(e){P(e,!1)})),noValidate:!0},l.a.createElement("input",{name:"eventId",type:"hidden",ref:M}),(r||p&&"overview"===b)&&l.a.createElement(z,null),(r||p&&"evacuation"===b)&&l.a.createElement(T,null),l.a.createElement(u.a,{as:"nav","aria-label":"page",id:"pageNav",gridColumn:"1 / -1",align:"center",justify:{base:"flex-end",md:"flex-start"},marginTop:{md:"72"}},l.a.createElement(d.a,{marginRight:"20"},l.a.createElement(v.q,{type:"button",onClick:h},"Cancel")),l.a.createElement(v.b,{type:"submit",size:p?"sm":"md"},p?"Save":"Create Event")),l.a.createElement(E,{isOpen:g,onClose:D,onLeave:function(){if(r)Object(m.a)("/");else{var e={eventId:F("eventId")};Object(m.a)("/event",{state:e})}}}),l.a.createElement(S,{isOpen:y,onClose:j,message:r?"Creating crisis event.":"Saving crisis information."}))))},P=(t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("KEox")),N=t("CjxU"),Y=t("+Cyc"),q=t("H8eV"),U=t("sK1y"),G=t("LYUY"),V=Object(G.a)(l.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75 2.53-2.54z"}),"EditSharp"),W=function(e){var a,t,n,r=e.eventData,o=null===(a=M.find((function(e){return e.value===r.eventTypeId})))||void 0===a?void 0:a.label,i=null===(t=A.find((function(e){return e.value===r.managementTypeCode})))||void 0===t?void 0:t.label,c=null===(n=k.find((function(e){return e.value===r.evacStatusCode})))||void 0===n?void 0:n.label;return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},l.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},l.a.createElement(d.a,null,l.a.createElement(v.m,null,"Event Details")),l.a.createElement(d.a,null,l.a.createElement(v.q,{buttonIcon:{mdIcon:V,alignment:v.o.LEFT,color:"clickable"},onClick:function(){var e={eventId:r.eventId,isEdit:!0,formSection:"overview"};Object(m.a)("/event",{state:e})}}," Edit"))),l.a.createElement(d.a,{gridColumn:{base:"span 2"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Event Type")),l.a.createElement(v.w,null,Z(o))),l.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 3"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Management Type")),l.a.createElement(v.w,null,Z(i))),l.a.createElement(d.a,{gridColumn:{base:"span 2",lg:"span 3"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Start Date")),l.a.createElement(v.w,null,Z(H(r.eventStartDate)))),l.a.createElement(d.a,{gridColumn:{base:"span 2"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"End Date")),l.a.createElement(v.w,null,Z(H(r.eventEndDate)))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 2"},justifySelf:{md:"center"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Evacuation Status")),l.a.createElement(v.w,null,Z(c))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Event Description")),l.a.createElement(v.w,null,Z(r.eventSummary)))),l.a.createElement(d.a,{gridColumn:"1 / -1",marginY:"16"},l.a.createElement(P.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})),l.a.createElement(j.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(8, 1fr)",lg:"repeat(12, 1fr)"}},l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(v.m,null,"Talking Points")),l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(v.w,null,"Default Talking Points have been added, pending new Talking Points.")),l.a.createElement(d.a,{gridColumn:{base:"1 / -1"},marginTop:{base:"24",sm:"0",md:"24"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Uploaded file")))),l.a.createElement(d.a,{gridColumn:"1 / -1",marginY:"16"},l.a.createElement(P.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})),l.a.createElement(j.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(8, 1fr)",lg:"repeat(12, 1fr)"}},l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(v.m,null,"Impacted Area")),l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(v.w,null,l.a.createElement(U.a,{color:"required",as:"span"},"* "),"Which Consular Posts are impacted by this event?")),l.a.createElement(d.a,{gridColumn:{base:"1 / -1"},marginTop:{base:"0"}},l.a.createElement(v.w,null,"See below to help identify where Consular Districts are located in each country."),l.a.createElement(d.a,{fontSize:"button"},l.a.createElement(v.p,{href:"http://fam.a.state.sbu/fam/02FAM/02FAM0460.html#M463",target:"_blank",rel:"noreferrer noopener"},"2 FAM EXHIBIT 461  CONSULAR DISTRICTS")))))},H=function(e){return e?o()(e).format("MM/DD/YYYY"):""},Z=function(e){return e||"---"},K=(t("Vd3H"),t("eJLp")),X=t("0RaA"),_=t("l1im"),J=t("E2cU"),$=v.c+" HH:mm:ss:SS ZZ",Q=function(e){var a,t,r=null!==(a=null===(t=e.eventData.eventLklDtoList)||void 0===t?void 0:t.map((function(e){return Object.assign({},e,{createdDateTime:o()(e.createdDateTime,$).toDate(),lastUpdatedDateTime:o()(e.lastUpdatedDateTime,$).toDate()})})))&&void 0!==a?a:[],i=Object(n.useState)(1),c=i[0],s=i[1],E=Object(n.useState)(10),p=E[0],b=(E[1],Object(n.useState)(!0)),f=b[0];b[1];r.sort((function(e,a){var t,n,l=null!==(t=e.lastUpdatedDateTime)&&void 0!==t?t:new Date,r=null!==(n=a.lastUpdatedDateTime)&&void 0!==n?n:new Date;return l>r?-1:l<r?1:0}));var g=r.filter((function(e){return!f||e.activeIndicator})),h=Math.ceil(g.length/p);c>h&&s(h);var D=c*p,C=D-p,y=g.length>p?Math.ceil(g.length/p):1,x=1!==y?g.slice(C,D):g;return l.a.createElement(j.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},l.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},l.a.createElement(d.a,null,l.a.createElement(v.m,null,"Last Known Locations")),l.a.createElement(d.a,{display:{base:"none",md:"block"}},l.a.createElement(v.q,{buttonIcon:{mdIcon:J.a,alignment:v.o.LEFT,color:"clickable"},onClick:function(){return Object(m.a)("/addLKL")}}," Add Location"))),l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(v.w,null,"Manage the last known locations for U.S. citizens involved in this crisis.")),l.a.createElement(d.a,{bottom:"16px",zIndex:2,right:"16px",position:"fixed",display:{md:"none"}},l.a.createElement(K.a,{borderColor:"transparent",boxShadow:"0 6px 6px 0 rgba(0, 0, 0, 0.4)",color:"white",height:"40px",width:"40px",rounded:"round",bg:"clickable",cursor:"pointer",_hover:{bg:"secondary"},onClick:function(){return Object(m.a)("/addLKL")}},l.a.createElement(d.a,{as:J.a,size:"iconMobileCreate"}))),x.map((function(e,a){return l.a.createElement(d.a,{key:a,gridColumn:"1 / -1"},l.a.createElement(X.a,{lklData:e}))})),l.a.createElement(u.a,{gridColumn:"1 / -1",justify:"space-evenly"},l.a.createElement(v.w,null,r.length," results"),l.a.createElement(_.a,{page:c,count:y,onChange:function(e,a){return s(a)},showLastButton:!0,size:"small"}),l.a.createElement("select",null,l.a.createElement("option",{value:"10"},"10"),l.a.createElement("option",{value:"20"},"20"))))},ee=function(e){var a,t=e.eventData,n=null===(a=k.find((function(e){return e.value===t.evacStatusCode})))||void 0===a?void 0:a.label;return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},l.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},l.a.createElement(d.a,null,l.a.createElement(v.m,null,"Evacuation Details")),l.a.createElement(d.a,null,l.a.createElement(v.q,{buttonIcon:{mdIcon:V,alignment:v.o.LEFT,color:"clickable"},onClick:function(){var e={eventId:t.eventId,isEdit:!0,formSection:"evacuation"};Object(m.a)("/event",{state:e})}}," Edit"))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 4"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Evacuation Status")),l.a.createElement(v.w,null,te(n))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",sm:"span 2",md:"span 4",lg:"span 3"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Departure Authorized")),l.a.createElement(v.w,null,te(ae(t.evacDepAuthDate)))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1",sm:"span 2",md:"span 4"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Departure Ordered")),l.a.createElement(v.w,null,te(ae(t.evacDepOrdDate)))),l.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Evacuation Summary")),l.a.createElement(v.w,null,te(t.evacSummary)))),l.a.createElement(d.a,{gridColumn:"1 / -1",marginY:"16"},l.a.createElement(P.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})))},ae=function(e){return e?o()(e).format("MM/DD/YYYY"):""},te=function(e){return e||"---"},ne=function(e){e.eventData;return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},l.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},l.a.createElement(d.a,null,l.a.createElement(v.m,null,"Attachments"))),l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(v.w,null,"Add additional attachments related to this event.")),l.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},l.a.createElement(d.a,{mb:4},l.a.createElement(v.i,{color:"label"},"Attachments")),l.a.createElement(v.h,{id:"attachments",maxSizeBytes:5242880,allowedFileTypes:[".jpg",".jpeg",".gif",".png",".xls",".xlsx",".doc",".docx",".txt",".rtf",".pdf"],onDrop:function(){}}))))};var le=[{label:"Event Overview",value:"overview"},{label:"Last Known Locations",value:"locations"},{label:"Evacuation",value:"evacuation"},{label:"Attachments",value:"attachments"}],re=function(e){var a=e.onClick,t=e.isActive,n=e.children,r=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,["onClick","isActive","children"]),o=Object(N.b)();return l.a.createElement(Y.a,Object.assign({},r,{as:"button",display:"inline-flex",alignItems:"flex-end",textAlign:"center",border:"none",borderRadius:0,background:"none",p:0,fontFamily:"body",fontSize:"base",fontWeight:"h4",color:"primary",borderBottom:"3",borderColor:t?"accent":"transparent",cursor:"pointer",_focus:{outline:"2px solid "+o.colors.primary},_hover:{outline:"none",borderColor:t?void 0:"clickable",color:t?void 0:"clickable"},onClick:a}),l.a.createElement(d.a,{flex:"1 1 0",lineHeight:"linkButton"},n))},oe=function(e){var a=e.savedEvent,t=null!=a?a:{eventId:"",eventTitle:"",managementTypeCode:"",eventTypeId:""},r=Object(n.useState)("overview"),o=r[0],i=r[1],c="overview"===o,m="locations"===o,s="evacuation"===o,E="attachments"===o,p=!!t.activeIndicator;return l.a.createElement(u.a,{minH:"100vh"},l.a.createElement(d.a,{as:"main",w:"full",lineHeight:"1.5"},l.a.createElement(q.a,{title:"View Event"}),l.a.createElement(j.a,{as:"section",id:"pageSection",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:["repeat(4, 1fr)","repeat(4, 1fr)","repeat(4, 1fr)","repeat(8, 1fr)","repeat(12, 1fr)"],bg:"white",maxW:{xl:"1280px"},m:{xl:"auto"},paddingX:{base:"16",md:"24"},paddingTop:{base:"16",md:"24"},paddingBottom:{base:"64",md:"96"}},l.a.createElement(d.a,{gridColumn:"1 / -1"},l.a.createElement(u.a,{align:"center",justifyContent:"space-between"},l.a.createElement(d.a,{wordBreak:"break-word",marginRight:"16"},l.a.createElement(v.k,null,t.eventTitle)),l.a.createElement(u.a,{flexShrink:0,justifySelf:"end",alignSelf:"center",width:{base:"74px",sm:"93px"},fontFamily:"default",fontSize:"finePrint",align:"center",justify:"center",rounded:"chip",backgroundColor:p?"success":"disabledBackground",height:"32px",color:p?"white":"disabledButtonText",border:p?"none":"px",borderColor:"disabledBorder",paddingY:0},p?"Active":"Inactive")),l.a.createElement(d.a,{marginTop:"12",display:{md:"none"}},l.a.createElement(v.x,{id:"eventTab",name:"eventTab","aria-label":"Event Tab",options:le,size:"full",onChange:function(e){var a;i(null===(a=e.selectedItem)||void 0===a?void 0:a.value)},value:o})),l.a.createElement(d.a,{marginTop:"12",display:{base:"none",md:"block"}},l.a.createElement(re,{isActive:c,onClick:function(){return i("overview")},marginRight:{base:"48",xl:"72"}},"Event Overview"),l.a.createElement(re,{isActive:m,onClick:function(){return i("locations")},marginRight:{base:"48",xl:"72"}},"Last Known Locations"),l.a.createElement(re,{isActive:s,onClick:function(){return i("evacuation")},marginRight:{base:"48",xl:"72"}},"Evacuation"),l.a.createElement(re,{isActive:E,onClick:function(){return i("attachments")},marginRight:{base:"48",xl:"72"}},"Attachments")),l.a.createElement(d.a,{gridColumn:"1 / -1",marginTop:{base:"16",md:"-3px"},marginBottom:"16"},l.a.createElement(P.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})),m?l.a.createElement(Q,{eventData:t}):s?l.a.createElement(ee,{eventData:t}):E?l.a.createElement(ne,{eventData:t}):l.a.createElement(W,{eventData:t})))))};a.default=function(e){var a,t,n,r;if(null===(a=e.location)||void 0===a||null===(t=a.state)||void 0===t?void 0:t.eventId){var m=Object(i.a)("ctfForms","events");(r=m&&m.find((function(a){var t,n;return a.eventId===(null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.eventId)})))&&(r.evacDepAuthDate&&(r.evacDepAuthDate=o()(r.evacDepAuthDate).toDate()),r.evacDepOrdDate&&(r.evacDepOrdDate=o()(r.evacDepOrdDate).toDate()),r.eventStartDate&&(r.eventStartDate=o()(r.eventStartDate).toDate()),r.eventEndDate&&(r.eventEndDate=o()(r.eventEndDate).toDate()),r.lastUpdatedDateTime&&(r.lastUpdatedDateTime=o()(r.lastUpdatedDateTime).toDate()))}var s=void 0===r?"create":e.location.state.isEdit?"edit":"view";return l.a.createElement(l.a.Fragment,null,"view"===s?l.a.createElement(oe,{savedEvent:r}):l.a.createElement(c.a,{formMode:s,formSection:null===(n=e.location.state)||void 0===n?void 0:n.formSection},l.a.createElement(F,{savedEvent:r})))}}}]);
//# sourceMappingURL=component---src-pages-event-tsx-19253fda27c11c6e2f9f.js.map