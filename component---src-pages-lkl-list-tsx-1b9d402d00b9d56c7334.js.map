{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/ExpandMore.js","webpack:///./node_modules/@chakra-ui/core/dist/es/Text/index.js","webpack:///./src/components/LKLCard.tsx","webpack:///./src/pages/lklList.tsx","webpack:///./node_modules/@chakra-ui/core/dist/es/Divider/index.js","webpack:///./node_modules/@material-ui/icons/Phone.js","webpack:///./node_modules/@material-ui/icons/Person.js","webpack:///./node_modules/@material-ui/icons/ExpandLess.js","webpack:///./node_modules/@material-ui/icons/LocationOn.js","webpack:///./node_modules/@material-ui/icons/Email.js"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","default","_react","_default","createElement","d","Text","forwardRef","props","ref","Box","as","fontFamily","displayName","MotionBox","motion","custom","LKLCard","lklData","useState","tabCurrent","setTabCurrent","isDetailOpen","setIsDetailOpen","direction","setDirection","useDisclosure","isDeactivateOpen","isOpen","onDeactivateOpen","onOpen","onDeactivateClose","onClose","detailsSectionHeight","pocIconProps","mr","alignSelf","size","color","detailsTabProps","display","py","fontWeight","fontSize","options","label","onClick","type","lookupLklDto","lklTitle","locationDesc","lklAddressDto","lklPocListDto","addressDto","address1","address2","city","postalCode","countryCd","fullAddress","pocInfo","map","extractedPoc","fullName","phone","email","personDto","givenName","surName","personEmailDtoList","personPhoneDtoList","phoneDto","phoneNum","emailDto","emailAddress","push","mb","base","md","id","maxWidth","Flex","flexDir","xl","w","mt","sm","flexBasis","position","top","right","Dropdown","borderedRows","width","textAlign","DeactivateModal","onCancel","onConfirm","cursor","my","h","overflow","Divider","borderColor","PseudoBox","borderWidth","borderBottom","borderBottomColor","borderStyle","_hover","margin","lineHeight","mx","initial","key","transform","transition","duration","ease","animate","exit","currDirection","LocationOnIcon","poc","index","border","px","justifyContent","PersonIcon","EmailIcon","PhoneIcon","pb","orientation","flexWrap","DateTimeFormat","DateFormat","LastKnownLocation","savedEvent","eventsJSON","eventLklDtoList","eventLklDto","createdDateTime","moment","toDate","lastUpdatedDateTime","page","setPage","lklsPerPage","hideInactive","sort","a","b","aLastUpdatedTime","Date","bLastUpdatedTime","controlledLkls","filter","event","activeIndicator","numOfPages","Math","ceil","length","indexOfLastEvent","indexOfFirstEvent","totalPages","lklsOnPage","slice","Layout","pageTitle","pageHeading","eventTitle","gridColumn","lg","wrap","justify","flexGrow","aria-label","bottom","zIndex","Button","boxShadow","height","rounded","bg","navigate","alignItems","AddIcon","Pagination","count","onChange","_","showLastButton","_ref","borderProps","borderLeft","opacity"],"mappings":"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","file":"component---src-pages-lkl-list-tsx-1b9d402d00b9d56c7334.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/extends\";\nimport React from \"react\";\nimport Box from \"../Box\";\nvar Text = React.forwardRef(function (props, ref) {\n  return React.createElement(Box, _extends({\n    ref: ref,\n    as: \"p\",\n    fontFamily: \"body\"\n  }, props));\n});\nText.displayName = \"Text\";\nexport default Text;","import React, { useState } from \"react\"\r\n\r\nimport { LklDto, LookupLklDto, AddressDto, LklPocListDto, PersonDto } from \"../pages/lklList\"\r\n\r\nimport { Flex, Box, PseudoBox, Divider, Text, useDisclosure, BoxProps } from \"@chakra-ui/core\"\r\nimport { P, H4, Card, FinePrint } from \"@c1ds/components\"\r\n\r\nimport Dropdown from \"../components/Dropdown\"\r\nimport DeactivateModal from \"../components/Modals/DeactivateModal\"\r\n\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\"\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\"\r\nimport PersonIcon from \"@material-ui/icons/Person\"\r\nimport EmailIcon from \"@material-ui/icons/Email\"\r\nimport PhoneIcon from \"@material-ui/icons/Phone\"\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\"\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\ntype OmittedBoxProps = \"transition\" | \"style\"\r\n\r\nconst MotionBox = motion.custom<Omit<BoxProps, OmittedBoxProps>>(Box)\r\ninterface LKLCard {\r\n\tlklData: LklDto\r\n}\r\n\r\nconst LKLCard: React.FC<LKLCard> = ({ lklData }: LKLCard) => {\r\n\t// If tabCurrent is true, Location Tab selected otherwise, POC Tab selected\r\n\tconst [tabCurrent, setTabCurrent] = useState(true)\r\n\tconst [isDetailOpen, setIsDetailOpen] = useState(false)\r\n\tconst [direction, setDirection] = useState(1)\r\n\tconst { isOpen: isDeactivateOpen, onOpen: onDeactivateOpen, onClose: onDeactivateClose } = useDisclosure()\r\n\r\n\tconst [detailsSectionHeight, setHeight] = useState(200)\r\n\r\n\tconst variants = {\r\n\t\tanimate: {\r\n\t\t\tzIndex: 1,\r\n\t\t\tx: 0,\r\n\t\t\topacity: 1,\r\n\t\t\ttransition: {\r\n\t\t\t\tx: { type: \"spring\", stiffness: 300, damping: 200 },\r\n\t\t\t\t// opacity: { duration: 0.5 }\r\n\t\t\t},\r\n\t\t},\r\n\t\texit: (direction: number) => {\r\n\t\t\treturn {\r\n\t\t\t\tzIndex: 0,\r\n\t\t\t\tx: direction < 0 ? \"50vh\" : \"-10vh\",\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttransition: {\r\n\t\t\t\t\tx: { type: \"spring\", stiffness: 300, damping: 200 },\r\n\t\t\t\t\t// opacity: { duration: 0.5 }\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n\r\n\tconst pocIconProps = {\r\n\t\tmr: 4,\r\n\t\talignSelf: \"center\",\r\n\t\tsize: \"iconPoc\",\r\n\t\tcolor: \"label\",\r\n\t}\r\n\tconst detailsTabProps = {\r\n\t\tdisplay: \"inline-block\",\r\n\t\tpy: 4,\r\n\t\tfontWeight: 600,\r\n\t\tfontSize: 16,\r\n\t\tcolor: \"headingLarge\",\r\n\t}\r\n\r\n\t// 1.4          The user can see the following fields inside each Last Known Location on the list\r\n\t// ·         Location Title\r\n\t// ·         Country\r\n\t// ·         Post\r\n\t// ·         Location Status\r\n\t// ·         [Location Description] - expand chevron  (Address, Point of Contact)\r\n\t// ·         [Additional Action] – Edit\r\n\t// ·         [Additional Action] – Deactivate?\r\n\tconst options = [\r\n\t\t{\r\n\t\t\tlabel: \"Edit Location\",\r\n\t\t\tvalue: \"Edit\",\r\n\t\t\tonClick: () => {\r\n\t\t\t\t// navigate(\"/event\", { state: { eventId: , isEdit: true } })\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Remove Location\",\r\n\t\t\tvalue: \"Delete Location\",\r\n\t\t\ttype: \"error\" as const,\r\n\t\t\tonClick: () => {\r\n\t\t\t\tonDeactivateOpen()\r\n\t\t\t},\r\n\t\t},\r\n\t]\r\n\r\n\tconst { lklTitle, locationDesc, lklAddressDto, lklPocListDto }: LookupLklDto = lklData.lookupLklDto\r\n\tconst { address1, address2, city, postalCode, countryCd }: AddressDto = lklAddressDto.addressDto\r\n\r\n\tconst fullAddress = `${address1} ${address2}, ${city}, ${postalCode}, ${countryCd}`\r\n\r\n\tconst pocInfo: Array<{ fullName: string; phone: string; email: string }> = []\r\n\tlklPocListDto.map((lklPocListDto: LklPocListDto) => {\r\n\t\tconst extractedPoc = { fullName: \"\", phone: \"\", email: \"\" }\r\n\t\tconst { givenName, surName, personEmailDtoList, personPhoneDtoList }: PersonDto = lklPocListDto.personDto\r\n\t\textractedPoc.fullName = `${givenName} ${surName}`\r\n\r\n\t\t// TODO: cases for multiple phones and emails\r\n\t\textractedPoc.phone = personPhoneDtoList[0].phoneDto.phoneNum\r\n\t\textractedPoc.email = personEmailDtoList[0].emailDto.emailAddress\r\n\t\tpocInfo.push(extractedPoc)\r\n\t})\r\n\treturn (\r\n\t\t<Box mb={{ base: \"16\", md: \"24\" }}>\r\n\t\t\t<Card id=\"lklCard\" maxWidth=\"full\">\r\n\t\t\t\t<Flex flexDir={{ base: \"column\", xl: \"row\" }} w=\"full\" mt={{ base: \"-8px\", sm: \"-16px\" }}>\r\n\t\t\t\t\t<Box flexBasis={{ xl: \"65%\" }}>\r\n\t\t\t\t\t\t<P>{lklTitle}</P>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{/* location address */}\r\n\t\t\t\t\t<Box mb={4} flexBasis={{ xl: \"35%\" }}>\r\n\t\t\t\t\t\t<FinePrint color=\"label\">\r\n\t\t\t\t\t\t\tU.S. Embassy in {city}, {countryCd}\r\n\t\t\t\t\t\t</FinePrint>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tposition=\"absolute\"\r\n\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\ttop={{ base: \"-8px\", sm: \"-16px\" }}\r\n\t\t\t\t\tright={{ base: \"-12px\", sm: \"-20px\", md: \"-12px\" }}>\r\n\t\t\t\t\t<Dropdown options={options} borderedRows={true} width=\"10rem\">\r\n\t\t\t\t\t\t<Box w=\"120px\" right=\"0\" textAlign=\"right\" color=\"clickable\">\r\n\t\t\t\t\t\t\t<MoreVertIcon />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t<DeactivateModal\r\n\t\t\t\t\t\tisOpen={isDeactivateOpen}\r\n\t\t\t\t\t\tonCancel={onDeactivateClose}\r\n\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t// onConfirm(isActive, eventId)\r\n\t\t\t\t\t\t\tonDeactivateClose()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* Detail, hide when  */}\r\n\t\t\t\t<Flex mt={8} mb={-12}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"inline-flex\"\r\n\t\t\t\t\t\tcursor=\"pointer\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetIsDetailOpen(!isDetailOpen)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tcolor=\"clickable\">\r\n\t\t\t\t\t\t<Text my={0} fontSize={16}>\r\n\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t{isDetailOpen ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\r\n\t\t\t\t{/* Location */}\r\n\t\t\t\t{isDetailOpen ? (\r\n\t\t\t\t\t// TODO: Dynamic height with useEffect\r\n\t\t\t\t\t<Box position=\"relative\" h={detailsSectionHeight} overflow=\"hidden\">\r\n\t\t\t\t\t\t<Divider borderColor=\"silver\" my={16} />\r\n\t\t\t\t\t\t{/* Detail Tabs before extra large view*/}\r\n\t\t\t\t\t\t<Box display={{ xl: \"none\" }}>\r\n\t\t\t\t\t\t\t<Flex mb={16}>\r\n\t\t\t\t\t\t\t\t<PseudoBox\r\n\t\t\t\t\t\t\t\t\t{...detailsTabProps}\r\n\t\t\t\t\t\t\t\t\tborderWidth={0}\r\n\t\t\t\t\t\t\t\t\tborderBottom={tabCurrent ? 3 : 0}\r\n\t\t\t\t\t\t\t\t\tborderBottomColor=\"accent\"\r\n\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"headingSmall\"\r\n\t\t\t\t\t\t\t\t\t_hover={\r\n\t\t\t\t\t\t\t\t\t\ttabCurrent\r\n\t\t\t\t\t\t\t\t\t\t\t? {}\r\n\t\t\t\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottomColor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottom: \"3px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirection(-1)\r\n\t\t\t\t\t\t\t\t\t\tsetTabCurrent(true)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tmr={8}>\r\n\t\t\t\t\t\t\t\t\t<Text fontFamily=\"headingSmall\" margin={0} fontSize=\"h4\" fontWeight=\"h4\" lineHeight=\"h4\">\r\n\t\t\t\t\t\t\t\t\t\tLocation\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</PseudoBox>\r\n\t\t\t\t\t\t\t\t<Box mx={8} />\r\n\t\t\t\t\t\t\t\t<PseudoBox\r\n\t\t\t\t\t\t\t\t\t{...detailsTabProps}\r\n\t\t\t\t\t\t\t\t\tborderWidth={0}\r\n\t\t\t\t\t\t\t\t\tborderBottom={tabCurrent ? 0 : 3}\r\n\t\t\t\t\t\t\t\t\tborderBottomColor=\"accent\"\r\n\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"headingSmall\"\r\n\t\t\t\t\t\t\t\t\t_hover={\r\n\t\t\t\t\t\t\t\t\t\ttabCurrent\r\n\t\t\t\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottomColor: \"clickable\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderBottom: \"3px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirection(1)\r\n\t\t\t\t\t\t\t\t\t\tsetTabCurrent(false)\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Text fontFamily=\"headingSmall\" margin={0} fontSize=\"h4\" fontWeight=\"h4\" lineHeight=\"h4\">\r\n\t\t\t\t\t\t\t\t\t\tPoint of Contact\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</PseudoBox>\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t<AnimatePresence custom={direction} initial={false}>\r\n\t\t\t\t\t\t\t\t<MotionBox\r\n\t\t\t\t\t\t\t\t\tposition=\"absolute\"\r\n\t\t\t\t\t\t\t\t\tkey={direction}\r\n\t\t\t\t\t\t\t\t\tinitial={{ transform: `translateX(${direction < 0 ? \"-100%\" : \"100%\"})` }}\r\n\t\t\t\t\t\t\t\t\ttransition={{\r\n\t\t\t\t\t\t\t\t\t\ttype: \"tween\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 0.5,\r\n\t\t\t\t\t\t\t\t\t\tease: \"easeInOut\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tanimate={{\r\n\t\t\t\t\t\t\t\t\t\ttransform: \"translateX(0%)\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\texit={(currDirection: number) => ({\r\n\t\t\t\t\t\t\t\t\t\ttransform: `translateX(${currDirection < 0 ? \"100%\" : \"-100%\"})`,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\">\r\n\t\t\t\t\t\t\t\t\t{tabCurrent ? (\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex mb={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={LocationOnIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{fullAddress}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint color=\"label\">Description</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{locationDesc}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t{pocInfo.map((poc, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflexDir={{ base: \"column\", md: \"row\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor=\"silver\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpx={8}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PersonIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.fullName}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box as={EmailIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.email}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PhoneIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.phone}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</MotionBox>\r\n\t\t\t\t\t\t\t</AnimatePresence>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{/* Detail Tabs at extra large view*/}\r\n\t\t\t\t\t\t<Flex display={{ base: \"none\", xl: \"flex\" }}>\r\n\t\t\t\t\t\t\t<Box flexBasis={{ xl: \"63%\" }}>\r\n\t\t\t\t\t\t\t\t<Box pb={16}>\r\n\t\t\t\t\t\t\t\t\t<H4>Location</H4>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Flex mb={12}>\r\n\t\t\t\t\t\t\t\t\t<Box as={LocationOnIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t<FinePrint>{fullAddress}</FinePrint>\r\n\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t<Box py={4}>\r\n\t\t\t\t\t\t\t\t\t<FinePrint color=\"label\">Description</FinePrint>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<FinePrint>{locationDesc}</FinePrint>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Divider orientation=\"vertical\" flexBasis={{ xl: \"2%\" }} color=\"silver\" />\r\n\t\t\t\t\t\t\t<Box flexBasis={{ xl: \"35%\" }}>\r\n\t\t\t\t\t\t\t\t<Box pb={16}>\r\n\t\t\t\t\t\t\t\t\t<H4>Point of Contact</H4>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t{pocInfo.map((poc, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Flex\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tflexDir=\"column\"\r\n\t\t\t\t\t\t\t\t\t\t\tborder={1}\r\n\t\t\t\t\t\t\t\t\t\t\tborderStyle=\"solid\"\r\n\t\t\t\t\t\t\t\t\t\t\tborderColor=\"silver\"\r\n\t\t\t\t\t\t\t\t\t\t\tpx={8}\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-around\"\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PersonIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.fullName}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={EmailIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.email}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t\t<Flex py={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box as={PhoneIcon} {...pocIconProps} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FinePrint>{poc.phone}</FinePrint>\r\n\t\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t) : null}\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default LKLCard\r\n","import React, { useState } from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport moment from \"moment\"\r\n\r\nimport { Flex, Box, Divider, Button } from \"@chakra-ui/core\"\r\nimport { P, H3, Link, C1_DATE_FORMAT as DateFormat } from \"@c1ds/components\"\r\n\r\nimport Layout from \"../components/Layout\"\r\nimport HideInactiveButton from \"../components/HideInactiveButton\"\r\nimport LKLCard from \"../components/LKLCard\"\r\n\r\nimport eventsJSON from \"../../content/events.json\"\r\n\r\nimport Pagination from \"@material-ui/lab/Pagination\"\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\n\r\nconst DateTimeFormat = `${DateFormat} HH:mm:ss:SS ZZ`\r\n// Just for Demonstartion purpose.\r\ninterface EventLKLFormData extends Record<string, boolean | Date | string | number | LklDto[] | undefined> {\r\n\teventId: string\r\n\teventTitle: string\r\n\teventStartDate?: Date\r\n\teventEndDate?: Date\r\n\tactiveIndicator?: boolean\r\n\tmanagementTypeCode: string\r\n\teventTypeId: string\r\n\teventSummary?: string\r\n\tevacStatusCode?: string\r\n\tevacDepAuthDate?: Date\r\n\tevacDepOrdDate?: Date\r\n\tevacSummary?: string\r\n\tlastUpdatedDateTime?: Date\r\n\teventLklDtoList?: LklDto[]\r\n}\r\n\r\n// LklDto related interfaces\r\ninterface PersonEmailDto {\r\n\tpersonEmailId: string\r\n\temailDto: {\r\n\t\temailId: string\r\n\t\temailAddress: string\r\n\t}\r\n}\r\ninterface PersonPhoneDto {\r\n\tpersonPhoneId: string\r\n\tphoneDto: {\r\n\t\tphoneId: string\r\n\t\tphoneNum: string\r\n\t\tphoneTypeCd: string\r\n\t}\r\n}\r\n\r\nexport interface PersonDto {\r\n\tpersonId: string\r\n\tgivenName: string\r\n\tsurName: string\r\n\tpersonEmailDtoList: PersonEmailDto[]\r\n\tpersonPhoneDtoList: PersonPhoneDto[]\r\n}\r\n\r\nexport interface LklPocListDto {\r\n\tlklPocId: string\r\n\tpersonDto: PersonDto\r\n}\r\n\r\nexport interface AddressDto {\r\n\taddressId: string\r\n\taddressTypeCd: string\r\n\taddress1: string\r\n\taddress2: string\r\n\tcity: string\r\n\tcountryCd: string\r\n\tpostalCode: string\r\n\tstateCd: string\r\n}\r\n\r\ninterface LklAddressDto {\r\n\tlklAddressId: string\r\n\taddressDto: AddressDto\r\n}\r\n\r\nexport interface LookupLklDto {\r\n\tlookupLklId: string\r\n\tlklTitle: string\r\n\tlocationDesc: string\r\n\tpostCd: string\r\n\tcountryCd: string\r\n\tlklAddressDto: LklAddressDto\r\n\tlklPocListDto: LklPocListDto[]\r\n}\r\n// Last Known Location Data Transfer Object\r\nexport interface LklDto {\r\n\teventId: string\r\n\teventLklId: string\r\n\tactiveIndicator: boolean\r\n\tlklTypeCd: string\r\n\tcreatedDateTime: Date\r\n\tlastUpdatedDateTime: Date\r\n\tlookupLklDto: LookupLklDto\r\n}\r\n\r\nconst LastKnownLocation: React.FC = () => {\r\n\t// Currently using the first event eventLklDtoList for demonstration\r\n\tconst savedEvent = eventsJSON[0]\r\n\r\n\tconst eventLklDtoList: LklDto[] = savedEvent.eventLklDtoList.map(eventLklDto => {\r\n\t\tconst eventLklDtoWithDate: LklDto = {\r\n\t\t\t...eventLklDto,\r\n\t\t\tcreatedDateTime: moment(eventLklDto.createdDateTime, DateTimeFormat).toDate(),\r\n\t\t\tlastUpdatedDateTime: moment(eventLklDto.lastUpdatedDateTime, DateTimeFormat).toDate(),\r\n\t\t}\r\n\t\treturn eventLklDtoWithDate\r\n\t})\r\n\tconst [page, setPage] = useState(1)\r\n\tconst [lklsPerPage, setLklsPerPage] = useState(10)\r\n\tconst [hideInactive, setHideInactive] = useState(true)\r\n\r\n\t/**\r\n\t * 1.5 The system displays the default location list with “Active” location status and sort by Last Updated Date (Still working on the UI)\r\n\t */\r\n\teventLklDtoList.sort((a: LklDto, b: LklDto) => {\r\n\t\tconst aLastUpdatedTime = a.lastUpdatedDateTime ?? new Date()\r\n\t\tconst bLastUpdatedTime = b.lastUpdatedDateTime ?? new Date()\r\n\t\t// Descending order\r\n\t\tconst direction = -1\r\n\t\tif (aLastUpdatedTime > bLastUpdatedTime) return direction\r\n\t\tif (aLastUpdatedTime < bLastUpdatedTime) return -direction\r\n\t\treturn 0\r\n\t})\r\n\tconst controlledLkls = eventLklDtoList.filter((event: LklDto) => {\r\n\t\tif (hideInactive) return event.activeIndicator\r\n\t\telse return true\r\n\t})\r\n\r\n\tconst numOfPages = Math.ceil(controlledLkls.length / lklsPerPage)\r\n\t// Update the page number when inactive events are hidden\r\n\tif (page > numOfPages) setPage(numOfPages)\r\n\r\n\tconst indexOfLastEvent = page * lklsPerPage\r\n\tconst indexOfFirstEvent = indexOfLastEvent - lklsPerPage\r\n\r\n\tconst isMultiplePages = controlledLkls.length > lklsPerPage\r\n\tconst totalPages = isMultiplePages ? Math.ceil(controlledLkls.length / lklsPerPage) : 1\r\n\tconst lklsOnPage = totalPages !== 1 ? controlledLkls.slice(indexOfFirstEvent, indexOfLastEvent) : controlledLkls\r\n\r\n\treturn (\r\n\t\t// first Flex will be removed once tabular view is established\r\n\t\t/**\r\n            1.1     The user can access the Last Known Locations (list) screen by click on Last Known Locations menu item when editing an event.\r\n            1.2     The user can see the Event Title of the event that is being edited on top of the screen\r\n        */\r\n\r\n\t\t<Layout pageTitle=\"Last Known Location\" pageHeading={savedEvent.eventTitle}>\r\n\t\t\t<Divider width=\"100%\" gridColumn={{ base: \"1 / -1\" }} borderColor=\"silver\" />\r\n\t\t\t<Flex gridColumn={{ base: \"1 / -1\" }} direction=\"column\">\r\n\t\t\t\t<Flex\r\n\t\t\t\t\tgridColumn={{ base: \"1 / -1\", md: \"1 / 5\", lg: \"1 / 8\", xl: \"1 / 9\" }}\r\n\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\twrap=\"wrap\"\r\n\t\t\t\t\tjustify=\"flex-end\"\r\n\t\t\t\t\tmb={8}>\r\n\t\t\t\t\t<Box flexGrow={1} aria-label=\"Last Known Locations\">\r\n\t\t\t\t\t\t<H3>Last Known Locations</H3>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t{/* 1.8     The user can set “Hide Inactive Location” to NO to view all \r\n                    last known locations (Active and Inactive) order by default Last Updated Date */}\r\n\t\t\t\t\t{/* <Box mr={20}>\r\n                        <HideInactiveButton onToggleHideInactive={() => {return}} />\r\n                    </Box> */}\r\n\r\n\t\t\t\t\t<Box bottom=\"16px\" zIndex={2} right=\"16px\" position=\"fixed\" display={{ md: \"none\" }}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tborderColor=\"transparent\"\r\n\t\t\t\t\t\t\tboxShadow=\"0 6px 6px 0 rgba(0, 0, 0, 0.4)\"\r\n\t\t\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\t\t\twidth=\"40px\"\r\n\t\t\t\t\t\t\trounded=\"round\"\r\n\t\t\t\t\t\t\tbg=\"clickable\"\r\n\t\t\t\t\t\t\tcursor=\"pointer\"\r\n\t\t\t\t\t\t\t_hover={{\r\n\t\t\t\t\t\t\t\tbg: \"secondary\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={() => navigate(\"/event\")}>\r\n\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Flex display={{ base: \"none\", md: \"flex\" }} alignItems=\"center\">\r\n\t\t\t\t\t\t<Box as={AddIcon} alignSelf=\"center\" size=\"iconPoc\" color=\"lochmara\" mx={8} h={16} />\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t// navigate(\"/event\", { state: { eventId: eventId } })\r\n\t\t\t\t\t\t\t\tnavigate(\"/\")\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tAdd Location\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<Flex\r\n\t\t\t\t\tgridColumn={{ base: \"1 / -1\", md: \"1 / 5\", lg: \"1 / 8\", xl: \"1 / 9\" }}\r\n\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\twrap=\"wrap\"\r\n\t\t\t\t\tjustify=\"flex-end\">\r\n\t\t\t\t\t<Box flexGrow={1} mb={20}>\r\n\t\t\t\t\t\t<P>Manage the last known locations for U.S. citizens involved in this crisis</P>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t{/* LKL card list*/}\r\n\t\t\t\t{/* 1.3     The user can see the following fields on View Last Known Location screen\r\n                    ·         Hide Inactive Location - Indicator\r\n                    ·         [Add Location] – button\r\n                    ·         Last Known Location - card\r\n                    ·         Pagination\r\n                    1.6     The system defaults “Hide Inactive Location” to YES  (Still working on the UI)\r\n                    1.7     The user can distinguish active or inactive last known location visually.  (Still working on the UI)\r\n                */}\r\n\t\t\t\t{/* \r\n                <Flex\r\n                    gridColumn={{ base: \"1 / 3\", md: \"1 / -1\" }}\r\n                    gridRow={{ base: \"3\", md: \"auto\" }}\r\n                    justify={{ base: \"flex-start\", md: \"flex-end\" }}>\r\n                    <HideInactiveButton onToggleHideInactive={onToggleHideInactive} />\r\n                </Flex> \r\n                */}\r\n\r\n\t\t\t\t{lklsOnPage.map((lklData: LklDto, index) => {\r\n\t\t\t\t\treturn <LKLCard key={index} lklData={lklData} />\r\n\t\t\t\t})}\r\n\r\n\t\t\t\t{/* 1.9     The system displays the proper pagination at bottom of the Last \r\n                            Known Location List, each page contains “X” number of records.  \r\n                            (“X” is based on C1 design) \r\n                    1.10    The user can browse through additional Last Known Locations \r\n                            by using the pagination controls (e.g. First, Next, Last, Page Number etc.) .\r\n                    \r\n                    Pagination is not yet build in wireframe, so this is just place holder.\r\n                */}\r\n\t\t\t\t{/* pagination */}\r\n\r\n\t\t\t\t<Flex gridColumn=\"1 / -1\" justify=\"center\">\r\n\t\t\t\t\t<P>Total Locations: {eventLklDtoList.length}</P>\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tcount={totalPages}\r\n\t\t\t\t\t\tonChange={(_, value) => setPage(value)}\r\n\t\t\t\t\t\tshowLastButton\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<select>\r\n\t\t\t\t\t\t<option value=\"10\">10</option>\r\n\t\t\t\t\t\t<option value=\"20\">20</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</Flex>\r\n\t\t\t</Flex>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nexport default LastKnownLocation\r\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport Box from \"../Box\";\nimport { forwardRef } from \"react\";\nvar Divider = forwardRef(function (_ref, ref) {\n  var orientation = _ref.orientation,\n      props = _objectWithoutPropertiesLoose(_ref, [\"orientation\"]);\n\n  var borderProps = orientation === \"vertical\" ? {\n    borderLeft: \"0.0625rem solid\",\n    height: \"auto\",\n    mx: 2\n  } : {\n    borderBottom: \"0.0625rem solid\",\n    width: \"auto\",\n    my: 2\n  };\n  return jsx(Box, _extends({\n    ref: ref,\n    as: \"hr\",\n    \"aria-orientation\": orientation,\n    border: \"0\",\n    opacity: \"0.6\"\n  }, borderProps, {\n    borderColor: \"inherit\"\n  }, props));\n});\nexport default Divider;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\"\n}), 'Phone');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'LocationOn');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"\n}), 'Email');\n\nexports.default = _default;"],"sourceRoot":""}