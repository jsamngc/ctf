(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{BXVe:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("q1tI"),r=a.n(n),l=a("ggNy"),o=a("Weur"),i=a("BMxC"),c=function(e){return r.a.createElement(l.q,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"sm"},r.a.createElement(l.u,null,r.a.createElement(l.m,null,"Leave Page?")),r.a.createElement(l.s,null),r.a.createElement(l.r,null,r.a.createElement(l.v,null,"Do you want to leave this page and lose unsaved data?")),r.a.createElement(l.t,null,r.a.createElement(o.a,{align:"center"},r.a.createElement(i.a,{marginRight:"20"},r.a.createElement(l.p,{onClick:e.onLeave},"Leave")),r.a.createElement(l.a,{size:"sm",onClick:e.onClose,buttonType:"secondary"},"Stay"))))}},GUiF:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return v})),a.d(t,"d",(function(){return p}));a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("pIFo"),a("91GP");var n=a("q1tI"),r=a.n(n),l=a("69N/"),o=a("BMxC"),i=a("KEox"),c=a("ggNy");var s=function(e){var t=e.children,a=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["children"]);return r.a.createElement(l.a,Object.assign({as:"form",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:["repeat(4, 1fr)","repeat(4, 1fr)","repeat(4, 1fr)","repeat(8, 1fr)","repeat(12, 1fr)"]},a),t)},m=function(e){return r.a.createElement(l.a,{as:"section",gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(8, 1fr)",lg:"repeat(12, 1fr)"}},e.title&&r.a.createElement(o.a,{marginBottom:"4",gridColumn:"1 / -1"},r.a.createElement(c.k,null,e.title)),e.children,e.showDivider&&r.a.createElement(o.a,{gridColumn:"1 / -1"},r.a.createElement(i.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})))},u=r.a.createContext(null);u.displayName="CTFFormContext";var d=function(){return Object(n.useContext)(u)},v=function(e){var t=e.formMode,a={formMode:t,formSection:e.formSection,isCreate:"create"===t,isEdit:"edit"===t,isView:"view"===t};return r.a.createElement(u.Provider,{value:a},e.children)},p=function(e){return e&&e.replace(/[\u2018\u2019\u201A]/g,"'").replace(/[\u201C\u201D\u201E]/g,'"').replace(/[\u2013\u2014]/g,"-")}},KEox:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),l=a("8OQS"),o=a.n(l),i=a("qKvR"),c=a("BMxC"),s=a("q1tI"),m=Object(s.forwardRef)((function(e,t){var a=e.orientation,n=o()(e,["orientation"]),l="vertical"===a?{borderLeft:"0.0625rem solid",height:"auto",mx:2}:{borderBottom:"0.0625rem solid",width:"auto",my:2};return Object(i.d)(c.a,r()({ref:t,as:"hr","aria-orientation":a,border:"0",opacity:"0.6"},l,{borderColor:"inherit"},n))}));t.a=m},RV9o:function(e){e.exports=JSON.parse('[{"label":"Crisis","value":"Crisis"},{"label":"General","value":"General"},{"label":"Monitoring","value":"Monitoring"}]')},dPW5:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMzE4Ljk1IDIyMi43NyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNjY2M7fS5jbHMtM3tmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50KTt9LmNscy00e2ZpbGw6dXJsKCNsaW5lYXItZ3JhZGllbnQtMik7fS5jbHMtNSwuY2xzLTZ7ZmlsbDojOTk5O30uY2xzLTV7b3BhY2l0eTowLjM7fTwvc3R5bGU+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQiIHgxPSIzNi42NCIgeTE9IjIwOC44NSIgeDI9IjU1LjExIiB5Mj0iMTc2Ljg2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIwLjQ0IiBzdG9wLWNvbG9yPSIjZmNmY2ZjIi8+PHN0b3Agb2Zmc2V0PSIwLjc2IiBzdG9wLWNvbG9yPSIjZjNmM2YzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZTZlNmU2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudC0yIiB4MT0iMjAxLjQ1IiB5MT0iMjE2Ljc3IiB4Mj0iMjAxLjQ1IiB5Mj0iMTkwLjc3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIwLjE5IiBzdG9wLWNvbG9yPSIjZjZmNmY2Ii8+PHN0b3Agb2Zmc2V0PSIwLjYiIHN0b3AtY29sb3I9IiNlYWVhZWEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNlNmU2ZTYiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGl0bGU+QXNzZXQgMjwvdGl0bGU+PGcgaWQ9IkxheWVyXzIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+PGcgaWQ9IkxheWVyXzEtMiIgZGF0YS1uYW1lPSJMYXllciAxIj48ZyBpZD0iTWFwMSI+PHBvbHlnb24gY2xhc3M9ImNscy0xIiBwb2ludHM9IjEyLjk1IDE1MC43NyA5MS45NSAyMjIuNzcgMjAyLjk1IDE5MC43NyAzMTguOTUgMjE5Ljc3IDI2NS45NSA1NC43NyAyMDEuOTUgNDUuNzcgMTMzLjk1IDcwLjc3IDgxLjk1IDM4Ljc3IDEyLjk1IDE1MC43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxMzEuOTUgNzYuNzcgOTQuOTUgMjEzLjc3IDIwMi45NSAxODIuNzcgMTk4Ljk1IDU1Ljc3IDEzMS45NSA3Ni43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxOTguOTUgNTUuNzcgMjYxLjk1IDY4Ljc3IDMwNy45NSAyMDkuNzcgMjAyLjk1IDE4Mi43NyAxOTguOTUgNTUuNzciLz48cG9seWdvbiBjbGFzcz0iY2xzLTEiIHBvaW50cz0iMjcyLjY2IDEwMC45IDI3Ni45NSAxMTEuNzcgMTIzLjk1IDcyLjM2IDEyOC45NSA2My43NyAyNzIuNjYgMTAwLjkiLz48cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iMTkuNTEgMTU2LjMgMCAxODcuNyA4Mi42NyAyMTMuNzUgMTkuNTEgMTU2LjMiLz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMTEwLjk1IDIxNi43NyAyMDIuOTUgMTkwLjc3IDI5MS45NSAyMTQuNzcgMTEwLjk1IDIxNi43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI4NC45NSA0OC43NyAxMzEuOTUgNzYuNzcgOTQuOTUgMjEzLjc3IDIyLjk1IDE0OS43NyA4NC45NSA0OC43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSI1Ny45NSAxODEuNzcgNjMuOTUgMTg5Ljc3IDEwMS45NSAxODkuNzcgMjAxLjk1IDEyOS43NyAyODEuOTUgMTI3Ljc3IDI3OS45NSAxMTkuNzcgMjAwLjk1IDEyMC43NyAxMDIuOTUgMTgwLjc3IDU3Ljk1IDE4MS43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIzOS45NSAxMTkuNzcgNDUuOTUgMTExLjc3IDEyMS45NSAxMTEuNzcgMTcyLjk1IDgzLjc3IDE5OC45NSA2OS43NyAyMjMuOTUgNjAuNzcgMjM5Ljk1IDYzLjc3IDE5OS45NSA3Ni43NyAxMTkuOTUgMTE5Ljc3IDM5Ljk1IDExOS43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSI2NS45NSA3OC43NyAxMTUuOTUgMTMyLjc3IDIwMC45NSAxNDAuNzcgMjk3Ljk1IDE3Ni43NyAzMDAuOTUgMTg1Ljc3IDE5OS45NSAxNDkuNzcgMTEzLjk1IDE0MS43NyA1OS45NSA4NS43NyA2NS45NSA3OC43NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIxMzEuOTUgNzYuNzcgOTQuOTUgMjEzLjc3IDIwMi45NSAxODIuNzcgMTk4Ljk1IDU1Ljc3IDEzMS45NSA3Ni43NyIvPjxnIGlkPSJQaW4iPjxwYXRoIGlkPSJQaW4yIiBjbGFzcz0iY2xzLTYiIGQ9Ik0xNDIsMzguNjNhMzksMzksMCwwLDAtNzgsMCwzOC4yLDM4LjIsMCwwLDAsNS4zOSwxOS42MUEzOC43OCwzOC43OCwwLDAsMCw3My41Nyw2NGgwbDMuNjgsNS4xNSw3LjM2LDEyLjUxLDUuMTUsOS44NCwzLjY4LDcuODIsMy42OCw4LjgzLDIuNTcsOC4wOSwxLjg0LDUuODkuNzQsMi45NC43MywzLjY4Ljc0LTIuMi43My0yLjk1Ljc0LTIuOTQuNzQtMi45NCwyLjItNi42M0wxMTEsMTAzLjIsMTE2LjIsOTJsOS41Ni0xNi45Miw2LjYzLTEwLjMxLDEuNzYtMi45NEEzOC4xOCwzOC4xOCwwLDAsMCwxNDIsMzguNjNaIi8+PGNpcmNsZSBpZD0iUGluX2NpcmNsZSIgZGF0YS1uYW1lPSJQaW4gY2lyY2xlIiBjbGFzcz0iY2xzLTEiIGN4PSIxMDIuOTUiIGN5PSI0MC40NyIgcj0iMjQuMjgiLz48L2c+PC9nPjwvZz48L2c+PC9zdmc+"},rZ4P:function(e){e.exports=JSON.parse('[{"label":"Monitoring Group","value":"mg"},{"label":"Working Group","value":"wg"},{"label":"Task Force","value":"tf"}]')},xZ9P:function(e,t,a){"use strict";a.r(t);a("dRSK");var n=a("q1tI"),r=a.n(n),l=a("wd/R"),o=a.n(l),i=a("nB9M"),c=a("GUiF"),s=(a("91GP"),a("INYr"),a("Wbzz")),m=a("XZ7F"),u=a("Weur"),d=a("BMxC"),v=a("ggNy"),p=a("BXVe"),b=a("wx14"),f=a("Ff2n"),E=a("iuhU"),g=a("H2TA"),h=a("NqtD");function y(e){var t,a,n;return t=e,a=0,n=1,e=(Math.min(Math.max(a,t),n)-a)/(n-a),e=(e-=1)*e*e+1}var D=n.forwardRef((function(e,t){var a,r=e.classes,l=e.className,o=e.color,i=void 0===o?"primary":o,c=e.disableShrink,s=void 0!==c&&c,m=e.size,u=void 0===m?40:m,d=e.style,v=e.thickness,p=void 0===v?3.6:v,g=e.value,D=void 0===g?0:g,x=e.variant,C=void 0===x?"indeterminate":x,I=Object(f.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),j={},S={},O={};if("determinate"===C||"static"===C){var w=2*Math.PI*((44-p)/2);j.strokeDasharray=w.toFixed(3),O["aria-valuenow"]=Math.round(D),"static"===C?(j.strokeDashoffset="".concat(((100-D)/100*w).toFixed(3),"px"),S.transform="rotate(-90deg)"):(j.strokeDashoffset="".concat((a=(100-D)/100,a*a*w).toFixed(3),"px"),S.transform="rotate(".concat((270*y(D/70)).toFixed(3),"deg)"))}return n.createElement("div",Object(b.a)({className:Object(E.a)(r.root,l,"inherit"!==i&&r["color".concat(Object(h.a)(i))],{indeterminate:r.indeterminate,static:r.static}[C]),style:Object(b.a)({width:u,height:u},S,d),ref:t,role:"progressbar"},O,I),n.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},n.createElement("circle",{className:Object(E.a)(r.circle,s&&r.circleDisableShrink,{indeterminate:r.circleIndeterminate,static:r.circleStatic}[C]),style:j,cx:44,cy:44,r:(44-p)/2,fill:"none",strokeWidth:p})))})),x=Object(g.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(D),C=function(){return r.a.createElement(d.a,{color:"clickable"},r.a.createElement(x,{color:"inherit",size:48,thickness:7.5}))},I=function(e){var t=e.isOpen,a=e.onClose,n=e.message,l=void 0===n?"Saving your information":n;return r.a.createElement(v.q,{isOpen:t,onClose:a,isCentered:!0,size:"sm"},r.a.createElement(v.u,null,r.a.createElement(v.m,null,"Please Wait...")),r.a.createElement(v.r,null,r.a.createElement(u.a,{align:"center"},r.a.createElement(d.a,{color:"clickable"},r.a.createElement(C,null)),r.a.createElement(d.a,{pl:"24"},r.a.createElement(v.v,null,l)))))},j=a("NKCw"),S=a("soUV"),O=(a("pIFo"),a("69N/")),w=a("o0pm"),k=function(){var e,t,a=Object(j.d)(),l=a.formState,o=a.errors,i=a.setValue,s=a.getValues,m=Object(n.useRef)(null),u=Object(n.useRef)(null),p=Object(n.useRef)(null),b=Object(n.useRef)(null),f=Object(j.e)({name:"evacStatusCode"}),E=Object(c.e)(),g=E.isCreate,h=E.isView,y=l.dirtyFields;return r.a.createElement(c.c,{title:"Evacuation Details"},r.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 3"}},r.a.createElement(v.i,{labelText:"Evacuation Status",labelId:"evacStatusCodeLabel"},r.a.createElement(j.a,{name:"evacStatusCode",onFocus:function(){var e;return null===(e=m.current)||void 0===e?void 0:e.focus()},render:function(e){var t,a=e.onChange,n=e.onBlur,l=e.value;return r.a.createElement(v.w,{ref:m,id:"evacStatusCode",name:"evacStatusCode","aria-labelledby":"evacStatusCodeLabel",options:w,size:"full",placeholder:"",disabled:h,validationState:(null==o?void 0:o.evacStatusCode)?v.A.ERROR:void 0,errorMessage:null==o||null===(t=o.evacStatusCode)||void 0===t?void 0:t.message,onChange:function(e){var t,n=null===(t=e.selectedItem)||void 0===t?void 0:t.value;a(n),"ADEP"!==n||s("evacDepAuthDate")?"ODEP"!==n||s("evacDepOrdDate")?"NONE"===n&&(g&&!y.evacDepOrdDate&&i("evacDepOrdDate",""),g&&!y.evacDepAuthDate&&i("evacDepAuthDate","")):(i("evacDepOrdDate",new Date),g&&!y.evacDepAuthDate&&i("evacDepAuthDate","")):(i("evacDepAuthDate",new Date),g&&!y.evacDepOrdDate&&i("evacDepOrdDate",""))},onBlur:n,value:l})}}))),r.a.createElement(O.a,{gridColumn:{base:"1 / -1",md:"span 4",lg:"span 9"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(2,max-content)"}},r.a.createElement(v.i,{labelText:"Departure Authorized",labelId:"evacDepAuthDateLabel"},r.a.createElement(j.a,{as:r.a.createElement(v.f,null),id:"evacDepAuthDate",name:"evacDepAuthDate",inputRef:u,onFocus:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()},disabled:h||!f||"ADEP"!==f,maxDate:new Date(2100,0,1),error:void 0!==(null==o?void 0:o.evacDepAuthDate),errorMessage:null==o||null===(e=o.evacDepAuthDate)||void 0===e?void 0:e.message})),r.a.createElement(v.i,{labelText:"Departure Ordered",labelId:"orderedDateLabel"},r.a.createElement(j.a,{as:r.a.createElement(v.f,null),id:"evacDepOrdDate",name:"evacDepOrdDate",inputRef:p,onFocus:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},disabled:h||!f||"ODEP"!==f,maxDate:new Date(2100,0,1),error:void 0!==(null==o?void 0:o.evacDepOrdDate),errorMessage:null==o||null===(t=o.evacDepOrdDate)||void 0===t?void 0:t.message}))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},r.a.createElement(v.i,{labelText:"Evacuation Summary",labelId:"evacSummaryLabel"},r.a.createElement(j.a,{name:"evacSummary",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Evacuation Summary field"},maxLength:{value:4e3,message:"Evacuation Summary cannot exceed 4000 characters"}},onFocus:function(){var e;return null===(e=b.current)||void 0===e?void 0:e.focus()},render:function(e){var t,a=e.onChange,n=e.onBlur,l=e.value;return r.a.createElement(v.z,{ref:b,id:"evacSummary",name:"evacSummary","aria-labelledby":"evacSummaryLabel",size:"full",maxLength:4e3,disabled:h,validationState:(null==o?void 0:o.evacSummary)?v.A.ERROR:void 0,errorMessage:null==o||null===(t=o.evacSummary)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=Object(c.d)(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),a(e)},onBlur:n,value:l})}}))))},M=a("/Tr7"),N=a("jIYg");var T,L=a("rZ4P"),z=a("RV9o"),A=a("wfq5"),P=function(e){var t,a,l,o=Object(m.a)(),i=o.isOpen,s=o.onOpen,u=o.onClose,p=e.hideTitle,b=Object(j.d)(),f=b.register,E=b.errors,g=b.setValue,h=Object(n.useRef)(null),y=Object(n.useRef)(null),D=Object(n.useRef)(null),x=Object(n.useRef)(null),C=Object(n.useRef)(null),I=Object(j.e)({name:"activeIndicator"}),S=Object(j.e)({name:"eventStartDate"}),w=Object(c.e)(),k=w.isView,T=w.isCreate;return r.a.createElement(c.c,{title:p?void 0:"Event Details",showDivider:T},r.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},r.a.createElement(v.i,{labelText:"Event Title",labelId:"eventTitleLabel",required:!0},r.a.createElement(v.y,{ref:f({required:"Please enter an Event Title",maxLength:{value:25,message:"Event Title cannot exceed 25 characters"}}),name:"eventTitle",id:"eventTitle",size:"full",disabled:k,maxLength:25,validationState:(null==E?void 0:E.eventTitle)?v.A.ERROR:void 0,errorMessage:null==E||null===(t=E.eventTitle)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=e.target.value.replace(/^[^A-Za-z0-9]+/,"")}}))),r.a.createElement(O.a,{gridColumn:{base:"1 / -1"},gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(1,max-content)",md:"repeat(3,max-content)"}},r.a.createElement(v.i,{labelText:"Start Date",labelId:"eventStartDateLabel",required:!0},r.a.createElement(j.a,{as:r.a.createElement(v.f,null),id:"eventStartDate",name:"eventStartDate",rules:{required:"Please enter a Start Date"},inputRef:h,onFocus:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},maxDate:new Date,disabled:k,error:void 0!==(null==E?void 0:E.eventStartDate),errorMessage:null==E||null===(a=E.eventStartDate)||void 0===a?void 0:a.message})),r.a.createElement(v.i,{labelText:"End Date",labelId:"eventEndDateLabel"},r.a.createElement(j.a,{as:r.a.createElement(v.f,null),id:"eventEndDate",name:"eventEndDate",rules:{validate:{afterStartDate:function(e){return!!I||function(e,t){Object(N.a)(2,arguments);var a=Object(M.default)(e),n=Object(M.default)(t),r=a.getTime()-n.getTime();return r<0?-1:r>0?1:r}(e,S)>-1||"End Date must be equal to or later than Start Date"}}},inputRef:y,onFocus:function(){var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},minDate:S||void 0,maxDate:new Date(2100,0,1),disabled:k,error:void 0!==(null==E?void 0:E.eventEndDate),errorMessage:null==E||null===(l=E.eventEndDate)||void 0===l?void 0:l.message})),r.a.createElement(v.i,{labelText:"Active",labelId:"activeIndicatorLabel"},r.a.createElement(v.x,{ref:f(),name:"activeIndicator",id:"activeIndicator",value:"Active",disabled:k,onChange:function(e){e.target.checked?g("eventEndDate",void 0):(g("activeIndicator",!0),s())}}))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"1 / 5"}},r.a.createElement(v.i,{labelText:"Management Type",labelId:"managementTypeCodeLabel",required:!0},r.a.createElement(j.a,{name:"managementTypeCode",rules:{required:"Please select a Management Type"},onFocus:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.focus()},render:function(e){var t,a=e.onChange,n=e.onBlur,l=e.value;return r.a.createElement(v.w,{ref:D,id:"managementTypeCode",name:"managementTypeCode","aria-labelledby":"managementTypeCodeLabel",options:L,size:"full",disabled:k,validationState:(null==E?void 0:E.managementTypeCode)?v.A.ERROR:void 0,errorMessage:null==E||null===(t=E.managementTypeCode)||void 0===t?void 0:t.message,onChange:function(e){var t;a(null===(t=e.selectedItem)||void 0===t?void 0:t.value)},onBlur:n,value:l})}}))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"1 / 5"}},r.a.createElement(v.i,{labelText:"Event Type",labelId:"eventTypeIdLabel",required:!0},r.a.createElement(j.a,{name:"eventTypeId",rules:{required:"Please select an Event Type"},onFocus:function(){var e;return null===(e=x.current)||void 0===e?void 0:e.focus()},render:function(e){var t,a=e.onChange,n=e.onBlur,l=e.value;return r.a.createElement(v.w,{ref:x,id:"eventTypeId",name:"eventTypeId","aria-labelledby":"eventTypeIdLabel",options:z,size:"full",disabled:k,validationState:(null==E?void 0:E.eventTypeId)?v.A.ERROR:void 0,errorMessage:null==E||null===(t=E.eventTypeId)||void 0===t?void 0:t.message,onChange:function(e){var t;a(null===(t=e.selectedItem)||void 0===t?void 0:t.value)},onBlur:n,value:l})}}))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},r.a.createElement(v.i,{labelText:"Event Summary",labelId:"eventSummaryLabel"},r.a.createElement(j.a,{name:"eventSummary",rules:{pattern:{value:/^[A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]*$/,message:"Please enter only plain text in the Event Summary field"},maxLength:{value:4e3,message:"Event Summary cannot exceed 4000 characters"}},onFocus:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.focus()},render:function(e){var t,a=e.onChange,n=e.onBlur,l=e.value;return r.a.createElement(v.z,{ref:C,id:"eventSummary",name:"eventSummary","aria-labelledby":"eventSummaryLabel",size:"full",maxLength:4e3,disabled:k,validationState:(null==E?void 0:E.eventSummary)?v.A.ERROR:void 0,errorMessage:null==E||null===(t=E.eventSummary)||void 0===t?void 0:t.message,onChange:function(e){e.target.value=Object(c.d)(e.target.value).replace(/[^A-Za-z0-9`~!@#$%^&*()_+•\-=[\]:";',./?\s]/g,""),a(e)},onBlur:n,value:l})}}))),r.a.createElement(A.a,{isOpen:i,onCancel:u,onConfirm:function(){g("activeIndicator",!1),g("eventEndDate",new Date),u()}}))},R=(a("Z2Ku"),a("f3/d"),a("+Z5E")),G=a("KEox"),U=a("7ncI");!function(e){e.talkingPoints="Talking Points",e.attachment="Attachment"}(T||(T={}));var F=function(e){var t=e.type,a=e.isOpen,n=e.onCancel,l=e.onConfirm,o="talkingPoints"===t?T.talkingPoints:"attachment"===t?T.attachment:"";return r.a.createElement(v.q,{isOpen:a,onClose:n,isCentered:!0,size:"sm"},r.a.createElement(v.u,null,r.a.createElement(v.m,null,"Delete ",o,"?")),r.a.createElement(v.s,null),r.a.createElement(v.r,null,r.a.createElement(v.v,null,"Are you sure you want to delete this ",o.toLowerCase,"? This action cannot be undone.")),r.a.createElement(v.t,null,r.a.createElement(u.a,{align:"center"},r.a.createElement(d.a,{marginRight:"20"},r.a.createElement(v.p,{onClick:n},"Cancel")),r.a.createElement(v.a,{size:"sm",onClick:l},"Delete"))))},W=a("N2AM"),Y=function(){var e=Object(m.a)(),t=e.isOpen,a=e.onOpen,l=e.onClose,o=Object(m.a)(),i=o.isOpen,s=o.onOpen,p=o.onClose,b=Object(n.useState)(""),f=b[0],E=b[1],g=Object(n.useState)(!1),h=g[0],y=g[1],D=Object(n.useRef)(null),x=Object(c.e)(),C=x.isCreate,I=x.isEdit,S=[{label:"Replace",value:"Replace",onClick:function(){var e;null===(e=D.current)||void 0===e||e.click()}},{label:"Remove",value:"Remove",onClick:function(){s()}}],O=["text/plain","application/pdf","application/rtf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],w=function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){var n={fileName:e.name,fileSize:e.size,fileMimeType:e.type,fileDataURL:a.result};t(n),y(!0)}};return r.a.createElement(c.c,{title:"Talking Points",showDivider:C||I},r.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},h?r.a.createElement(v.v,null,"You have added talking points to this event. The default talking points have been removed."):r.a.createElement(v.v,null,"If Talking Points aren't available, ",r.a.createElement(v.o,{onClick:a},"default Talking Points")," will be presented based on the Event Type."),r.a.createElement(v.q,{isOpen:t,onClose:l,isCentered:!0,size:"lg"},r.a.createElement(v.u,null,r.a.createElement(v.m,null,"Default Talking Points")),r.a.createElement(v.s,null),r.a.createElement(d.a,{mt:{base:"-92px",sm:"-108px",md:"-144px"},gridColumn:{base:"1 / -1"}},r.a.createElement(v.v,null,"We are aware of the event at hand. We are monitoring the event closely and will update you with any new information that comes forth during this unprecedented time. We thank you for your understanding and ultimately for your cooperation.")),r.a.createElement(u.a,{justifyContent:"center",alignItems:"flex-end",gridColumn:{base:"1 / -1"}},r.a.createElement(v.a,{buttonType:"primary",onClick:l},"Close")))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",lg:"span 9"}},r.a.createElement(j.a,{name:"talkingPoints",render:function(e){var t=e.onChange,a=e.value;return y(!!a),r.a.createElement(v.i,{labelText:"Attachments",labelId:"talkingPointsLabel"},a?r.a.createElement(d.a,{mt:8},r.a.createElement(v.c,{id:"talkingPointItem"},r.a.createElement(R.a,{as:"input",type:"file",ref:D,name:"talkingPoints","aria-hidden":!0,tabIndex:-1,accept:O.join(),onChange:function(e){var a=e.target.files[0];O.includes(a.type)?a.size>5242880?E("File is larger than 5242880 bytes"):(E(""),w(a,t)):E("File type must be one of .doc, .docx, .txt, .rtf, .pdf")}}),r.a.createElement(u.a,{w:"full",my:{base:"-8px",sm:"-12px"},flexDir:{base:"row"}},r.a.createElement(u.a,{flexGrow:1,justifyContent:"flex-start"},r.a.createElement(v.o,{href:""+a.fileDataURL,download:a.fileName},a.fileName)),r.a.createElement(u.a,{display:{base:"none",md:"flex"},flexGrow:1,justifyContent:"flex-end"},r.a.createElement(v.o,{href:"","aria-label":"Replace",onClick:function(e){var t;e.preventDefault(),null===(t=D.current)||void 0===t||t.click()}},"Replace"),r.a.createElement(d.a,{mx:24},r.a.createElement(G.a,{position:"absolute",h:{base:16,sm:16},top:{base:-12,sm:-16},orientation:"vertical",color:"silver"})),r.a.createElement(v.o,{href:"","aria-label":"Remove",onClick:function(e){e.preventDefault(),s()}},"Remove"),r.a.createElement(F,{type:"talkingPoints",isOpen:i,onCancel:p,onConfirm:function(){y(!1),t(void 0),p()}})),r.a.createElement(u.a,{display:{md:"none"},justifyContent:"flex-end"},r.a.createElement(d.a,{position:"relative",right:{base:"-12px"}},r.a.createElement(U.a,{options:S,borderedRows:!0,width:"10rem",label:"Additional actions for "+a.fileName},r.a.createElement(d.a,{as:W.a,color:"clickable"})))))),""!==f&&r.a.createElement(v.v,{color:"error"},f)):r.a.createElement(v.g,{id:"talkingPoints","aria-labelledby":"talkingPoints",name:"talkingPoints",maxSizeBytes:5242880,allowedFileTypes:[".doc",".docx",".txt",".rtf",".pdf"],onDrop:function(e,a){w(a[0],t),E("")},handleRejectedFiles:function(e,t){E(t[0].errors[0])},errorMessage:f}))}})))},B=(a("a1Th"),a("Btvt"),a("XfO3"),a("HEwt"),a("rGqo"),a("rE2o"),a("ioFf"),a("sK1y")),Z=a("pVnL"),V=a.n(Z),H=a("8OQS"),X=a.n(H),q=a("qKvR");var J=Object(n.forwardRef)((function(e,t){var a=e.htmlWidth,n=e.htmlHeight,r=e.alt,l=X()(e,["htmlWidth","htmlHeight","alt"]);return Object(q.d)("img",V()({width:a,height:n,ref:t,alt:r},l))})),Q=Object(n.forwardRef)((function(e,t){var a=e.src,r=e.fallbackSrc,l=e.onError,o=e.onLoad,i=e.ignoreFallback,c=X()(e,["src","fallbackSrc","onError","onLoad","ignoreFallback"]),s=function(e){var t=e.src,a=e.onLoad,r=e.onError,l=e.enabled,o=void 0===l||l,i=Object(n.useRef)(!0),c=Object(n.useState)(!1),s=c[0],m=c[1];return Object(n.useEffect)((function(){if(t&&o){var e=new window.Image;e.src=t,e.onload=function(e){i.current&&(m(!0),a&&a(e))},e.onerror=function(e){i.current&&(m(!1),r&&r(e))}}}),[t,a,r,o]),Object(n.useEffect)((function(){return function(){i.current=!1}}),[]),s}({src:a,onLoad:o,onError:l,enabled:!Boolean(i)}),m=i?{src:a,onLoad:o,onError:l}:{src:s?a:r};return Object(q.d)(d.a,V()({as:J,ref:t},m,c))}));Q.displayName="Image";var _=Q,K=a("LYUY"),$=Object(K.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),ee=(a("yt8O"),a("T39b"),a("Vd3H"),a("ENWW")),te=a("91Jw");function ae(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var re=function(e){var t=e.isOpen,a=e.onClose,l=e.posts,o=e.onSetPosts,i=Object(n.useMemo)((function(){var e=ee.filter((function(e,t){return t%5==0}));return e.push({label:"UNITED STATES OF AMERICA",value:"USA"}),e.sort((function(e,t){return e.label.localeCompare(t.label)})),e}),[]),c=new Set(l.map((function(e){return"Unknown"===e.postValue?e.countryValue:""}))),s=Object(n.useState)(),m=s[0],p=s[1],b=Object(n.useState)(l),f=b[0],E=b[1],g=Object(n.useState)(c),h=g[0],y=g[1],D=Object(n.useRef)(null),x=Object(n.useRef)(null),C=0===f.length,I=te.filter((function(e){return e.country_cd===(null==m?void 0:m.value)}));m&&I.length>1&&I.unshift({value:"Unknown",label:"Unknown Location",country_cd:m.value});return r.a.createElement(v.q,{isOpen:t,onClose:a,isCentered:!0,size:"lg"},r.a.createElement(v.u,null,r.a.createElement(v.m,null,"Add Impacted Posts")),r.a.createElement(v.s,null),r.a.createElement(O.a,{gridColumn:{base:"1 / -1"},gridRowGap:16},r.a.createElement(v.i,{labelText:"Country",labelId:"stateLabel",required:!0},r.a.createElement(v.w,{ref:D,id:"country",name:"country","aria-labelledby":"countryLabel",options:i,size:"full",onChange:function(e){e&&e.selectedItem&&p(e.selectedItem)},placeholder:m?m.label:"Select a country",value:m?m.label:"Select a country"})),r.a.createElement(v.i,{labelText:"Post",labelId:"stateLabel",required:!0},r.a.createElement(O.a,{p:12,h:320,borderColor:"silver",borderWidth:1,borderStyle:"solid",gridColumn:{base:"1 / -1"},templateRows:{base:"repeat(6,1fr)"},rowGap:{base:"16px",md:"24px"},overflow:"auto"},m&&m.label?0!==I.length?I.map((function(e,t){var a=h.has(m.value);if(I.length>1&&0===t)return r.a.createElement(v.e,{ref:x,id:"unknownPost",key:e.value+"-"+e.country_cd,"aria-label":"post",defaultChecked:a,value:"Unknown Post in "+m.label,onChange:function(t){!function(e,t){e.target.checked&&m?(y((function(e){return e.add(t.country_cd),e})),E((function(e){var t={countryValue:m.value,countryName:m.label,postLabel:"Unknown Location",postValue:"Unknown"};return[].concat(ae(e),[t])}))):(y((function(e){return e.forEach((function(a){a===t.country_cd&&e.delete(a)})),e})),E((function(e){return e.filter((function(e){return!("Unknown"===e.postValue&&e.countryValue===t.country_cd)}))})))}(t,e)}});var n=l.some((function(t){return t.postValue===e.value}));return r.a.createElement(v.e,{id:"post",key:e.value+"-"+e.country_cd,"aria-label":"post",value:"U.S. Embassy in "+e.label+", "+m.label,defaultChecked:n,disabled:a,onChange:function(t){return function(e,t){e.target.checked&&m?E((function(e){var a={countryValue:m.value,countryName:m.label,postLabel:t.label,postValue:t.value};return[].concat(ae(e),[a])})):E((function(e){return e.filter((function(e){return e.postValue!==t.value}))}))}(t,e)}})})):r.a.createElement(u.a,{gridRow:"1/-1",justifyContent:"center",alignItems:"center"},r.a.createElement(d.a,{w:200,textAlign:"center"},r.a.createElement(v.v,{color:"label"},"There are no consular posts in this country."))):r.a.createElement(u.a,{gridRow:"1/-1",justifyContent:"center",alignItems:"center"},r.a.createElement(d.a,{w:200,textAlign:"center"},r.a.createElement(v.v,{color:"label"},"Select a country to see a list of consular posts.")))))),r.a.createElement(v.t,null,r.a.createElement(u.a,{align:"center"},r.a.createElement(d.a,{marginRight:"20"},r.a.createElement(v.p,{onClick:function(){p(void 0),a()}},"Leave")),r.a.createElement(v.a,{size:"sm",buttonType:"primary",disabled:C,onClick:function(){var e=f.filter((function(e){return!h.has(e.countryValue)||"Unknown"===e.postValue}));p(void 0),o(e),a()}},"Add"))))},le=a("dPW5"),oe=a.n(le);function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var se=function(e){var t=e.impactedPosts,a=Object(j.d)().register,l=Object(m.a)(),o=l.isOpen,i=l.onOpen,s=l.onClose,p=Object(n.useState)(null!=t?t:[]),b=p[0],f=p[1],E=Object(c.e)().isCreate;return r.a.createElement(c.c,{title:"Impacted Posts",showDivider:E},r.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},r.a.createElement(v.v,null,r.a.createElement(B.a,{color:"required",as:"span"},"* "),"Which Consular Posts are impacted by this event?  For a list of posts,"," ",r.a.createElement(v.o,{href:"http://fam.a.state.sbu/fam/02FAM/02FAM0460.html#M463",target:"_blank",rel:"noreferrer noopener"},"consult the FAM"),".")),b.length>0?r.a.createElement(O.a,{gridColumn:{base:"1 / -1",lg:"span 9"},templateRows:{base:"1fr 1fr"},rowGap:{base:"16px",md:"24px"}},b.map((function(e,t){return r.a.createElement(v.c,{id:"ctfPost",maxWidth:"full",key:e.postValue+"-"+e.countryValue+"-"+t},r.a.createElement(j.a,{ref:a,name:"impactedPosts["+t+"]",defaultValue:e}),r.a.createElement(u.a,{w:"full",my:{base:"-8px",sm:"-12px"},flexDir:{base:"row"}},r.a.createElement(d.a,{flexGrow:1},r.a.createElement(d.a,{pb:4},r.a.createElement(v.h,{color:"label"},e.countryName)),r.a.createElement(v.v,null,"U.S. Embassy in ",e.postLabel,", ",e.countryValue)),r.a.createElement(d.a,{display:{base:"none",md:"flex"},alignItems:"center"},r.a.createElement(v.o,{onClick:function(e){e.preventDefault(),f((function(e){return[].concat(ie(e.slice(0,t)),ie(e.slice(t+1)))}))}},"Remove")),r.a.createElement(u.a,{display:{base:"flex",md:"none"},alignItems:"center"},r.a.createElement(d.a,{as:$,right:{base:"-12px"},color:"clickable"}))))})),r.a.createElement(v.o,{onClick:i,rel:"noreferrer noopener"},"Add Additional Posts")):r.a.createElement(u.a,{h:{base:"240px",md:"280px"},flexDir:"column",alignItems:"center",gridColumn:{base:"1 / -1",lg:"span 9"}},r.a.createElement(_,{h:{base:"172px",md:"212px"},src:oe.a,cursor:"pointer",alt:"Posts",onClick:i}),r.a.createElement(d.a,{textAlign:"center",width:{base:"240px",md:"280px"}},r.a.createElement(v.v,{color:"label"},"There are no posts associated with this event. ",r.a.createElement(v.o,{onClick:i,rel:"noreferrer noopener"},"Add Post")))),r.a.createElement(re,{key:b.length,posts:b,isOpen:o,onClose:s,onSetPosts:f}))},me=function(e){var t,a,l,b=e.savedEvent,f=Object(c.e)(),E=f.isCreate,g=f.isEdit,h=f.formSection,y=Object(m.a)(),D=y.isOpen,x=y.onOpen,C=y.onClose,O=Object(m.a)(),w=O.isOpen,M=O.onOpen,N=O.onClose,T=Object(i.b)("ctfForms","events")[1],L={eventId:"OCS"+o()(new Date).format("YYYYDDD")+Math.floor(Math.random()*Math.floor(1e6)),eventTitle:"",eventStartDate:new Date,activeIndicator:!0,attachments:[],managementTypeCode:"mg",eventTypeId:"General",eventSummary:"",evacStatusCode:"NONE",evacSummary:"",impactedPosts:[],lastUpdatedDateTime:new Date},z=Object(j.c)({mode:"onBlur",defaultValues:null!=b?b:L}),A=z.register,R=z.handleSubmit,G=z.getValues,U=Object(n.useCallback)((function(e,t){var a;void 0===t&&(t=!1),e.lastUpdatedDateTime=new Date,e.impactedPosts=null!==(a=e.impactedPosts)&&void 0!==a?a:[],e.attachments=[];var n=Object(i.a)("ctfForms","events",[]);if(g){var r=n.findIndex((function(t){return t.eventId===e.eventId})),l=Object.assign({},n[r],e);n.splice(r,1,l)}else n.push(e);T(n),M(),setTimeout((function(){if(t)N();else{var e={eventId:G("eventId"),formSection:h};Object(s.a)("/event",{state:e}),N()}}),2e3)}),[T,g,M,N,G,h]);return g?(t="Edit Event Details",a="Edit the basic information related to the developing crisis.",l=[{label:"Event",onClick:x},{label:"Edit Event Details"}]):(t="Create New Event",a="Enter the basic information related to the developing crisis. You can add more details later as the event unfolds."),r.a.createElement(S.a,{pageTitle:"Event Details",pageHeading:t,pageDescription:a,breadcrumbs:l},r.a.createElement(j.b,z,r.a.createElement(c.b,{name:"eventForm",id:"eventForm",onSubmit:R((function(e){U(e,!1)})),noValidate:!0},r.a.createElement("input",{name:"eventId",type:"hidden",ref:A}),(E||g&&"overview"===h)&&r.a.createElement(P,{hideTitle:g}),(E||g&&"overview"===h)&&r.a.createElement(Y,null),(E||g&&"overview"===h)&&r.a.createElement(se,{impactedPosts:null==b?void 0:b.impactedPosts}),(E||g&&"evacuation"===h)&&r.a.createElement(k,null),r.a.createElement(u.a,{as:"nav","aria-label":"page",id:"pageNav",gridColumn:"1 / -1",align:"center",justify:{base:"flex-end",md:"flex-start"},marginTop:{md:"72"}},r.a.createElement(d.a,{marginRight:"20"},r.a.createElement(v.p,{type:"button",onClick:x},"Cancel")),r.a.createElement(v.a,{type:"submit",size:g?"sm":"md"},g?"Save":"Create Event")),r.a.createElement(p.a,{isOpen:D,onClose:C,onLeave:function(){if(E)Object(s.a)("/");else{var e={eventId:G("eventId"),formSection:h};Object(s.a)("/event",{state:e})}}}),r.a.createElement(I,{isOpen:w,onClose:N,message:E?"Creating crisis event.":"Saving crisis information."}))))},ue=(a("RW0V"),a("CjxU")),de=a("+Cyc"),ve=Object(K.a)(r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75 2.53-2.54z"}),"EditSharp"),pe=function(e){var t,a,n,l=e.eventData,o=null===(t=z.find((function(e){return e.value===l.eventTypeId})))||void 0===t?void 0:t.label,i=null===(a=L.find((function(e){return e.value===l.managementTypeCode})))||void 0===a?void 0:a.label,c=null===(n=w.find((function(e){return e.value===l.evacStatusCode})))||void 0===n?void 0:n.label,m=l.talkingPoints,p=l.impactedPosts,b=m&&m.fileName?m.fileName:"Talking Points SOP.docx",f=!!l.activeIndicator;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},r.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},r.a.createElement(d.a,null,r.a.createElement(v.l,null,"Event Details")),r.a.createElement(d.a,null,r.a.createElement(v.p,{buttonIcon:{mdIcon:ve,alignment:v.n.LEFT,color:"clickable"},onClick:function(){var e={eventId:l.eventId,isEdit:!0,formSection:"overview"};Object(s.a)("/event",{state:e})}}," Edit"))),r.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 4",lg:"span 2"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Status")),r.a.createElement(B.a,{fontFamily:"default",color:f?"success":"label",fontSize:"base",fontWeight:"h3",lineHeight:"normal",margin:0},fe(f?"Active":"Inactive"))),r.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 4",lg:"7 / 9"},gridRow:{md:"3",lg:"auto"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Event Type")),r.a.createElement(v.v,null,fe(o))),r.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 4",lg:"3 / 5"},gridRow:{lg:"2"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Start Date")),r.a.createElement(v.v,null,fe(be(l.eventStartDate)))),r.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 4",lg:"5 / 7"},gridRow:{lg:"2"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"End Date")),r.a.createElement(v.v,null,fe(be(l.eventEndDate)))),r.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 4",lg:"span 2"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Management Type")),r.a.createElement(v.v,null,fe(i))),r.a.createElement(d.a,{gridColumn:{base:"span 2",md:"span 4",lg:"span 2"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Evacuation Status")),r.a.createElement(v.v,null,fe(c))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Event Description")),r.a.createElement(v.v,null,fe(l.eventSummary)))),r.a.createElement(d.a,{gridColumn:"1 / -1",marginY:"16"},r.a.createElement(G.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})),r.a.createElement(O.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(8, 1fr)",lg:"repeat(12, 1fr)"}},r.a.createElement(d.a,{gridColumn:"1 / -1"},r.a.createElement(v.l,null,"Talking Points")),r.a.createElement(d.a,{gridColumn:"1 / -1"},r.a.createElement(v.v,null,"Default Talking Points have been added, pending new Talking Points.")),r.a.createElement(d.a,{gridColumn:{base:"1 / -1"},marginTop:{base:"24",sm:"0",md:"24"}},r.a.createElement(d.a,{mb:{base:"4px",md:"-12px"}},r.a.createElement(v.h,{color:"label"},"Uploaded file"))),r.a.createElement(d.a,{gridColumn:"1 / -1"},r.a.createElement(v.c,{id:"talkingPointItem"},r.a.createElement(u.a,{w:"full",my:{base:"-8px",sm:"-0px"},flexDir:{base:"row"}},r.a.createElement(u.a,{flexGrow:1,justifyContent:"flex-start"},r.a.createElement(v.o,{href:m?""+m.fileDataURL:"https://clmccm-usdos.msappproxy.net/ccm/resource/itemName/com.ibm.team.workitem.Attachment/13685",download:b},b)))))),r.a.createElement(d.a,{gridColumn:"1 / -1",marginY:"16"},r.a.createElement(G.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})),r.a.createElement(O.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(8, 1fr)",lg:"repeat(12, 1fr)"}},r.a.createElement(d.a,{gridColumn:"1 / -1"},r.a.createElement(v.l,null,"Impacted Posts")),r.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},r.a.createElement(v.v,null,r.a.createElement(B.a,{color:"required",as:"span"},"* "),"Which Consular Posts are impacted by this event?  For a list of posts,"," ",r.a.createElement(v.o,{href:"http://fam.a.state.sbu/fam/02FAM/02FAM0460.html#M463",target:"_blank",rel:"noreferrer noopener"},"consult the FAM"),".")),r.a.createElement(O.a,{gridColumn:{base:"1 / -1"},templateRows:{base:"1fr 1fr"},rowGap:{base:"16px",md:"24px"}},p&&p.map((function(e){return r.a.createElement(v.c,{id:"ctfPost",maxWidth:"full",key:e.postValue+"-"+e.countryValue},r.a.createElement(u.a,{w:"full",my:{base:"-8px",sm:"-12px"},flexDir:{base:"row"}},r.a.createElement(d.a,{flexGrow:1},r.a.createElement(d.a,{pb:4},r.a.createElement(v.h,{color:"label"},e.countryName)),r.a.createElement(v.v,null,"U.S. Embassy in ",e.postLabel,", ",e.countryValue))))})))))},be=function(e){return e?o()(e).format("MM/DD/YYYY"):""},fe=function(e){return e||"-"},Ee=a("eJLp"),ge={default:{bg:"badge",color:"white",border:"none"},hoverFocus:{borderStyle:"solid",borderWidth:"2",borderColor:"accent"},active:{bg:"#a30014",border:"none"}},he=function(e){var t=e.isOpen,a=e.onCancel,n=e.onConfirm,l=e.locationName,o=e.isActivate,i=o?"Activate":"Deactivate";return r.a.createElement(v.q,{isOpen:t,onClose:a,isCentered:!0,size:"sm"},r.a.createElement(v.u,null,r.a.createElement(v.m,null,i," Last Known Location?")),r.a.createElement(v.s,null),r.a.createElement(v.r,null,r.a.createElement(v.v,null,"Are you sure you want to ",i.toLocaleLowerCase()," ",null!=l?l:"this last known location?","?")),r.a.createElement(v.t,null,r.a.createElement(u.a,{align:"center"},r.a.createElement(d.a,{marginRight:"20"},r.a.createElement(v.p,{onClick:a},"Cancel")),void 0===o?r.a.createElement(v.a,{size:"sm",onClick:n},"YES"):o?r.a.createElement(v.a,{size:o?"md":"sm",onClick:n},i):r.a.createElement(Ee.a,Object.assign({height:"input",width:"buttonMd",textAlign:"center",borderRadius:0,fontFamily:"body",fontSize:"button",fontWeight:"button",px:20,py:12},ge.default,{_focus:ge.hoverFocus,_hover:ge.hoverFocus,_active:ge.active,onClick:n}),r.a.createElement(d.a,{flex:"1 1 0",lineHeight:"normal"},i)))))},ye=Object(K.a)(r.a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}),"ExpandLessSharp"),De=Object(K.a)(r.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreSharp"),xe=Object(K.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})),"LocationOnSharp"),Ce=Object(K.a)(r.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonSharp"),Ie=Object(K.a)(r.a.createElement("path",{d:"M22 4H2v16h20V4zm-2 4l-8 5-8-5V6l8 5 8-5v2z"}),"EmailSharp"),je=Object(K.a)(r.a.createElement("path",{d:"M21 15.46l-5.27-.61-2.52 2.52c-2.83-1.44-5.15-3.75-6.59-6.59l2.53-2.53L8.54 3H3.03C2.45 13.18 10.82 21.55 21 20.97v-5.51z"}),"PhoneSharp"),Se=a("ZMKu"),Oe=Se.b.custom(d.a),we=function(e){var t=e.lklData,a=e.setEventData,l=Object(i.b)("ctfForms","events"),o=l[0],c=l[1],s=t.activeIndicator,p=Object(n.useState)(!0),b=p[0],f=p[1],E=Object(n.useState)(!1),g=E[0],h=E[1],y=Object(n.useState)(1),D=y[0],x=y[1],C=Object(m.a)(),I=C.isOpen,j=C.onOpen,S=C.onClose,O={mr:4,alignSelf:"center",size:"iconPoc",color:"label"},w={display:"inline-block",py:4,fontWeight:600,fontSize:16,color:"headingLarge"},k=[{label:"Edit Location",value:"Edit",onClick:function(){}},{label:s?"Deactivate":"Activate",value:"Deactivate",type:s?"error":"primary",onClick:function(){j()}}],M=t.lookupLklDto,N=M.lklTitle,T=M.locationDesc,L=M.lklAddressDto,z=M.lklPocListDto,A=L.addressDto,P=A.address1,R=A.address2,F=A.city,Y=A.stateCd,Z=A.postalCode,V=A.countryCd,H=P+" "+R+", "+("US"===V?F+", "+Y+", "+Z:F+", "+Z)+", "+V,X=[];return z.map((function(e){var t={fullName:"",phone:Array(),email:Array()},a=e.personDto,n=a.givenName,r=a.surName,l=a.personEmailDtoList,o=a.personPhoneDtoList;t.fullName=n+" "+r,o.map((function(e){t.phone.push(e.phoneDto.phoneNum)})),l.map((function(e){t.email.push(e.emailDto.emailAddress)})),X.push(t)})),r.a.createElement(d.a,null,r.a.createElement(d.a,{backgroundColor:s?"success":"silver",h:3,w:"full"}),r.a.createElement(v.c,{id:"lklCard",maxWidth:"full"},r.a.createElement(u.a,{w:"full",mt:{base:"-8px",sm:"-16px"}},r.a.createElement(u.a,{flexDir:{base:"column",xl:"row"},flexGrow:1},r.a.createElement(d.a,{flexBasis:{xl:"65%"}},r.a.createElement(v.v,null,N)),r.a.createElement(d.a,{mb:4,flexBasis:{xl:"35%"}},r.a.createElement(v.h,{color:"label"},"U.S. Embassy in ",F,", ",V))),r.a.createElement(d.a,{position:"relative",right:{base:"-12px",sm:"-20px",md:"-12px"}},r.a.createElement(U.a,{options:k,borderedRows:!0,width:"10rem",label:"Additional actions for "+N},r.a.createElement(d.a,{as:W.a,color:"clickable"}))),r.a.createElement(he,{isOpen:I,onCancel:S,locationName:N,isActivate:!s,onConfirm:function(){var e=null,n=o.findIndex((function(a){var n=null;return a.eventId===t.eventId&&(n=a.eventLklDtoList.find((function(a,n){return a.eventLklId===t.eventLklId&&(e=n,!0)}))),!!n})),r=o[n].eventLklDtoList[e],l=o[n].eventLklDtoList;l.splice(e,1,Object.assign({},r,{activeIndicator:!s,lastUpdatedDateTime:new Date}));var i=Object.assign({},o[n],{eventLklDtoList:l});a(i),o.splice(n,1,i),c(o),S()}})),r.a.createElement(u.a,{mt:8,mb:-12},r.a.createElement(d.a,{as:"button",display:"inline-flex",cursor:"pointer",border:"none",backgroundColor:"transparent",onClick:function(){h(!g)},"aria-expanded":g,"aria-controls":"detailsToggleButton","aria-label":"Details toggle button for "+N,color:"clickable"},r.a.createElement(B.a,{my:0,fontSize:16},"Details"),g?r.a.createElement(ye,null):r.a.createElement(De,null))),g?r.a.createElement(d.a,{id:"detailsToggleButton",position:"relative",overflow:"hidden"},r.a.createElement(G.a,{borderColor:"silver",my:16}),r.a.createElement(d.a,{display:{xl:"none"}},r.a.createElement(u.a,{mb:16},r.a.createElement(de.a,Object.assign({},w,{borderWidth:0,borderBottom:b?3:0,borderBottomColor:"accent",borderStyle:"solid",color:"headingSmall",_hover:b?{}:{color:"clickable",borderBottomColor:"clickable",borderBottom:"3px",borderStyle:"solid"},onClick:function(){x(-1),f(!0)},mr:8}),r.a.createElement(B.a,{fontFamily:"headingSmall",margin:0,fontSize:"h4",fontWeight:"h4",lineHeight:"h4"},"Location")),r.a.createElement(d.a,{mx:8}),r.a.createElement(de.a,Object.assign({},w,{borderWidth:0,borderBottom:b?0:3,borderBottomColor:"accent",borderStyle:"solid",color:"headingSmall",_hover:b?{color:"clickable",borderBottomColor:"clickable",borderBottom:"3px",borderStyle:"solid"}:{},onClick:function(){x(1),f(!1)}}),r.a.createElement(B.a,{fontFamily:"headingSmall",margin:0,fontSize:"h4",fontWeight:"h4",lineHeight:"h4"},"Point of Contact"))),r.a.createElement(Se.a,{custom:D,initial:!1},r.a.createElement(Oe,{position:"relative",initial:{transform:"translateX("+(D<0?"-100%":"100%")+")"},transition:{type:"tween",duration:.5,ease:"easeInOut"},animate:{transform:"translateX(0%)"},exit:function(e){return{transform:"translateX("+(e<0?"100%":"-100%")+")"}},width:"100%"},b?r.a.createElement(d.a,{key:"1"},r.a.createElement(u.a,{mb:12},r.a.createElement(d.a,Object.assign({as:xe},O)),r.a.createElement(v.h,null,H)),r.a.createElement(d.a,{py:4},r.a.createElement(v.h,{color:"label"},"Description")),r.a.createElement(d.a,null,r.a.createElement(v.h,null,T))):r.a.createElement(d.a,{key:"2"},X.map((function(e,t){return r.a.createElement(u.a,{key:t,flexDir:{base:"column",md:"row"},border:1,borderStyle:"solid",borderColor:"silver",px:8,my:8,justifyContent:"space-around"},r.a.createElement(u.a,{py:4},r.a.createElement(d.a,Object.assign({as:Ce},O)),r.a.createElement(v.h,null,e.fullName)),e.email.map((function(e,t){return r.a.createElement(u.a,{py:4,key:t},r.a.createElement(d.a,Object.assign({as:Ie},O)),r.a.createElement(v.h,null,e))})),e.phone.map((function(e,t){return r.a.createElement(u.a,{py:4,key:t},r.a.createElement(d.a,Object.assign({as:je},O)),r.a.createElement(v.h,null,e))})))})))))),r.a.createElement(u.a,{display:{base:"none",xl:"flex"}},r.a.createElement(d.a,{flexBasis:{xl:"63%"}},r.a.createElement(d.a,{pb:16},r.a.createElement(v.m,null,"Location")),r.a.createElement(u.a,{mb:12},r.a.createElement(d.a,Object.assign({as:xe},O)),r.a.createElement(v.h,null,H)),r.a.createElement(d.a,{py:4},r.a.createElement(v.h,{color:"label"},"Description")),r.a.createElement(d.a,null,r.a.createElement(v.h,null,T))),r.a.createElement(G.a,{orientation:"vertical",flexBasis:{xl:"2%"},color:"silver"}),r.a.createElement(d.a,{flexBasis:{xl:"35%"}},r.a.createElement(d.a,{pb:16},r.a.createElement(v.m,null,"Point of Contact")),X.map((function(e,t){return r.a.createElement(u.a,{key:t,flexDir:"column",border:1,borderStyle:"solid",borderColor:"silver",px:8,my:8,justifyContent:"space-around",flexWrap:"wrap"},r.a.createElement(u.a,{py:4},r.a.createElement(d.a,Object.assign({as:Ce},O)),r.a.createElement(v.h,null,e.fullName)),e.email.map((function(e,t){return r.a.createElement(u.a,{py:4,key:t},r.a.createElement(d.a,Object.assign({as:Ie},O)),r.a.createElement(v.h,null,e))})),e.phone.map((function(e,t){return r.a.createElement(u.a,{py:4,key:t},r.a.createElement(d.a,Object.assign({as:je},O)),r.a.createElement(v.h,null,e))})))}))))):null))},ke=a("HJu1"),Me=a("l1im"),Ne=a("E2cU"),Te=v.b+" HH:mm:ss:SS ZZ",Le=function(e){var t,a,l=e.eventData,i=e.setEventData,c=null!==(t=null===(a=l.eventLklDtoList)||void 0===a?void 0:a.map((function(e){return Object.assign({},e,{createdDateTime:o()(e.createdDateTime,Te).toDate(),lastUpdatedDateTime:o()(e.lastUpdatedDateTime,Te).toDate()})})))&&void 0!==t?t:[],m=Object(n.useState)(1),p=m[0],b=m[1],f=Object(n.useState)(10),E=f[0],g=(f[1],Object(n.useState)(!0)),h=g[0],y=g[1];c.sort((function(e,t){var a,n,r=null!==(a=e.lastUpdatedDateTime)&&void 0!==a?a:new Date,l=null!==(n=t.lastUpdatedDateTime)&&void 0!==n?n:new Date;return r>l?-1:r<l?1:0}));var D=c.filter((function(e){return!h||e.activeIndicator})),x=Math.ceil(D.length/E);p>x&&b(x);var C=p*E,I=C-E,j=D.length>E?Math.ceil(D.length/E):1,S=1!==j?D.slice(I,C):D;return r.a.createElement(O.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},r.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},r.a.createElement(d.a,null,r.a.createElement(v.l,null,"Last Known Locations")),r.a.createElement(d.a,{display:{base:"none",md:"block"}},r.a.createElement(v.p,{buttonIcon:{mdIcon:Ne.a,alignment:v.n.LEFT,color:"clickable"},onClick:function(){var e={eventId:l.eventId};Object(s.a)("/addLKL",{state:e})}}," Add Location"))),r.a.createElement(d.a,{gridColumn:"1 / -1",mt:-16},r.a.createElement(v.v,null,"Manage the last known locations for U.S. citizens involved in this crisis.")),r.a.createElement(d.a,{bottom:"16px",zIndex:2,right:"16px",position:"fixed",display:{md:"none"}},r.a.createElement(Ee.a,{borderColor:"transparent",boxShadow:"0 6px 6px 0 rgba(0, 0, 0, 0.4)",color:"white",height:"40px",width:"40px",rounded:"round",bg:"clickable",cursor:"pointer",_hover:{bg:"secondary"},onClick:function(){return Object(s.a)("/addLKL")}},r.a.createElement(d.a,{as:Ne.a,size:"iconMobileCreate"}))),r.a.createElement(u.a,{gridColumn:{base:"1 / 3",md:"1 / -1"},gridRow:{base:"3",md:"auto"},justify:{base:"flex-start",md:"flex-end"}},r.a.createElement(ke.a,{onToggleHideInactive:function(){return y(!h)}})),S.map((function(e,t){return r.a.createElement(d.a,{key:t,gridColumn:"1 / -1"},r.a.createElement(we,{lklData:e,setEventData:i}))})),r.a.createElement(u.a,{gridColumn:"1 / -1",justify:"space-evenly"},r.a.createElement(v.v,null,c.length," results"),r.a.createElement(Me.a,{page:p,count:j,onChange:function(e,t){return b(t)},showLastButton:!0,size:"small"}),r.a.createElement("select",null,r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"20"},"20"))))},ze=function(e){var t,a=e.eventData,n=null===(t=w.find((function(e){return e.value===a.evacStatusCode})))||void 0===t?void 0:t.label;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{gridColumn:"1 / -1",gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)",lg:"repeat(12, 1fr)"}},r.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},r.a.createElement(d.a,null,r.a.createElement(v.l,null,"Evacuation Details")),r.a.createElement(d.a,null,r.a.createElement(v.p,{buttonIcon:{mdIcon:ve,alignment:v.n.LEFT,color:"clickable"},onClick:function(){var e={eventId:a.eventId,isEdit:!0,formSection:"evacuation"};Object(s.a)("/event",{state:e})}}," Edit"))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",md:"span 4"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Evacuation Status")),r.a.createElement(v.v,null,Pe(n))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",sm:"span 2",md:"span 4",lg:"span 3"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Departure Authorized")),r.a.createElement(v.v,null,Pe(Ae(a.evacDepAuthDate)))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1",sm:"span 2",md:"span 4"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Departure Ordered")),r.a.createElement(v.v,null,Pe(Ae(a.evacDepOrdDate)))),r.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Evacuation Summary")),r.a.createElement(v.v,null,Pe(a.evacSummary)))),r.a.createElement(d.a,{gridColumn:"1 / -1",marginY:"16"},r.a.createElement(G.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})))},Ae=function(e){return e?o()(e).format("MM/DD/YYYY"):""},Pe=function(e){return e||"-"};function Re(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ue=function(e){var t=e.attachmentDto,a=e.eventData,l=e.setAttachmentDtoList,o=e.setEventData,c=e.setErrorMsg,s=a.attachments,p=Object(i.b)("ctfForms","events"),b=p[0],f=p[1],E=Object(m.a)(),g=E.isOpen,h=E.onOpen,y=E.onClose,D=Object(n.useRef)(null),x=["image/jpeg","image/gif","image/png","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/rtf","application/pdf"],C=[{label:"Replace",value:"Replace",onClick:function(){var e;null===(e=D.current)||void 0===e||e.click()}},{label:"Remove",value:"Remove",onClick:function(){h()}}];return r.a.createElement(d.a,null,r.a.createElement(v.c,{id:"attachmentCard",maxWidth:"full"},r.a.createElement(u.a,{w:"full",my:{base:"-8px",sm:"-12px"},flexDir:{base:"row"}},r.a.createElement(u.a,{flexGrow:1,justifyContent:"flex-start"},r.a.createElement(v.o,{href:""+t.fileDataURL,download:t.fileName},t.fileName)),r.a.createElement(u.a,{display:{base:"none",md:"flex"},flexGrow:1,justifyContent:"flex-end"},r.a.createElement(v.o,{onClick:function(e){var t;e.preventDefault(),c(""),null===(t=D.current)||void 0===t||t.click()}},"Replace"),r.a.createElement(d.a,{mx:24},r.a.createElement(G.a,{position:"absolute",h:{base:16,sm:16},top:{base:-12,sm:-16},orientation:"vertical",color:"silver"})),r.a.createElement(v.o,{onClick:function(e){e.preventDefault(),h()}},"Remove"),r.a.createElement(F,{type:"attachment",isOpen:g,onCancel:y,onConfirm:function(){var e,n=null==s?void 0:s.indexOf(t);a.attachments=null==s?void 0:s.filter((function(e,t){return t!==n})),l(null!==(e=a.attachments)&&void 0!==e?e:[]),o(a);var r=b.findIndex((function(e){return e.eventId===a.eventId}));b.splice(r,1,a),f(b),y()}})),r.a.createElement(u.a,{display:{md:"none"},justifyContent:"flex-end"},r.a.createElement(d.a,{position:"relative",right:{base:"-12px"}},r.a.createElement(U.a,{options:C,borderedRows:!0,width:"10rem",label:"Additional actions for "+t.fileName},r.a.createElement(d.a,{as:W.a,color:"clickable"})))))),r.a.createElement(R.a,{as:"input",type:"file",ref:D,name:"talkingPoints","aria-hidden":!0,tabIndex:-1,accept:x.join(),onChange:function(e){var n,r,i=e.target.files[0];x.includes(i.type)?(n=i,(r=new FileReader).readAsDataURL(n),r.onload=function(){if(a&&a.attachments){a.attachments[a.attachments.indexOf(t)]={fileName:n.name,fileSize:n.size,fileMimeType:n.type,fileDataURL:r.result},l(Re(a.attachments)),o(a);var e=b.findIndex((function(e){return e.eventId===a.eventId}));b.splice(e,1,a),f(b)}}):c("File type must be one of .jpg .jpeg .gif .png .xls .xlsx .doc .docx .txt .rtf .pdf")}}))},Fe=function(e){var t=e.eventData,a=e.setEventData,l=t.attachments,o=Object(i.b)("ctfForms","events"),c=o[0],s=o[1],m=Object(n.useState)(""),p=m[0],b=m[1],f=Object(n.useState)(0),E=f[0],g=f[1],h=Object(n.useState)(null!=l?l:[]),y=h[0],D=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{gridGap:{base:"16px",md:"24px"},gridTemplateColumns:{base:"repeat(4, 1fr)",md:"repeat(12, 1fr)"}},r.a.createElement(u.a,{gridColumn:"1 / -1",align:"center",justify:"space-between"},r.a.createElement(d.a,null,r.a.createElement(v.l,null,"Attachments"))),r.a.createElement(d.a,{gridColumn:"1 / -1"},r.a.createElement(v.v,null,"Add additional attachments related to this event.")),r.a.createElement(d.a,{gridColumn:{base:"1 / -1"}},r.a.createElement(d.a,{mb:4},r.a.createElement(v.h,{color:"label"},"Attachments")),r.a.createElement(v.g,{id:"attachments",maxSizeBytes:5242880,allowedFileTypes:[".jpg",".jpeg",".gif",".png",".xls",".xlsx",".doc",".docx",".txt",".rtf",".pdf"],progress:E,onDrop:function(e,n){g(0);var r,l=n[0],o=new FileReader;o.readAsDataURL(l),o.onload=function(){var e,n;r={fileName:l.name,fileSize:l.size,fileMimeType:l.type,fileDataURL:o.result},null===(e=t.attachments)||void 0===e||e.push(r),D(null!==(n=t.attachments)&&void 0!==n?n:[]),a(t);var i=c.findIndex((function(e){return e.eventId===t.eventId}));c.splice(i,1,t),s(c)},g(100),b("")},handleRejectedFiles:function(e,t){b(t[0].errors[0])}}),""!==p&&r.a.createElement(v.v,{color:"error"},p)),y.map((function(e,n){return r.a.createElement(d.a,{key:n,gridColumn:"1 / -1"},r.a.createElement(Ue,{eventData:t,setEventData:a,setErrorMsg:b,setAttachmentDtoList:D,attachmentDto:e}))}))))};var We=[{label:"Event Overview",value:"overview"},{label:"Last Known Locations",value:"locations"},{label:"Evacuation",value:"evacuation"},{label:"Attachments",value:"attachments"}],Ye=function(e){var t=e.onClick,a=e.isActive,n=e.children,l=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["onClick","isActive","children"]),o=Object(ue.b)();return r.a.createElement(de.a,Object.assign({},l,{as:"button",display:"inline-flex",alignItems:"flex-end",textAlign:"center",border:"none",borderRadius:0,background:"none",p:0,fontFamily:"body",fontSize:"base",fontWeight:"h4",color:"primary",borderBottom:"3",borderColor:a?"accent":"transparent",cursor:"pointer",_focus:{outline:"2px solid "+o.colors.primary},_hover:{outline:"none",borderColor:a?void 0:"clickable",color:a?void 0:"clickable"},onClick:t}),r.a.createElement(d.a,{flex:"1 1 0",lineHeight:"linkButton"},n))},Be=function(e){var t=e.savedEvent,a=Object(c.e)().formSection,l=Object(n.useState)(t),o=l[0],i=l[1],s=null!=t?t:{eventId:"",eventTitle:"",managementTypeCode:"",eventTypeId:""},m=Object(n.useState)(a),u=m[0],p=m[1],b="overview"===u,f="locations"===u,E="evacuation"===u,g="attachments"===u,h=function(e,t){p(t),e.currentTarget.blur()};return r.a.createElement(S.a,{pageTitle:"View Event",pageHeading:s.eventTitle},r.a.createElement(d.a,{gridColumn:"1 / -1"},r.a.createElement(d.a,{marginTop:"12",display:{md:"none"}},r.a.createElement(v.w,{id:"eventTab",name:"eventTab","aria-label":"Event Tab",options:We,size:"full",onChange:function(e){var t;p(null===(t=e.selectedItem)||void 0===t?void 0:t.value)},value:u})),r.a.createElement(d.a,{marginTop:"12",display:{base:"none",md:"block"}},r.a.createElement(Ye,{isActive:b,onClick:function(e){return h(e,"overview")},marginRight:{base:"48",xl:"72"}},"Event Overview"),r.a.createElement(Ye,{isActive:f,onClick:function(e){return h(e,"locations")},marginRight:{base:"48",xl:"72"}},"Last Known Locations"),r.a.createElement(Ye,{isActive:E,onClick:function(e){return h(e,"evacuation")},marginRight:{base:"48",xl:"72"}},"Evacuation"),r.a.createElement(Ye,{isActive:g,onClick:function(e){return h(e,"attachments")},marginRight:{base:"48",xl:"72"}},"Attachments")),r.a.createElement(d.a,{gridColumn:"1 / -1",marginTop:{base:"16",md:"-3px"},marginBottom:"16"},r.a.createElement(G.a,{borderColor:"disabledDark",marginY:"2",marginX:0,opacity:1})),f?r.a.createElement(Le,{eventData:o,setEventData:i}):E?r.a.createElement(ze,{eventData:s}):g?r.a.createElement(Fe,{eventData:s,setEventData:i}):r.a.createElement(pe,{eventData:s})))};t.default=function(e){var t,a,n,l,s;if(null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.eventId){var m=Object(i.a)("ctfForms","events");(s=m&&m.find((function(t){var a,n;return t.eventId===(null===(a=e.location)||void 0===a||null===(n=a.state)||void 0===n?void 0:n.eventId)})))&&(s.evacDepAuthDate&&(s.evacDepAuthDate=o()(s.evacDepAuthDate).toDate()),s.evacDepOrdDate&&(s.evacDepOrdDate=o()(s.evacDepOrdDate).toDate()),s.eventStartDate&&(s.eventStartDate=o()(s.eventStartDate).toDate()),s.eventEndDate&&(s.eventEndDate=o()(s.eventEndDate).toDate()),s.lastUpdatedDateTime&&(s.lastUpdatedDateTime=o()(s.lastUpdatedDateTime).toDate()))}var u=void 0===s?"create":e.location.state.isEdit?"edit":"view";return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{formMode:u,formSection:null!==(n=null===(l=e.location.state)||void 0===l?void 0:l.formSection)&&void 0!==n?n:"overview"},"view"===u?r.a.createElement(Be,{savedEvent:s}):r.a.createElement(me,{savedEvent:s})))}}}]);
//# sourceMappingURL=component---src-pages-event-tsx-6da44358a0e72ca8691d.js.map